import{u as E,a as O}from"./vendor-vue-router-PmQVL-xb.js";import{a as j}from"./vendor-axios-Hz4xvOoZ.js";import{s as x}from"./index-BFwD7SI8.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as N,E as V,h as m,i as a,k as _,m as v,b as R,e as w,F as q,l as z,r as A,o as n,j as P,a as K}from"./vendor-vue/runtime-core-CL52-QWR.js";import{t as s,b as C}from"./vendor-vue/shared-lLteBOIO.js";import{r as y}from"./vendor-vue/reactivity-CqT5sv9X.js";import"./vendor-process-DXjpGiAn.js";import"./solana-vendors-DGPAp7Fj.js";import"./vendor-buffer-DVXvU5G6.js";import"./vendor-base64-js-C2zTC7ec.js";import"./vendor-ieee754-vIlwft-x.js";import"./vendor-events-cQ9mhZQJ.js";import"./vendor-lodash.isequal-D20p4pc-.js";import"./vendor-elliptic-BTxzAQL_.js";import"./vendor-minimalistic-assert-OF9c2MWr.js";import"./vendor-minimalistic-crypto-utils-DpWPKLSp.js";import"./vendor-brorand-6pV8Y5jC.js";import"./vendor-crypto-browserify-NMg_40A5.js";import"./vendor-randombytes-ndKo2FAH.js";import"./vendor-safe-buffer-BPihLaHX.js";import"./vendor-create-hash-BsmGkCgx.js";import"./vendor-inherits-BICa84dG.js";import"./vendor-md5.js-BmCTTIue.js";import"./vendor-hash-base-CXljNKss.js";import"./vendor-readable-stream-BpYOL4VF.js";import"./vendor-asn1.js-Cgb4HcA4.js";import"./vendor-util-deprecate-C5bwERXh.js";import"./vendor-string_decoder-CzqD1_ea.js";import"./vendor-ripemd160-B-g9_ZaO.js";import"./vendor-sha.js-C_Iv65sP.js";import"./vendor-cipher-base-CVoreX1z.js";import"./vendor-stream-browserify-BiXhMpOM.js";import"./vendor-create-hmac-Dt8PQ7js.js";import"./vendor-browserify-sign-DLX2f2Lw.js";import"./vendor-process-nextick-args-DZA8cFXf.js";import"./vendor-core-util-is-OG-hh3cz.js";import"./vendor-browserify-rsa-DRghgnJS.js";import"./vendor-bn.js-CN51n21Z.js";import"./vendor-parse-asn1-CnRUGrVC.js";import"./vendor-evp_bytestokey-V5JLH1pP.js";import"./vendor-browserify-aes-Dzp1Wr7h.js";import"./vendor-buffer-xor-BGVZWPAd.js";import"./vendor-pbkdf2-D8c51p7I.js";import"./vendor-browserify-cipher-CRpPeA_V.js";import"./vendor-browserify-des-7ZFmx5Md.js";import"./vendor-des.js-DyWMuwdI.js";import"./vendor-diffie-hellman-CdruneMD.js";import"./vendor-miller-rabin-D60nYGZr.js";import"./vendor-create-ecdh-D3sJE6Oq.js";import"./vendor-public-encrypt-BRl7BMPZ.js";import"./vendor-randomfill-PyDjCq6P.js";import"./vendor-hash.js-Dda3EUYz.js";import"./vendor-hmac-drbg-Ss9liF53.js";import"./vendor-vue/runtime-dom-Ll8vq9eS.js";import"./vendor-vueuse/core-Dowf-keF.js";import"./vendor-vueuse/shared-D4hqHlE2.js";import"./vendor-eventemitter3-C1FPriCL.js";import"./vendor-bignumber.js-Dj_rIxHg.js";import"./vendor-bigint-buffer-5mUCZ2jv.js";import"./vendor-noble/ed25519-DHS8bCE8.js";import"./vendor-node-fetch-DFwHyKwz.js";import"./vendor-url-Fv_L5Bhg.js";import"./vendor-qs-CKXrMD_V.js";import"./vendor-side-channel-CjkecZmv.js";import"./vendor-es-errors-CxTyLFAO.js";import"./vendor-object-inspect-C0kqJKki.js";import"./vendor-side-channel-list-DJbPV7dX.js";import"./vendor-side-channel-map-OCAkmCSB.js";import"./vendor-get-intrinsic-Ci-jyTpD.js";import"./vendor-es-object-atoms-BR76m4z7.js";import"./vendor-math-intrinsics-DP1tGiab.js";import"./vendor-gopd-C1lCZ5Qs.js";import"./vendor-es-define-property-D_7cP-M3.js";import"./vendor-has-symbols-CySAGvJ4.js";import"./vendor-get-proto-BI0zWv-p.js";import"./vendor-dunder-proto-5sdYuMkY.js";import"./vendor-call-bind-apply-helpers-BfAPCzjd.js";import"./vendor-function-bind-CHqF18-c.js";import"./vendor-hasown-CH2RbkDu.js";import"./vendor-call-bound-nPIHF2bX.js";import"./vendor-side-channel-weakmap-D938crsm.js";import"./vendor-whatwg-url-BNoC3hI6.js";import"./vendor-webidl-conversions-DuBT_cRJ.js";import"./vendor-punycode-BGZJxaHx.js";import"./vendor-tr46-_6nBz5KS.js";import"./vendor-mime-DOJa-gVj.js";import"./vendor-assert-CCtLV3vt.js";import"./vendor-util-BEO2nGWh.js";import"./vendor-is-arguments-D-oLGwWh.js";import"./vendor-has-tostringtag-BU9GnA_1.js";import"./vendor-is-generator-function-Bk_W3rfd.js";import"./vendor-safe-regex-test-BtqTbUmV.js";import"./vendor-is-regex-BKTFpgjH.js";import"./vendor-which-typed-array-Bufg-IXZ.js";import"./vendor-for-each-HvIZAWYy.js";import"./vendor-is-callable-BYFz_UGF.js";import"./vendor-available-typed-arrays-uQGnJldC.js";import"./vendor-possible-typed-array-names-BKRybAhF.js";import"./vendor-call-bind-3YpglFCb.js";import"./vendor-set-function-length-Cm7PFPrZ.js";import"./vendor-define-data-property-BppnLwnj.js";import"./vendor-has-property-descriptors-ChC8uhsk.js";import"./vendor-is-typed-array-CZaxorcA.js";import"./vendor-object.assign-D0NKsUk4.js";import"./vendor-object-keys-BRu_Tray.js";import"./vendor-object-is-DkNyiNMZ.js";import"./vendor-define-properties-CgTwYkbs.js";import"./vendor-is-nan-BtAA6g8u.js";import"./vendor-debug-DLVl9QA3.js";import"./vendor-ms-CzQ2E3wO.js";import"./vendor-babel/runtime-w7AU6ifp.js";import"./vendor-js-sha3-DkKfOMXT.js";import"./vendor-typescript-collections-DaJ0MJpz.js";import"./vendor-lodash.clonedeep-C3jeG2fR.js";import"./vendor-ansicolors-BFAL4nhq.js";import"./vendor-bs58-DhqqakFZ.js";import"./vendor-base-x-BHV1Xppf.js";import"./vendor-base64url-D1J1q9RC.js";import"./vendor-arbundles-CR3XhIxB.js";import"./vendor-async-retry-DWdC6xTk.js";import"./vendor-retry-ByBYrtbW.js";import"./vendor-irys/arweave-CO_npObX.js";import"./vendor-safer-buffer-CIAg7E_-.js";import"./vendor-secp256k1-gx_3s_gH.js";import"./vendor-keccak-Bl_8Z6TM.js";import"./vendor-ethersproject/bytes-BFUO92dS.js";import"./vendor-ethersproject/logger-BIOSViGG.js";import"./vendor-ethersproject/wallet-_-D8aoNy.js";import"./vendor-ethersproject/address-C-94Rlzo.js";import"./vendor-ethersproject/keccak256-BpI13PIi.js";import"./vendor-ethersproject/rlp-L8r_OHwd.js";import"./vendor-ethersproject/bignumber-DuyZ-PBD.js";import"./vendor-ethersproject/abstract-provider-BJATZ19F.js";import"./vendor-ethersproject/properties-Bism-GXA.js";import"./vendor-ethersproject/abstract-signer-vaofOY7d.js";import"./vendor-ethersproject/strings-BqJBhWqj.js";import"./vendor-ethersproject/hdnode-De1GriMn.js";import"./vendor-ethersproject/basex-GbQJAx3e.js";import"./vendor-ethersproject/signing-key-DZY4IiDE.js";import"./vendor-ethersproject/sha2-C3DRumhS.js";import"./vendor-ethersproject/wordlists-Bgp1_tq6.js";import"./vendor-ethersproject/pbkdf2-RF0eycJB.js";import"./vendor-ethersproject/json-wallets-DmRppK22.js";import"./vendor-aes-js-CVO7b-af.js";import"./vendor-scrypt-js-pU08l4Iy.js";import"./vendor-ethersproject/random-UwHXQyRf.js";import"./vendor-ethersproject/hash-CaQkUgof.js";import"./vendor-ethersproject/transactions-DgEmUiir.js";import"./vendor-irys/sdk-zMcAFY0m.js";import"./vendor-irys/query-BJ-9co3k.js";import"./vendor-near-js/crypto-DYaHgGqH.js";import"./vendor-borsh-uT6VLZDJ.js";import"./vendor-text-encoding-utf-8-CyyJ4wbt.js";import"./vendor-tweetnacl-DH0kfJ7g.js";import"./vendor-crypto-js-TDtrdbi3.js";import"./vendor-near-js/types-BW5UzBhQ.js";import"./vendor-near-js/keystores-browser-C7Ipq7jt.js";import"./vendor-near-js/keystores-DZ_AKmgs.js";import"./vendor-near-js/transactions-CNW8gb_X.js";import"./vendor-js-sha256-J9Bkl3or.js";import"./vendor-ethersproject/contracts-BfB5cMkz.js";import"./vendor-ethersproject/abi-BZPj2eRn.js";import"./vendor-ethersproject/constants-DnPC-4nq.js";import"./vendor-aptos-COdaePwy.js";import"./vendor-scure/base-BmqIkRj2.js";import"./vendor-supercharge/promise-pool-CxlJr3BL.js";import"./vendor-noble/curves-Bi3lEKLw.js";import"./vendor-noble/hashes-DJrKYuPd.js";import"./vendor-jayson-C-feTq4c.js";import"./vendor-uuid-42xqzRtG.js";import"./vendor-rpc-websockets-CS_NMCMZ.js";import"./vendor-vuex-router-sync-DE8Azp4R.js";import"./vendor-vuex-KmQPsw4D.js";import"./vendor-vue/devtools-api-Cow_pXkh.js";import"./vendor-socket.io-client-Bfvk10tG.js";import"./vendor-engine.io-client-sigXSzQJ.js";import"./vendor-engine.io-parser-BiEtp6m2.js";import"./vendor-socket.io/component-emitter-Dkula2eQ.js";import"./vendor-socket.io-parser-Cuf20g09.js";const Y={name:"UserPublicNftsList",props:{userTag:{type:String,required:!0},nftsData:{type:Object,default:null},loading:{type:Boolean,default:!1},error:{type:String,default:null},activeTab:{type:String,default:"owned"}},setup(i,{emit:t}){const r=E(),e=O(),u=N(()=>{if(!i.nftsData)return[];switch(i.activeTab){case"owned":return i.nftsData.owned.nfts;case"rented":return i.nftsData.rented.nfts;case"created":return i.nftsData.created.nfts;default:return[]}}),T=N(()=>{if(!i.nftsData)return{total:0,page:1,limit:10,totalPages:0};switch(i.activeTab){case"owned":return i.nftsData.owned.pagination;case"rented":return i.nftsData.rented.pagination;case"created":return i.nftsData.created.pagination;default:return{total:0,page:1,limit:10,totalPages:0}}}),d=N(()=>{switch(i.activeTab){case"owned":return"hasn't minted any NFTs yet.";case"rented":return"hasn't rented any NFTs yet.";case"created":return"hasn't created any NFTs yet.";default:return"has no NFTs in this category."}}),o=l=>{switch(i.activeTab){case"owned":return"Minted on";case"rented":return"Rented on";case"created":return"Created on";default:return"Added on"}},b=l=>{t("changeTab",l)},h=l=>{l<1||l>T.value.totalPages||(e.push({path:r.path,query:{...r.query,page:l,tab:i.activeTab}}),window.scrollTo({top:0,behavior:"smooth"}))},k=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return V(()=>{const l=r.query.tab||"owned";l!==i.activeTab&&b(l)}),{currentNfts:u,currentPagination:T,emptyStateMessage:d,setCurrentTab:b,changePage:h,formatDate:k,store:x,getNftStatusText:o}}},H={class:"user-public-nfts"},W={class:"section-header"},G={class:"tab-container"},J={class:"tabs"},Q={class:"tabs-navigation"},X={key:0,class:"active-indicator"},Z={key:0,class:"active-indicator"},$={key:0,class:"active-indicator"},tt={class:"tab-content"},et={key:0,class:"loading-state"},at={key:1,class:"error-message"},ot={key:2,class:"empty-message"},rt={class:"empty-message-text"},it={key:2,class:"empty-message-text"},nt={key:3,class:"nfts-grid"},st={class:"nft-image-container"},lt=["src","alt"],mt={class:"nft-info"},dt={class:"nft-date"},ct={class:"nft-actions"},pt={key:0,class:"pagination"},ut=["disabled"],gt=["disabled"],ft={class:"pagination-info"},vt=["disabled"],bt=["disabled"];function Tt(i,t,r,e,u,T){const d=A("router-link");return n(),m("div",H,[a("div",W,[a("h2",null,s(r.userTag===e.store.getters.userTag?"Your":r.userTag)+" NFTs Collection",1)]),a("div",G,[a("div",J,[a("div",Q,[a("button",{class:C(["tab-button",{active:r.activeTab==="owned"}]),onClick:t[0]||(t[0]=o=>e.setCurrentTab("owned"))},[t[7]||(t[7]=a("i",{class:"fas fa-wallet tab-icon"},null,-1)),t[8]||(t[8]=v(" Owned ")),r.activeTab==="owned"?(n(),m("div",X)):_("",!0)],2),a("button",{class:C(["tab-button",{active:r.activeTab==="rented"}]),onClick:t[1]||(t[1]=o=>e.setCurrentTab("rented"))},[t[9]||(t[9]=a("i",{class:"fas fa-box-open tab-icon"},null,-1)),t[10]||(t[10]=v(" Rented ")),r.activeTab==="rented"?(n(),m("div",Z)):_("",!0)],2),a("button",{class:C(["tab-button",{active:r.activeTab==="created"}]),onClick:t[2]||(t[2]=o=>e.setCurrentTab("created"))},[t[11]||(t[11]=a("i",{class:"fas fa-paint-brush tab-icon"},null,-1)),t[12]||(t[12]=v(" Created ")),r.activeTab==="created"?(n(),m("div",$)):_("",!0)],2)])]),a("div",tt,[r.loading?(n(),m("div",et,t[13]||(t[13]=[a("div",{class:"spinner"},null,-1),a("p",null,"Loading NFTs...",-1)]))):r.error?(n(),m("p",at,s(r.error),1)):e.currentNfts.length===0?(n(),m("p",ot,[a("span",rt,s(r.userTag===e.store.getters.userTag?"You":"This user")+" "+s(e.emptyStateMessage),1),r.activeTab==="owned"?(n(),R(d,{key:0,to:"/nft-mint",class:"empty-message-button"},{default:w(()=>t[14]||(t[14]=[v("Mint New NFT")])),_:1})):_("",!0),r.activeTab==="rented"?(n(),R(d,{key:1,to:"/nft-rental",class:"empty-message-button"},{default:w(()=>t[15]||(t[15]=[v("Rent NFT")])),_:1})):_("",!0),r.activeTab==="created"?(n(),m("span",it,"Soon every BITCAT NFT holder will be able to create their own NFTs and trade them on a decentralized auction and more. We are working on it!")):_("",!0)])):(n(),m("div",nt,[(n(!0),m(q,null,z(e.currentNfts,(o,b)=>(n(),m("div",{key:b+o.assetPublicKey,class:"nft-card"},[a("div",st,[a("img",{src:o.imageUri,alt:o.name,class:"nft-image"},null,8,lt)]),a("div",mt,[a("h3",null,s(o.name),1),a("p",dt,s(e.getNftStatusText(o))+" "+s(e.formatDate(o.createdAt))+s(o.rentInfo?` for ${o.rentInfo.days}d`:""),1),a("div",ct,[P(d,{to:`/nft/${o.assetPublicKey}`,class:"view-button"},{default:w(()=>t[16]||(t[16]=[v(" View Details ")])),_:2},1032,["to"])])])]))),128))]))])]),e.currentPagination.totalPages>1?(n(),m("div",pt,[a("button",{onClick:t[3]||(t[3]=o=>e.changePage(1)),disabled:e.currentPagination.page===1,class:"pagination-button"}," « ",8,ut),a("button",{onClick:t[4]||(t[4]=o=>e.changePage(e.currentPagination.page-1)),disabled:e.currentPagination.page===1,class:"pagination-button"}," ‹ ",8,gt),a("div",ft," Page "+s(e.currentPagination.page)+" of "+s(e.currentPagination.totalPages),1),a("button",{onClick:t[5]||(t[5]=o=>e.changePage(e.currentPagination.page+1)),disabled:e.currentPagination.page===e.currentPagination.totalPages,class:"pagination-button"}," › ",8,vt),a("button",{onClick:t[6]||(t[6]=o=>e.changePage(e.currentPagination.totalPages)),disabled:e.currentPagination.page===e.currentPagination.totalPages,class:"pagination-button"}," » ",8,bt)])):_("",!0)])}const _t=M(Y,[["render",Tt],["__scopeId","data-v-18712f9b"]]),yt={name:"PlayerNftsPage",components:{UserPublicNftsList:_t},setup(){const i=E(),t=y(""),r=y(!0),e=y(null),u=y(null),T=y(!0),d=y(null),o=y("owned"),b=N(()=>t.value?t.value.charAt(0).toUpperCase():""),h=N(()=>x.getters.isAuthenticated&&t.value===x.getters.userTag),k=N(()=>{var p,S,U,L,I,B;if(!u.value)return 0;const c=((S=(p=u.value.owned)==null?void 0:p.pagination)==null?void 0:S.total)||0,g=((L=(U=u.value.rented)==null?void 0:U.pagination)==null?void 0:L.total)||0,f=((B=(I=u.value.created)==null?void 0:I.pagination)==null?void 0:B.total)||0;return c+g+f}),l=c=>{o.value=c},D=async(c=1)=>{var g,f;T.value=!0,d.value=null;try{const p=await j.get(`/nft-bitcat/user/${t.value}/nfts`,{params:{page:c,limit:10,tab:o.value}});p.data.success?u.value=p.data:d.value="Failed to load NFTs"}catch(p){console.error("Error fetching NFTs:",p),d.value=((f=(g=p.response)==null?void 0:g.data)==null?void 0:f.message)||"An error occurred while fetching NFTs"}finally{T.value=!1}},F=async()=>{var c,g;r.value=!0,e.value=null;try{t.value=i.params.userTag,await D()}catch(f){console.error("Error fetching user info:",f),e.value=((g=(c=f.response)==null?void 0:c.data)==null?void 0:g.message)||"User not found or an error occurred"}finally{r.value=!1}};return V(()=>{F()}),K(o,()=>{}),{userTag:t,loading:r,error:e,nftsData:u,nftsLoading:T,nftsError:d,activeTab:o,totalNfts:k,userInitial:b,isCurrentUser:h,setActiveTab:l}}},wt={class:"player-nfts-page"},ht={class:"container"},kt={key:0,class:"loading-state"},Pt={key:1,class:"error-state"},Nt={class:"user-profile"},Ct={class:"user-avatar"},Dt={class:"avatar-placeholder"},Ft={class:"user-info"},xt={class:"user-stats"},At={class:"stat-value"},St={class:"stat-value"},Ut={class:"stat-value"},Lt={class:"user-actions"};function It(i,t,r,e,u,T){var b,h,k,l,D,F,c,g,f;const d=A("router-link"),o=A("UserPublicNftsList");return n(),m("div",wt,[a("div",ht,[e.loading?(n(),m("div",kt,t[3]||(t[3]=[a("div",{class:"spinner"},null,-1),a("p",null,"Loading user information...",-1)]))):e.error?(n(),m("div",Pt,[a("p",null,s(e.error),1),P(d,{to:"/",class:"back-button"},{default:w(()=>t[4]||(t[4]=[v("Back to Home")])),_:1})])):(n(),m(q,{key:2},[a("div",Nt,[a("div",Ct,[a("span",Dt,s(e.userInitial),1)]),a("div",Ft,[a("h1",null,[P(d,{to:`/player/${e.userTag}`},{default:w(()=>[v(s(e.userTag),1)]),_:1},8,["to"])]),a("div",xt,[a("div",{class:C(["stat-item",{active:e.activeTab==="owned"}]),onClick:t[0]||(t[0]=p=>e.setActiveTab("owned"))},[a("span",At,s(((k=(h=(b=e.nftsData)==null?void 0:b.owned)==null?void 0:h.pagination)==null?void 0:k.total)||0),1),t[5]||(t[5]=a("span",{class:"stat-label"},"Owned",-1))],2),a("div",{class:C(["stat-item",{active:e.activeTab==="rented"}]),onClick:t[1]||(t[1]=p=>e.setActiveTab("rented"))},[a("span",St,s(((F=(D=(l=e.nftsData)==null?void 0:l.rented)==null?void 0:D.pagination)==null?void 0:F.total)||0),1),t[6]||(t[6]=a("span",{class:"stat-label"},"Rented",-1))],2),a("div",{class:C(["stat-item",{active:e.activeTab==="created"}]),onClick:t[2]||(t[2]=p=>e.setActiveTab("created"))},[a("span",Ut,s(((f=(g=(c=e.nftsData)==null?void 0:c.created)==null?void 0:g.pagination)==null?void 0:f.total)||0),1),t[7]||(t[7]=a("span",{class:"stat-label"},"Created",-1))],2)])]),a("div",Lt,[P(d,{to:"/nft-mint",class:"action-button mint-button"},{default:w(()=>t[8]||(t[8]=[v("Mint New NFT")])),_:1}),P(d,{to:"/nft-rental",class:"action-button rent-button"},{default:w(()=>[v("Rent "+s(e.isCurrentUser?"Out":"In"),1)]),_:1})])]),P(o,{userTag:e.userTag,nftsData:e.nftsData,loading:e.nftsLoading,error:e.nftsError,activeTab:e.activeTab,onChangeTab:e.setActiveTab},null,8,["userTag","nftsData","loading","error","activeTab","onChangeTab"])],64))])])}const tr=M(yt,[["render",It],["__scopeId","data-v-3b230cd5"]]);export{tr as default};
