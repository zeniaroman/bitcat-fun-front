import{d as m,r as P}from"./properties-Bism-GXA.js";import{L as h}from"./logger-BIOSViGG.js";import{B as p}from"./bignumber-DuyZ-PBD.js";const v="abstract-provider/5.8.0";var b=function(d,e,r,n){function o(t){return t instanceof r?t:new r(function(s){s(t)})}return new(r||(r=Promise))(function(t,s){function f(i){try{a(n.next(i))}catch(c){s(c)}}function l(i){try{a(n.throw(i))}catch(c){s(c)}}function a(i){i.done?t(i.value):o(i.value).then(f,l)}a((n=n.apply(d,e||[])).next())})};const g=new h(v);class u{constructor(){g.checkAbstract(new.target,u),m(this,"_isProvider",!0)}getFeeData(){return b(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield P({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let n=null,o=null,t=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,t=p.from("1500000000"),o=e.baseFeePerGas.mul(2).add(t)),{lastBaseFeePerGas:n,maxFeePerGas:o,maxPriorityFeePerGas:t,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}export{u as P};
