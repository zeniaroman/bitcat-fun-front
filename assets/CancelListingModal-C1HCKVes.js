import{w as c,v as f}from"./vendor-vue/runtime-dom-Ll8vq9eS.js";import{_ as r}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{h as n,i,H as p,k as _,m as u,o as d}from"./vendor-vue/runtime-core-CL52-QWR.js";import{t as a}from"./vendor-vue/shared-lLteBOIO.js";const g={name:"PlaceBidModal",props:{listing:{type:Object,required:!0},isSubmitting:{type:Boolean,default:!1}},data(){return{bidAmount:""}},computed:{minBidAmount(){const s=this.listing.highestBid||this.listing.initialPrice;return(parseFloat(s)+.01).toFixed(2)},isFormValid(){return this.bidAmount&&parseFloat(this.bidAmount)>=parseFloat(this.minBidAmount)}},methods:{formatPrice(s){return parseFloat(s).toFixed(3)},calculateFee(){return this.bidAmount?(parseFloat(this.bidAmount)*.05).toFixed(3):"0"},calculateTotal(){if(!this.bidAmount)return"0";const s=parseFloat(this.bidAmount),t=s*.05;return(s+t).toFixed(3)},submitBid(){this.isFormValid&&this.$emit("submit",{mintAddress:this.listing.mintAddress,amount:parseFloat(this.bidAmount)})}},mounted(){this.bidAmount=this.minBidAmount}},v={class:"bid-modal"},h={class:"bid-modal__box"},B={class:"bid-modal__nft-preview"},A={class:"bid-modal__nft-image-container"},F=["src","alt"],y={key:1,class:"bid-modal__nft-placeholder"},k={class:"bid-modal__nft-name"},C={class:"bid-modal__form-group"},S=["value"],x={class:"bid-modal__form-group"},P=["min"],L={class:"bid-modal__form-help"},w={class:"bid-modal__fee-summary"},M={class:"bid-modal__fee-row"},V={class:"bid-modal__fee-row bid-modal__fee-row--total"},T={class:"bid-modal__actions"},$=["disabled"],N={key:0,class:"bid-modal__spinner"};function O(s,t,e,b,m,l){return d(),n("div",v,[i("div",h,[t[11]||(t[11]=i("h3",{class:"bid-modal__title"},"Place Bid",-1)),i("div",B,[i("div",A,[e.listing.imageUrl?(d(),n("img",{key:0,src:e.listing.imageUrl,alt:e.listing.name,class:"bid-modal__nft-image"},null,8,F)):(d(),n("div",y,t[4]||(t[4]=[i("i",{class:"fas fa-image bid-modal__nft-placeholder-icon"},null,-1)])))]),i("h4",k,a(e.listing.name||`NFT #${e.listing.mintAddress.substring(0,8)}`),1)]),i("form",{onSubmit:t[2]||(t[2]=c((...o)=>l.submitBid&&l.submitBid(...o),["prevent"])),class:"bid-modal__form"},[i("div",C,[t[5]||(t[5]=i("label",{class:"bid-modal__form-label"},[i("span",{class:"bid-modal__form-label-text"},"Current Price")],-1)),i("input",{value:l.formatPrice(e.listing.highestBid||e.listing.initialPrice),type:"text",class:"bid-modal__form-input bid-modal__form-input--disabled",disabled:""},null,8,S)]),i("div",x,[t[6]||(t[6]=i("label",{class:"bid-modal__form-label"},[i("span",{class:"bid-modal__form-label-text"},"Your Bid (SOL)")],-1)),p(i("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>m.bidAmount=o),type:"number",step:"0.01",min:l.minBidAmount,placeholder:"Enter bid amount",class:"bid-modal__form-input",required:""},null,8,P),[[f,m.bidAmount]]),i("span",L,"Minimum bid: "+a(l.minBidAmount)+" SOL",1)]),i("div",w,[t[9]||(t[9]=i("h4",{class:"bid-modal__fee-title"},"Fees",-1)),i("div",M,[t[7]||(t[7]=i("span",null,"Marketplace Fee (5%)",-1)),i("span",null,a(l.calculateFee())+" SOL",1)]),i("div",V,[t[8]||(t[8]=i("span",null,"Total",-1)),i("span",null,a(l.calculateTotal())+" SOL",1)])]),i("div",T,[i("button",{type:"button",class:"bid-modal__button bid-modal__button--cancel",onClick:t[1]||(t[1]=o=>s.$emit("close"))},"Cancel"),i("button",{type:"submit",class:"bid-modal__button bid-modal__button--submit",disabled:e.isSubmitting||!l.isFormValid},[e.isSubmitting?(d(),n("span",N)):_("",!0),t[10]||(t[10]=u(" Place Bid "))],8,$)])],32)]),i("div",{class:"bid-modal__backdrop",onClick:t[3]||(t[3]=o=>s.$emit("close"))})])}const J=r(g,[["render",O],["__scopeId","data-v-7b81748f"]]),U={name:"CancelListingModal",props:{isSubmitting:{type:Boolean,default:!1}}},q={class:"cancel-modal"},D={class:"cancel-modal__box"},E={class:"cancel-modal__actions"},I=["disabled"],Y={key:0,class:"cancel-modal__spinner"};function j(s,t,e,b,m,l){return d(),n("div",q,[i("div",D,[t[4]||(t[4]=i("h3",{class:"cancel-modal__title"},"Cancel Listing",-1)),t[5]||(t[5]=i("p",{class:"cancel-modal__message"},"Are you sure you want to cancel this listing?",-1)),i("div",E,[i("button",{type:"button",class:"cancel-modal__button cancel-modal__button--secondary",onClick:t[0]||(t[0]=o=>s.$emit("close"))}," No, Keep Listing "),i("button",{onClick:t[1]||(t[1]=o=>s.$emit("confirm")),class:"cancel-modal__button cancel-modal__button--danger",disabled:e.isSubmitting},[e.isSubmitting?(d(),n("span",Y)):_("",!0),t[3]||(t[3]=u(" Yes, Cancel Listing "))],8,I)])]),i("div",{class:"cancel-modal__backdrop",onClick:t[2]||(t[2]=o=>s.$emit("close"))})])}const Q=r(U,[["render",j],["__scopeId","data-v-4e0a9c1b"]]);export{Q as C,J as P};
