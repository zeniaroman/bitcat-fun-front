var i={},s;function v(){if(s)return i;s=1,i.sync=function(e,a,t){var r=(t||{}).moduleName||"route";e.registerModule(r,{namespaced:!0,state:c(a.currentRoute),mutations:{ROUTE_CHANGED:function(n,o){e.state[r]=c(o.to,o.from)}}});var l=!1,f,h=e.watch(function(u){return u[r]},function(u){var n=u.fullPath;n!==f&&(f!=null&&(l=!0,a.push(u)),f=n)},{sync:!0}),m=a.afterEach(function(u,n){if(l){l=!1;return}f=u.fullPath,e.commit(r+"/ROUTE_CHANGED",{to:u,from:n})});return function(){m!=null&&m(),h!=null&&h(),e.unregisterModule(r)}};function c(e,a){var t={name:e.name,path:e.path,hash:e.hash,query:e.query,params:e.params,fullPath:e.fullPath,meta:e.meta};return a&&(t.from=c(a)),Object.freeze(t)}return i}var R=v();export{R as v};
