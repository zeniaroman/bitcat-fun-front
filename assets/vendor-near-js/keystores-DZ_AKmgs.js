import{r as b}from"./crypto-DYaHgGqH.js";var K={},c={},S={},g;function m(){if(g)return S;g=1,Object.defineProperty(S,"__esModule",{value:!0}),S.KeyStore=void 0;class r{}return S.KeyStore=r,S}var p;function j(){if(p)return c;p=1;var r=c&&c.__awaiter||function(n,e,t,o){function i(y){return y instanceof t?y:new t(function(v){v(y)})}return new(t||(t=Promise))(function(y,v){function _(u){try{s(o.next(u))}catch(k){v(k)}}function l(u){try{s(o.throw(u))}catch(k){v(k)}}function s(u){u.done?y(u.value):i(u.value).then(_,l)}s((o=o.apply(n,e||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.InMemoryKeyStore=void 0;const d=b(),h=m();class a extends h.KeyStore{constructor(){super(),this.keys={}}setKey(e,t,o){return r(this,void 0,void 0,function*(){this.keys[`${t}:${e}`]=o.toString()})}getKey(e,t){return r(this,void 0,void 0,function*(){const o=this.keys[`${t}:${e}`];return o?d.KeyPair.fromString(o):null})}removeKey(e,t){return r(this,void 0,void 0,function*(){delete this.keys[`${t}:${e}`]})}clear(){return r(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return r(this,void 0,void 0,function*(){const e=new Set;return Object.keys(this.keys).forEach(t=>{const o=t.split(":");e.add(o[1])}),Array.from(e.values())})}getAccounts(e){return r(this,void 0,void 0,function*(){const t=new Array;return Object.keys(this.keys).forEach(o=>{const i=o.split(":");i[i.length-1]===e&&t.push(i.slice(0,i.length-1).join(":"))}),t})}toString(){return"InMemoryKeyStore"}}return c.InMemoryKeyStore=a,c}var f={},w;function I(){if(w)return f;w=1;var r=f&&f.__awaiter||function(a,n,e,t){function o(i){return i instanceof e?i:new e(function(y){y(i)})}return new(e||(e=Promise))(function(i,y){function v(s){try{l(t.next(s))}catch(u){y(u)}}function _(s){try{l(t.throw(s))}catch(u){y(u)}}function l(s){s.done?i(s.value):o(s.value).then(v,_)}l((t=t.apply(a,n||[])).next())})};Object.defineProperty(f,"__esModule",{value:!0}),f.MergeKeyStore=void 0;const d=m();class h extends d.KeyStore{constructor(n,e={writeKeyStoreIndex:0}){super(),this.options=e,this.keyStores=n}setKey(n,e,t){return r(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(n,e,t)})}getKey(n,e){return r(this,void 0,void 0,function*(){for(const t of this.keyStores){const o=yield t.getKey(n,e);if(o)return o}return null})}removeKey(n,e){return r(this,void 0,void 0,function*(){for(const t of this.keyStores)yield t.removeKey(n,e)})}clear(){return r(this,void 0,void 0,function*(){for(const n of this.keyStores)yield n.clear()})}getNetworks(){return r(this,void 0,void 0,function*(){const n=new Set;for(const e of this.keyStores)for(const t of yield e.getNetworks())n.add(t);return Array.from(n)})}getAccounts(n){return r(this,void 0,void 0,function*(){const e=new Set;for(const t of this.keyStores)for(const o of yield t.getAccounts(n))e.add(o);return Array.from(e)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}return f.MergeKeyStore=h,f}var M;function O(){return M||(M=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.MergeKeyStore=r.KeyStore=r.InMemoryKeyStore=void 0;var d=j();Object.defineProperty(r,"InMemoryKeyStore",{enumerable:!0,get:function(){return d.InMemoryKeyStore}});var h=m();Object.defineProperty(r,"KeyStore",{enumerable:!0,get:function(){return h.KeyStore}});var a=I();Object.defineProperty(r,"MergeKeyStore",{enumerable:!0,get:function(){return a.MergeKeyStore}})}(K)),K}export{O as r};
