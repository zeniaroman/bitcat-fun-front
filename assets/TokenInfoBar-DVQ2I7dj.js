import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as i}from"./vendor-vue/reactivity-CqT5sv9X.js";import{E as x,J as w,h as n,o as a,i as s,k as p}from"./vendor-vue/runtime-core-CL52-QWR.js";import{t as d,b as g}from"./vendor-vue/shared-lLteBOIO.js";const F={class:"token-info-container"},B={class:"token-info-left"},C={class:"token-price-container"},E={key:0,class:"token-price"},M={key:1,class:"loading-text"},N={class:"token-stats"},D={key:0,class:"stat-item"},I={class:"stat-value"},S={key:1,class:"stat-item"},T={class:"stat-value"},V={class:"token-info-right"},j=["disabled"],q="4j9bDg7iWNah1Qa61rrqwWZMtEdqV3fV56SzyhfNpump",K={__name:"TokenInfoBar",emits:["open-buy-modal"],setup(L,{emit:v}){const _=v,o=i({price:null,marketCap:null,holderCount:null}),c=i(!0),l=i(!1);let r=null;const u=async()=>{try{const t=await fetch(`https://lite-api.jup.ag/tokens/v2/search?query=${q}`,{});if(t.ok){const e=await t.json();e[0]&&(o.value={price:e[0].usdPrice,marketCap:e[0].mcap,holderCount:e[0].holderCount})}else console.error("Failed to fetch token data:",t.status)}catch(t){console.error("Error fetching token data:",t)}finally{c.value=!1}},k=t=>t>=1?t.toFixed(4):t.toFixed(6),m=t=>t>=1e9?(t/1e9).toFixed(2)+"B":t>=1e6?(t/1e6).toFixed(2)+"M":t>=1e3?(t/1e3).toFixed(0)+"K":t.toFixed(0),h=t=>t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(0)+"K":t.toString(),y=()=>{_("open-buy-modal")},f=()=>{window.scrollY>200?l.value=!0:l.value=!1};return x(()=>{u(),r=setInterval(u,6e4),window.addEventListener("scroll",f)}),w(()=>{r&&clearInterval(r),window.removeEventListener("scroll",f)}),(t,e)=>(a(),n("div",{class:g(["token-info-bar do-invert",{hidden:l.value}])},[s("div",F,[s("div",B,[s("div",C,[e[0]||(e[0]=s("i",{class:"fas fa-coins token-icon"},null,-1)),o.value.price?(a(),n("span",E," $"+d(k(o.value.price)),1)):(a(),n("span",M,"Loading..."))]),s("div",N,[o.value.marketCap?(a(),n("div",D,[e[1]||(e[1]=s("i",{class:"fas fa-chart-area"},null,-1)),e[2]||(e[2]=s("span",{class:"stat-label"},"MC:",-1)),s("span",I,"$"+d(m(o.value.marketCap)),1)])):p("",!0),o.value.holderCount?(a(),n("div",S,[e[3]||(e[3]=s("i",{class:"fas fa-users"},null,-1)),e[4]||(e[4]=s("span",{class:"stat-label"},"Holders:",-1)),s("span",T,d(h(o.value.holderCount)),1)])):p("",!0)])]),s("div",V,[s("button",{class:"buy-now-btn",onClick:y,disabled:c.value},e[5]||(e[5]=[s("i",{class:"fas fa-shopping-cart"},null,-1),s("span",null,"Buy Now",-1)]),8,j)])])],2))}},W=b(K,[["__scopeId","data-v-9ba46042"]]);export{W as default};
