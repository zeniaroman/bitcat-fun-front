import{r as Ae}from"./vendor-safe-buffer-BPihLaHX.js";import{r as lr}from"./vendor-create-hash-BsmGkCgx.js";import{p as ae}from"./vendor-process-DXjpGiAn.js";import{r as fe}from"./vendor-process-nextick-args-DZA8cFXf.js";import{r as Je}from"./vendor-events-cQ9mhZQJ.js";import{r as Qe}from"./vendor-buffer-DVXvU5G6.js";import{r as z}from"./vendor-core-util-is-OG-hh3cz.js";import{r as J}from"./vendor-inherits-BICa84dG.js";import{r as Ye}from"./vendor-asn1.js-Cgb4HcA4.js";import{r as ur}from"./vendor-util-deprecate-C5bwERXh.js";import{r as hr}from"./vendor-create-hmac-Dt8PQ7js.js";import{r as dr}from"./vendor-browserify-rsa-DRghgnJS.js";import{r as Ze}from"./vendor-elliptic-BTxzAQL_.js";import{r as ze}from"./vendor-bn.js-CN51n21Z.js";import{r as er}from"./vendor-parse-asn1-CnRUGrVC.js";const cr={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},pr={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},gr={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},vr={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},wr={sign:"ecdsa",hash:"sha256",id:""},yr={sign:"ecdsa",hash:"sha224",id:""},br={sign:"ecdsa",hash:"sha384",id:""},mr={sign:"ecdsa",hash:"sha512",id:""},_r={sign:"dsa",hash:"sha1",id:""},Sr={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},Rr={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},rr={sha224WithRSAEncryption:cr,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:pr,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:gr,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:vr,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:wr,sha224:yr,sha384:br,sha512:mr,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:_r,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:Sr,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:Rr,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var pe,Te;function Vr(){return Te||(Te=1,pe=rr),pe}var te={exports:{}},ge,Ce;function xr(){if(Ce)return ge;Ce=1;var d={}.toString;return ge=Array.isArray||function(b){return d.call(b)=="[object Array]"},ge}var ve,De;function tr(){return De||(De=1,ve=Je().EventEmitter),ve}var ie={exports:{}},We;function Be(){return We||(We=1,function(d,b){var R=Qe(),p=R.Buffer;function x(f,u){for(var h in f)u[h]=f[h]}p.from&&p.alloc&&p.allocUnsafe&&p.allocUnsafeSlow?d.exports=R:(x(R,b),b.Buffer=w);function w(f,u,h){return p(f,u,h)}x(p,w),w.from=function(f,u,h){if(typeof f=="number")throw new TypeError("Argument must not be a number");return p(f,u,h)},w.alloc=function(f,u,h){if(typeof f!="number")throw new TypeError("Argument must be a number");var g=p(f);return u!==void 0?typeof h=="string"?g.fill(u,h):g.fill(u):g.fill(0),g},w.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return p(f)},w.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return R.SlowBuffer(f)}}(ie,ie.exports)),ie.exports}var we={exports:{}},je;function Er(){return je||(je=1,function(d){function b(w,f){if(!(w instanceof f))throw new TypeError("Cannot call a class as a function")}var R=Be().Buffer,p=Ye;function x(w,f,u){w.copy(f,u)}d.exports=function(){function w(){b(this,w),this.head=null,this.tail=null,this.length=0}return w.prototype.push=function(u){var h={data:u,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length},w.prototype.unshift=function(u){var h={data:u,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length},w.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},w.prototype.clear=function(){this.head=this.tail=null,this.length=0},w.prototype.join=function(u){if(this.length===0)return"";for(var h=this.head,g=""+h.data;h=h.next;)g+=u+h.data;return g},w.prototype.concat=function(u){if(this.length===0)return R.alloc(0);for(var h=R.allocUnsafe(u>>>0),g=this.head,E=0;g;)x(g.data,h,E),E+=g.data.length,g=g.next;return h},w}(),p&&p.inspect&&p.inspect.custom&&(d.exports.prototype[p.inspect.custom]=function(){var w=p.inspect({length:this.length});return this.constructor.name+" "+w})}(we)),we.exports}var ye,Le;function ir(){if(Le)return ye;Le=1;var d=fe();function b(x,w){var f=this,u=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return u||h?(w?w(x):x&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,d.nextTick(p,this,x)):d.nextTick(p,this,x)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(x||null,function(g){!w&&g?f._writableState?f._writableState.errorEmitted||(f._writableState.errorEmitted=!0,d.nextTick(p,f,g)):d.nextTick(p,f,g):w&&w(g)}),this)}function R(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function p(x,w){x.emit("error",w)}return ye={destroy:b,undestroy:R},ye}var be,Ne;function nr(){if(Ne)return be;Ne=1;var d=fe();be=A;function b(n){var a=this;this.next=null,this.entry=null,this.finish=function(){oe(a,n)}}var R=!ae.browser&&["v0.10","v0.9."].indexOf(ae.version.slice(0,5))>-1?setImmediate:d.nextTick,p;A.WritableState=M;var x=Object.create(z());x.inherits=J();var w={deprecate:ur()},f=tr(),u=Be().Buffer,h=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function g(n){return u.from(n)}function E(n){return u.isBuffer(n)||n instanceof h}var s=ir();x.inherits(A,f);function m(){}function M(n,a){p=p||X(),n=n||{};var l=a instanceof p;this.objectMode=!!n.objectMode,l&&(this.objectMode=this.objectMode||!!n.writableObjectMode);var _=n.highWaterMark,T=n.writableHighWaterMark,D=this.objectMode?16:16*1024;_||_===0?this.highWaterMark=_:l&&(T||T===0)?this.highWaterMark=T:this.highWaterMark=D,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var O=n.decodeStrings===!1;this.decodeStrings=!O,this.defaultEncoding=n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(U){P(a,U)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new b(this)}M.prototype.getBuffer=function(){for(var a=this.bufferedRequest,l=[];a;)l.push(a),a=a.next;return l},function(){try{Object.defineProperty(M.prototype,"buffer",{get:w.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var k;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(k=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(n){return k.call(this,n)?!0:this!==A?!1:n&&n._writableState instanceof M}})):k=function(n){return n instanceof this};function A(n){if(p=p||X(),!k.call(A,this)&&!(this instanceof p))return new A(n);this._writableState=new M(n,this),this.writable=!0,n&&(typeof n.write=="function"&&(this._write=n.write),typeof n.writev=="function"&&(this._writev=n.writev),typeof n.destroy=="function"&&(this._destroy=n.destroy),typeof n.final=="function"&&(this._final=n.final)),f.call(this)}A.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function L(n,a){var l=new Error("write after end");n.emit("error",l),d.nextTick(a,l)}function t(n,a,l,_){var T=!0,D=!1;return l===null?D=new TypeError("May not write null values to stream"):typeof l!="string"&&l!==void 0&&!a.objectMode&&(D=new TypeError("Invalid non-string/buffer chunk")),D&&(n.emit("error",D),d.nextTick(_,D),T=!1),T}A.prototype.write=function(n,a,l){var _=this._writableState,T=!1,D=!_.objectMode&&E(n);return D&&!u.isBuffer(n)&&(n=g(n)),typeof a=="function"&&(l=a,a=null),D?a="buffer":a||(a=_.defaultEncoding),typeof l!="function"&&(l=m),_.ended?L(this,l):(D||t(this,_,n,l))&&(_.pendingcb++,T=v(this,_,D,n,a,l)),T},A.prototype.cork=function(){var n=this._writableState;n.corked++},A.prototype.uncork=function(){var n=this._writableState;n.corked&&(n.corked--,!n.writing&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest&&I(this,n))},A.prototype.setDefaultEncoding=function(a){if(typeof a=="string"&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this};function i(n,a,l){return!n.objectMode&&n.decodeStrings!==!1&&typeof a=="string"&&(a=u.from(a,l)),a}Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function v(n,a,l,_,T,D){if(!l){var O=i(a,_,T);_!==O&&(l=!0,T="buffer",_=O)}var U=a.objectMode?1:_.length;a.length+=U;var $=a.length<a.highWaterMark;if($||(a.needDrain=!0),a.writing||a.corked){var K=a.lastBufferedRequest;a.lastBufferedRequest={chunk:_,encoding:T,isBuf:l,callback:D,next:null},K?K.next=a.lastBufferedRequest:a.bufferedRequest=a.lastBufferedRequest,a.bufferedRequestCount+=1}else y(n,a,!1,U,_,T,D);return $}function y(n,a,l,_,T,D,O){a.writelen=_,a.writecb=O,a.writing=!0,a.sync=!0,l?n._writev(T,a.onwrite):n._write(T,D,a.onwrite),a.sync=!1}function B(n,a,l,_,T){--a.pendingcb,l?(d.nextTick(T,_),d.nextTick(F,n,a),n._writableState.errorEmitted=!0,n.emit("error",_)):(T(_),n._writableState.errorEmitted=!0,n.emit("error",_),F(n,a))}function j(n){n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0}function P(n,a){var l=n._writableState,_=l.sync,T=l.writecb;if(j(l),a)B(n,l,_,a,T);else{var D=H(l);!D&&!l.corked&&!l.bufferProcessing&&l.bufferedRequest&&I(n,l),_?R(W,n,l,D,T):W(n,l,D,T)}}function W(n,a,l,_){l||N(n,a),a.pendingcb--,_(),F(n,a)}function N(n,a){a.length===0&&a.needDrain&&(a.needDrain=!1,n.emit("drain"))}function I(n,a){a.bufferProcessing=!0;var l=a.bufferedRequest;if(n._writev&&l&&l.next){var _=a.bufferedRequestCount,T=new Array(_),D=a.corkedRequestsFree;D.entry=l;for(var O=0,U=!0;l;)T[O]=l,l.isBuf||(U=!1),l=l.next,O+=1;T.allBuffers=U,y(n,a,!0,a.length,T,"",D.finish),a.pendingcb++,a.lastBufferedRequest=null,D.next?(a.corkedRequestsFree=D.next,D.next=null):a.corkedRequestsFree=new b(a),a.bufferedRequestCount=0}else{for(;l;){var $=l.chunk,K=l.encoding,e=l.callback,r=a.objectMode?1:$.length;if(y(n,a,!1,r,$,K,e),l=l.next,a.bufferedRequestCount--,a.writing)break}l===null&&(a.lastBufferedRequest=null)}a.bufferedRequest=l,a.bufferProcessing=!1}A.prototype._write=function(n,a,l){l(new Error("_write() is not implemented"))},A.prototype._writev=null,A.prototype.end=function(n,a,l){var _=this._writableState;typeof n=="function"?(l=n,n=null,a=null):typeof a=="function"&&(l=a,a=null),n!=null&&this.write(n,a),_.corked&&(_.corked=1,this.uncork()),_.ending||se(this,_,l)};function H(n){return n.ending&&n.length===0&&n.bufferedRequest===null&&!n.finished&&!n.writing}function V(n,a){n._final(function(l){a.pendingcb--,l&&n.emit("error",l),a.prefinished=!0,n.emit("prefinish"),F(n,a)})}function ee(n,a){!a.prefinished&&!a.finalCalled&&(typeof n._final=="function"?(a.pendingcb++,a.finalCalled=!0,d.nextTick(V,n,a)):(a.prefinished=!0,n.emit("prefinish")))}function F(n,a){var l=H(a);return l&&(ee(n,a),a.pendingcb===0&&(a.finished=!0,n.emit("finish"))),l}function se(n,a,l){a.ending=!0,F(n,a),l&&(a.finished?d.nextTick(l):n.once("finish",l)),a.ended=!0,n.writable=!1}function oe(n,a,l){var _=n.entry;for(n.entry=null;_;){var T=_.callback;a.pendingcb--,T(l),_=_.next}a.corkedRequestsFree.next=n}return Object.defineProperty(A.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(n){this._writableState&&(this._writableState.destroyed=n)}}),A.prototype.destroy=s.destroy,A.prototype._undestroy=s.undestroy,A.prototype._destroy=function(n,a){this.end(),a(n)},be}var me,He;function X(){if(He)return me;He=1;var d=fe(),b=Object.keys||function(s){var m=[];for(var M in s)m.push(M);return m};me=h;var R=Object.create(z());R.inherits=J();var p=ar(),x=nr();R.inherits(h,p);for(var w=b(x.prototype),f=0;f<w.length;f++){var u=w[f];h.prototype[u]||(h.prototype[u]=x.prototype[u])}function h(s){if(!(this instanceof h))return new h(s);p.call(this,s),x.call(this,s),s&&s.readable===!1&&(this.readable=!1),s&&s.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,s&&s.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function g(){this.allowHalfOpen||this._writableState.ended||d.nextTick(E,this)}function E(s){s.end()}return Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(s){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=s,this._writableState.destroyed=s)}}),h.prototype._destroy=function(s,m){this.push(null),this.end(),d.nextTick(m,s)},me}var _e={},ne={exports:{}},Pe;function Mr(){return Pe||(Pe=1,function(d,b){var R=Qe(),p=R.Buffer;function x(f,u){for(var h in f)u[h]=f[h]}p.from&&p.alloc&&p.allocUnsafe&&p.allocUnsafeSlow?d.exports=R:(x(R,b),b.Buffer=w);function w(f,u,h){return p(f,u,h)}x(p,w),w.from=function(f,u,h){if(typeof f=="number")throw new TypeError("Argument must not be a number");return p(f,u,h)},w.alloc=function(f,u,h){if(typeof f!="number")throw new TypeError("Argument must be a number");var g=p(f);return u!==void 0?typeof h=="string"?g.fill(u,h):g.fill(u):g.fill(0),g},w.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return p(f)},w.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return R.SlowBuffer(f)}}(ne,ne.exports)),ne.exports}var Oe;function Ue(){if(Oe)return _e;Oe=1;var d=Mr().Buffer,b=d.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function R(t){if(!t)return"utf8";for(var i;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(i)return;t=(""+t).toLowerCase(),i=!0}}function p(t){var i=R(t);if(typeof i!="string"&&(d.isEncoding===b||!b(t)))throw new Error("Unknown encoding: "+t);return i||t}_e.StringDecoder=x;function x(t){this.encoding=p(t);var i;switch(this.encoding){case"utf16le":this.text=s,this.end=m,i=4;break;case"utf8":this.fillLast=h,i=4;break;case"base64":this.text=M,this.end=k,i=3;break;default:this.write=A,this.end=L;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(i)}x.prototype.write=function(t){if(t.length===0)return"";var i,v;if(this.lastNeed){if(i=this.fillLast(t),i===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<t.length?i?i+this.text(t,v):this.text(t,v):i||""},x.prototype.end=E,x.prototype.text=g,x.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function w(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function f(t,i,v){var y=i.length-1;if(y<v)return 0;var B=w(i[y]);return B>=0?(B>0&&(t.lastNeed=B-1),B):--y<v||B===-2?0:(B=w(i[y]),B>=0?(B>0&&(t.lastNeed=B-2),B):--y<v||B===-2?0:(B=w(i[y]),B>=0?(B>0&&(B===2?B=0:t.lastNeed=B-3),B):0))}function u(t,i,v){if((i[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&i.length>1){if((i[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&i.length>2&&(i[2]&192)!==128)return t.lastNeed=2,"�"}}function h(t){var i=this.lastTotal-this.lastNeed,v=u(this,t);if(v!==void 0)return v;if(this.lastNeed<=t.length)return t.copy(this.lastChar,i,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,i,0,t.length),this.lastNeed-=t.length}function g(t,i){var v=f(this,t,i);if(!this.lastNeed)return t.toString("utf8",i);this.lastTotal=v;var y=t.length-(v-this.lastNeed);return t.copy(this.lastChar,0,y),t.toString("utf8",i,y)}function E(t){var i=t&&t.length?this.write(t):"";return this.lastNeed?i+"�":i}function s(t,i){if((t.length-i)%2===0){var v=t.toString("utf16le",i);if(v){var y=v.charCodeAt(v.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",i,t.length-1)}function m(t){var i=t&&t.length?this.write(t):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return i+this.lastChar.toString("utf16le",0,v)}return i}function M(t,i){var v=(t.length-i)%3;return v===0?t.toString("base64",i):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",i,t.length-v))}function k(t){var i=t&&t.length?this.write(t):"";return this.lastNeed?i+this.lastChar.toString("base64",0,3-this.lastNeed):i}function A(t){return t.toString(this.encoding)}function L(t){return t&&t.length?this.write(t):""}return _e}var Se,Ie;function ar(){if(Ie)return Se;Ie=1;var d=fe();Se=i;var b=xr(),R;i.ReadableState=t,Je().EventEmitter;var p=function(e,r){return e.listeners(r).length},x=tr(),w=Be().Buffer,f=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function u(e){return w.from(e)}function h(e){return w.isBuffer(e)||e instanceof f}var g=Object.create(z());g.inherits=J();var E=Ye,s=void 0;E&&E.debuglog?s=E.debuglog("stream"):s=function(){};var m=Er(),M=ir(),k;g.inherits(i,x);var A=["error","close","destroy","pause","resume"];function L(e,r,o){if(typeof e.prependListener=="function")return e.prependListener(r,o);!e._events||!e._events[r]?e.on(r,o):b(e._events[r])?e._events[r].unshift(o):e._events[r]=[o,e._events[r]]}function t(e,r){R=R||X(),e=e||{};var o=r instanceof R;this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var c=e.highWaterMark,C=e.readableHighWaterMark,S=this.objectMode?16:16*1024;c||c===0?this.highWaterMark=c:o&&(C||C===0)?this.highWaterMark=C:this.highWaterMark=S,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(k||(k=Ue().StringDecoder),this.decoder=new k(e.encoding),this.encoding=e.encoding)}function i(e){if(R=R||X(),!(this instanceof i))return new i(e);this._readableState=new t(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),x.call(this)}Object.defineProperty(i.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),i.prototype.destroy=M.destroy,i.prototype._undestroy=M.undestroy,i.prototype._destroy=function(e,r){this.push(null),r(e)},i.prototype.push=function(e,r){var o=this._readableState,c;return o.objectMode?c=!0:typeof e=="string"&&(r=r||o.defaultEncoding,r!==o.encoding&&(e=w.from(e,r),r=""),c=!0),v(this,e,r,!1,c)},i.prototype.unshift=function(e){return v(this,e,null,!0,!1)};function v(e,r,o,c,C){var S=e._readableState;if(r===null)S.reading=!1,I(e,S);else{var q;C||(q=B(S,r)),q?e.emit("error",q):S.objectMode||r&&r.length>0?(typeof r!="string"&&!S.objectMode&&Object.getPrototypeOf(r)!==w.prototype&&(r=u(r)),c?S.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):y(e,S,r,!0):S.ended?e.emit("error",new Error("stream.push() after EOF")):(S.reading=!1,S.decoder&&!o?(r=S.decoder.write(r),S.objectMode||r.length!==0?y(e,S,r,!1):ee(e,S)):y(e,S,r,!1))):c||(S.reading=!1)}return j(S)}function y(e,r,o,c){r.flowing&&r.length===0&&!r.sync?(e.emit("data",o),e.read(0)):(r.length+=r.objectMode?1:o.length,c?r.buffer.unshift(o):r.buffer.push(o),r.needReadable&&H(e)),ee(e,r)}function B(e,r){var o;return!h(r)&&typeof r!="string"&&r!==void 0&&!e.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o}function j(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(e){return k||(k=Ue().StringDecoder),this._readableState.decoder=new k(e),this._readableState.encoding=e,this};var P=8388608;function W(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function N(e,r){return e<=0||r.length===0&&r.ended?0:r.objectMode?1:e!==e?r.flowing&&r.length?r.buffer.head.data.length:r.length:(e>r.highWaterMark&&(r.highWaterMark=W(e)),e<=r.length?e:r.ended?r.length:(r.needReadable=!0,0))}i.prototype.read=function(e){s("read",e),e=parseInt(e,10);var r=this._readableState,o=e;if(e!==0&&(r.emittedReadable=!1),e===0&&r.needReadable&&(r.length>=r.highWaterMark||r.ended))return s("read: emitReadable",r.length,r.ended),r.length===0&&r.ended?U(this):H(this),null;if(e=N(e,r),e===0&&r.ended)return r.length===0&&U(this),null;var c=r.needReadable;s("need readable",c),(r.length===0||r.length-e<r.highWaterMark)&&(c=!0,s("length less than watermark",c)),r.ended||r.reading?(c=!1,s("reading or ended",c)):c&&(s("do read"),r.reading=!0,r.sync=!0,r.length===0&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=N(o,r)));var C;return e>0?C=_(e,r):C=null,C===null?(r.needReadable=!0,e=0):r.length-=e,r.length===0&&(r.ended||(r.needReadable=!0),o!==e&&r.ended&&U(this)),C!==null&&this.emit("data",C),C};function I(e,r){if(!r.ended){if(r.decoder){var o=r.decoder.end();o&&o.length&&(r.buffer.push(o),r.length+=r.objectMode?1:o.length)}r.ended=!0,H(e)}}function H(e){var r=e._readableState;r.needReadable=!1,r.emittedReadable||(s("emitReadable",r.flowing),r.emittedReadable=!0,r.sync?d.nextTick(V,e):V(e))}function V(e){s("emit readable"),e.emit("readable"),l(e)}function ee(e,r){r.readingMore||(r.readingMore=!0,d.nextTick(F,e,r))}function F(e,r){for(var o=r.length;!r.reading&&!r.flowing&&!r.ended&&r.length<r.highWaterMark&&(s("maybeReadMore read 0"),e.read(0),o!==r.length);)o=r.length;r.readingMore=!1}i.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(e,r){var o=this,c=this._readableState;switch(c.pipesCount){case 0:c.pipes=e;break;case 1:c.pipes=[c.pipes,e];break;default:c.pipes.push(e);break}c.pipesCount+=1,s("pipe count=%d opts=%j",c.pipesCount,r);var C=(!r||r.end!==!1)&&e!==ae.stdout&&e!==ae.stderr,S=C?re:Q;c.endEmitted?d.nextTick(S):o.once("end",S),e.on("unpipe",q);function q(G,Y){s("onunpipe"),G===o&&Y&&Y.hasUnpiped===!1&&(Y.hasUnpiped=!0,or())}function re(){s("onend"),e.end()}var le=se(o);e.on("drain",le);var ke=!1;function or(){s("cleanup"),e.removeListener("close",de),e.removeListener("finish",ce),e.removeListener("drain",le),e.removeListener("error",he),e.removeListener("unpipe",q),o.removeListener("end",re),o.removeListener("end",Q),o.removeListener("data",qe),ke=!0,c.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&le()}var ue=!1;o.on("data",qe);function qe(G){s("ondata"),ue=!1;var Y=e.write(G);Y===!1&&!ue&&((c.pipesCount===1&&c.pipes===e||c.pipesCount>1&&K(c.pipes,e)!==-1)&&!ke&&(s("false write response, pause",c.awaitDrain),c.awaitDrain++,ue=!0),o.pause())}function he(G){s("onerror",G),Q(),e.removeListener("error",he),p(e,"error")===0&&e.emit("error",G)}L(e,"error",he);function de(){e.removeListener("finish",ce),Q()}e.once("close",de);function ce(){s("onfinish"),e.removeListener("close",de),Q()}e.once("finish",ce);function Q(){s("unpipe"),o.unpipe(e)}return e.emit("pipe",o),c.flowing||(s("pipe resume"),o.resume()),e};function se(e){return function(){var r=e._readableState;s("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&p(e,"data")&&(r.flowing=!0,l(e))}}i.prototype.unpipe=function(e){var r=this._readableState,o={hasUnpiped:!1};if(r.pipesCount===0)return this;if(r.pipesCount===1)return e&&e!==r.pipes?this:(e||(e=r.pipes),r.pipes=null,r.pipesCount=0,r.flowing=!1,e&&e.emit("unpipe",this,o),this);if(!e){var c=r.pipes,C=r.pipesCount;r.pipes=null,r.pipesCount=0,r.flowing=!1;for(var S=0;S<C;S++)c[S].emit("unpipe",this,{hasUnpiped:!1});return this}var q=K(r.pipes,e);return q===-1?this:(r.pipes.splice(q,1),r.pipesCount-=1,r.pipesCount===1&&(r.pipes=r.pipes[0]),e.emit("unpipe",this,o),this)},i.prototype.on=function(e,r){var o=x.prototype.on.call(this,e,r);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var c=this._readableState;!c.endEmitted&&!c.readableListening&&(c.readableListening=c.needReadable=!0,c.emittedReadable=!1,c.reading?c.length&&H(this):d.nextTick(oe,this))}return o},i.prototype.addListener=i.prototype.on;function oe(e){s("readable nexttick read 0"),e.read(0)}i.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!0,n(this,e)),this};function n(e,r){r.resumeScheduled||(r.resumeScheduled=!0,d.nextTick(a,e,r))}function a(e,r){r.reading||(s("resume read 0"),e.read(0)),r.resumeScheduled=!1,r.awaitDrain=0,e.emit("resume"),l(e),r.flowing&&!r.reading&&e.read(0)}i.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function l(e){var r=e._readableState;for(s("flow",r.flowing);r.flowing&&e.read()!==null;);}i.prototype.wrap=function(e){var r=this,o=this._readableState,c=!1;e.on("end",function(){if(s("wrapped end"),o.decoder&&!o.ended){var q=o.decoder.end();q&&q.length&&r.push(q)}r.push(null)}),e.on("data",function(q){if(s("wrapped data"),o.decoder&&(q=o.decoder.write(q)),!(o.objectMode&&q==null)&&!(!o.objectMode&&(!q||!q.length))){var re=r.push(q);re||(c=!0,e.pause())}});for(var C in e)this[C]===void 0&&typeof e[C]=="function"&&(this[C]=function(q){return function(){return e[q].apply(e,arguments)}}(C));for(var S=0;S<A.length;S++)e.on(A[S],this.emit.bind(this,A[S]));return this._read=function(q){s("wrapped _read",q),c&&(c=!1,e.resume())},this},Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),i._fromList=_;function _(e,r){if(r.length===0)return null;var o;return r.objectMode?o=r.buffer.shift():!e||e>=r.length?(r.decoder?o=r.buffer.join(""):r.buffer.length===1?o=r.buffer.head.data:o=r.buffer.concat(r.length),r.buffer.clear()):o=T(e,r.buffer,r.decoder),o}function T(e,r,o){var c;return e<r.head.data.length?(c=r.head.data.slice(0,e),r.head.data=r.head.data.slice(e)):e===r.head.data.length?c=r.shift():c=o?D(e,r):O(e,r),c}function D(e,r){var o=r.head,c=1,C=o.data;for(e-=C.length;o=o.next;){var S=o.data,q=e>S.length?S.length:e;if(q===S.length?C+=S:C+=S.slice(0,e),e-=q,e===0){q===S.length?(++c,o.next?r.head=o.next:r.head=r.tail=null):(r.head=o,o.data=S.slice(q));break}++c}return r.length-=c,C}function O(e,r){var o=w.allocUnsafe(e),c=r.head,C=1;for(c.data.copy(o),e-=c.data.length;c=c.next;){var S=c.data,q=e>S.length?S.length:e;if(S.copy(o,o.length-e,0,q),e-=q,e===0){q===S.length?(++C,c.next?r.head=c.next:r.head=r.tail=null):(r.head=c,c.data=S.slice(q));break}++C}return r.length-=C,o}function U(e){var r=e._readableState;if(r.length>0)throw new Error('"endReadable()" called on non-empty stream');r.endEmitted||(r.ended=!0,d.nextTick($,r,e))}function $(e,r){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,r.readable=!1,r.emit("end"))}function K(e,r){for(var o=0,c=e.length;o<c;o++)if(e[o]===r)return o;return-1}return Se}var Re,Fe;function fr(){if(Fe)return Re;Fe=1,Re=p;var d=X(),b=Object.create(z());b.inherits=J(),b.inherits(p,d);function R(f,u){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,u!=null&&this.push(u),g(f);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function p(f){if(!(this instanceof p))return new p(f);d.call(this,f),this._transformState={afterTransform:R.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",x)}function x(){var f=this;typeof this._flush=="function"?this._flush(function(u,h){w(f,u,h)}):w(this,null,null)}p.prototype.push=function(f,u){return this._transformState.needTransform=!1,d.prototype.push.call(this,f,u)},p.prototype._transform=function(f,u,h){throw new Error("_transform() is not implemented")},p.prototype._write=function(f,u,h){var g=this._transformState;if(g.writecb=h,g.writechunk=f,g.writeencoding=u,!g.transforming){var E=this._readableState;(g.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},p.prototype._read=function(f){var u=this._transformState;u.writechunk!==null&&u.writecb&&!u.transforming?(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform)):u.needTransform=!0},p.prototype._destroy=function(f,u){var h=this;d.prototype._destroy.call(this,f,function(g){u(g),h.emit("close")})};function w(f,u,h){if(u)return f.emit("error",u);if(h!=null&&f.push(h),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}return Re}var xe,$e;function Ar(){if($e)return xe;$e=1,xe=R;var d=fr(),b=Object.create(z());b.inherits=J(),b.inherits(R,d);function R(p){if(!(this instanceof R))return new R(p);d.call(this,p)}return R.prototype._transform=function(p,x,w){w(null,p)},xe}var Ke;function Br(){return Ke||(Ke=1,function(d,b){b=d.exports=ar(),b.Stream=b,b.Readable=b,b.Writable=nr(),b.Duplex=X(),b.Transform=fr(),b.PassThrough=Ar()}(te,te.exports)),te.exports}var Z={exports:{}};const sr={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var Ve;function kr(){if(Ve)return Z.exports;Ve=1;var d=Ae().Buffer,b=hr(),R=dr(),p=Ze().ec,x=ze(),w=er(),f=sr,u=1;function h(t,i,v,y,B){var j=w(i);if(j.curve){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong private key type");return g(t,j)}else if(j.type==="dsa"){if(y!=="dsa")throw new Error("wrong private key type");return E(t,j,v)}if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong private key type");if(i.padding!==void 0&&i.padding!==u)throw new Error("illegal or unsupported padding mode");t=d.concat([B,t]);for(var P=j.modulus.byteLength(),W=[0,1];t.length+W.length+1<P;)W.push(255);W.push(0);for(var N=-1;++N<t.length;)W.push(t[N]);var I=R(W,j);return I}function g(t,i){var v=f[i.curve.join(".")];if(!v)throw new Error("unknown curve "+i.curve.join("."));var y=new p(v),B=y.keyFromPrivate(i.privateKey),j=B.sign(t);return d.from(j.toDER())}function E(t,i,v){for(var y=i.params.priv_key,B=i.params.p,j=i.params.q,P=i.params.g,W=new x(0),N,I=M(t,j).mod(j),H=!1,V=m(y,j,t,v);H===!1;)N=A(j,V,v),W=L(P,N,B,j),H=N.invm(j).imul(I.add(y.mul(W))).mod(j),H.cmpn(0)===0&&(H=!1,W=new x(0));return s(W,H)}function s(t,i){t=t.toArray(),i=i.toArray(),t[0]&128&&(t=[0].concat(t)),i[0]&128&&(i=[0].concat(i));var v=t.length+i.length+4,y=[48,v,2,t.length];return y=y.concat(t,[2,i.length],i),d.from(y)}function m(t,i,v,y){if(t=d.from(t.toArray()),t.length<i.byteLength()){var B=d.alloc(i.byteLength()-t.length);t=d.concat([B,t])}var j=v.length,P=k(v,i),W=d.alloc(j);W.fill(1);var N=d.alloc(j);return N=b(y,N).update(W).update(d.from([0])).update(t).update(P).digest(),W=b(y,N).update(W).digest(),N=b(y,N).update(W).update(d.from([1])).update(t).update(P).digest(),W=b(y,N).update(W).digest(),{k:N,v:W}}function M(t,i){var v=new x(t),y=(t.length<<3)-i.bitLength();return y>0&&v.ishrn(y),v}function k(t,i){t=M(t,i),t=t.mod(i);var v=d.from(t.toArray());if(v.length<i.byteLength()){var y=d.alloc(i.byteLength()-v.length);v=d.concat([y,v])}return v}function A(t,i,v){var y,B;do{for(y=d.alloc(0);y.length*8<t.bitLength();)i.v=b(v,i.k).update(i.v).digest(),y=d.concat([y,i.v]);B=M(y,t),i.k=b(v,i.k).update(i.v).update(d.from([0])).digest(),i.v=b(v,i.k).update(i.v).digest()}while(B.cmp(t)!==-1);return B}function L(t,i,v,y){return t.toRed(x.mont(v)).redPow(i).fromRed().mod(y)}return Z.exports=h,Z.exports.getKey=m,Z.exports.makeKey=A,Z.exports}var Ee,Ge;function qr(){if(Ge)return Ee;Ge=1;var d=Ae().Buffer,b=ze(),R=Ze().ec,p=er(),x=sr;function w(g,E,s,m,M){var k=p(s);if(k.type==="ec"){if(m!=="ecdsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");return f(g,E,k)}else if(k.type==="dsa"){if(m!=="dsa")throw new Error("wrong public key type");return u(g,E,k)}if(m!=="rsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");E=d.concat([M,E]);for(var A=k.modulus.byteLength(),L=[1],t=0;E.length+L.length+2<A;)L.push(255),t+=1;L.push(0);for(var i=-1;++i<E.length;)L.push(E[i]);L=d.from(L);var v=b.mont(k.modulus);g=new b(g).toRed(v),g=g.redPow(new b(k.publicExponent)),g=d.from(g.fromRed().toArray());var y=t<8?1:0;for(A=Math.min(g.length,L.length),g.length!==L.length&&(y=1),i=-1;++i<A;)y|=g[i]^L[i];return y===0}function f(g,E,s){var m=x[s.data.algorithm.curve.join(".")];if(!m)throw new Error("unknown curve "+s.data.algorithm.curve.join("."));var M=new R(m),k=s.data.subjectPrivateKey.data;return M.verify(E,g,k)}function u(g,E,s){var m=s.data.p,M=s.data.q,k=s.data.g,A=s.data.pub_key,L=p.signature.decode(g,"der"),t=L.s,i=L.r;h(t,M),h(i,M);var v=b.mont(m),y=t.invm(M),B=k.toRed(v).redPow(new b(E).mul(y).mod(M)).fromRed().mul(A.toRed(v).redPow(i.mul(y).mod(M)).fromRed()).mod(m).mod(M);return B.cmp(i)===0}function h(g,E){if(g.cmpn(0)<=0)throw new Error("invalid sig");if(g.cmp(E)>=0)throw new Error("invalid sig")}return Ee=w,Ee}var Me,Xe;function Gr(){if(Xe)return Me;Xe=1;var d=Ae().Buffer,b=lr(),R=Br(),p=J(),x=kr(),w=qr(),f=rr;Object.keys(f).forEach(function(s){f[s].id=d.from(f[s].id,"hex"),f[s.toLowerCase()]=f[s]});function u(s){R.Writable.call(this);var m=f[s];if(!m)throw new Error("Unknown message digest");this._hashType=m.hash,this._hash=b(m.hash),this._tag=m.id,this._signType=m.sign}p(u,R.Writable),u.prototype._write=function(m,M,k){this._hash.update(m),k()},u.prototype.update=function(m,M){return this._hash.update(typeof m=="string"?d.from(m,M):m),this},u.prototype.sign=function(m,M){this.end();var k=this._hash.digest(),A=x(k,m,this._hashType,this._signType,this._tag);return M?A.toString(M):A};function h(s){R.Writable.call(this);var m=f[s];if(!m)throw new Error("Unknown message digest");this._hash=b(m.hash),this._tag=m.id,this._signType=m.sign}p(h,R.Writable),h.prototype._write=function(m,M,k){this._hash.update(m),k()},h.prototype.update=function(m,M){return this._hash.update(typeof m=="string"?d.from(m,M):m),this},h.prototype.verify=function(m,M,k){var A=typeof M=="string"?d.from(M,k):M;this.end();var L=this._hash.digest();return w(A,L,m,this._signType,this._tag)};function g(s){return new u(s)}function E(s){return new h(s)}return Me={Sign:g,Verify:E,createSign:g,createVerify:E},Me}export{Vr as a,Gr as r};
