import{a as _}from"./vendor-axios-Hz4xvOoZ.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{h as a,i as t,k as d,j as T,e as w,m as p,F as A,l as C,E as B,r as P,o as l}from"./vendor-vue/runtime-core-CL52-QWR.js";import{t as n,b as y}from"./vendor-vue/shared-lLteBOIO.js";import{r as c}from"./vendor-vue/reactivity-CqT5sv9X.js";import"./vendor-process-DXjpGiAn.js";import"./solana-vendors-DGPAp7Fj.js";import"./vendor-buffer-DVXvU5G6.js";import"./vendor-base64-js-C2zTC7ec.js";import"./vendor-ieee754-vIlwft-x.js";import"./vendor-events-cQ9mhZQJ.js";import"./vendor-lodash.isequal-D20p4pc-.js";import"./vendor-elliptic-BTxzAQL_.js";import"./vendor-minimalistic-assert-OF9c2MWr.js";import"./vendor-minimalistic-crypto-utils-DpWPKLSp.js";import"./vendor-brorand-6pV8Y5jC.js";import"./vendor-crypto-browserify-NMg_40A5.js";import"./vendor-randombytes-ndKo2FAH.js";import"./vendor-safe-buffer-BPihLaHX.js";import"./vendor-create-hash-BsmGkCgx.js";import"./vendor-inherits-BICa84dG.js";import"./vendor-md5.js-BmCTTIue.js";import"./vendor-hash-base-CXljNKss.js";import"./vendor-readable-stream-BpYOL4VF.js";import"./vendor-asn1.js-Cgb4HcA4.js";import"./vendor-util-deprecate-C5bwERXh.js";import"./vendor-string_decoder-CzqD1_ea.js";import"./vendor-ripemd160-B-g9_ZaO.js";import"./vendor-sha.js-C_Iv65sP.js";import"./vendor-cipher-base-CVoreX1z.js";import"./vendor-stream-browserify-BiXhMpOM.js";import"./vendor-create-hmac-Dt8PQ7js.js";import"./vendor-browserify-sign-DLX2f2Lw.js";import"./vendor-process-nextick-args-DZA8cFXf.js";import"./vendor-core-util-is-OG-hh3cz.js";import"./vendor-browserify-rsa-DRghgnJS.js";import"./vendor-bn.js-CN51n21Z.js";import"./vendor-parse-asn1-CnRUGrVC.js";import"./vendor-evp_bytestokey-V5JLH1pP.js";import"./vendor-browserify-aes-Dzp1Wr7h.js";import"./vendor-buffer-xor-BGVZWPAd.js";import"./vendor-pbkdf2-D8c51p7I.js";import"./vendor-browserify-cipher-CRpPeA_V.js";import"./vendor-browserify-des-7ZFmx5Md.js";import"./vendor-des.js-DyWMuwdI.js";import"./vendor-diffie-hellman-CdruneMD.js";import"./vendor-miller-rabin-D60nYGZr.js";import"./vendor-create-ecdh-D3sJE6Oq.js";import"./vendor-public-encrypt-BRl7BMPZ.js";import"./vendor-randomfill-PyDjCq6P.js";import"./vendor-hash.js-Dda3EUYz.js";import"./vendor-hmac-drbg-Ss9liF53.js";import"./vendor-vue/runtime-dom-Ll8vq9eS.js";import"./vendor-vueuse/core-Dowf-keF.js";import"./vendor-vueuse/shared-D4hqHlE2.js";import"./vendor-eventemitter3-C1FPriCL.js";import"./vendor-bignumber.js-Dj_rIxHg.js";import"./vendor-bigint-buffer-5mUCZ2jv.js";import"./vendor-noble/ed25519-DHS8bCE8.js";import"./vendor-node-fetch-DFwHyKwz.js";import"./vendor-url-Fv_L5Bhg.js";import"./vendor-qs-CKXrMD_V.js";import"./vendor-side-channel-CjkecZmv.js";import"./vendor-es-errors-CxTyLFAO.js";import"./vendor-object-inspect-C0kqJKki.js";import"./vendor-side-channel-list-DJbPV7dX.js";import"./vendor-side-channel-map-OCAkmCSB.js";import"./vendor-get-intrinsic-Ci-jyTpD.js";import"./vendor-es-object-atoms-BR76m4z7.js";import"./vendor-math-intrinsics-DP1tGiab.js";import"./vendor-gopd-C1lCZ5Qs.js";import"./vendor-es-define-property-D_7cP-M3.js";import"./vendor-has-symbols-CySAGvJ4.js";import"./vendor-get-proto-BI0zWv-p.js";import"./vendor-dunder-proto-5sdYuMkY.js";import"./vendor-call-bind-apply-helpers-BfAPCzjd.js";import"./vendor-function-bind-CHqF18-c.js";import"./vendor-hasown-CH2RbkDu.js";import"./vendor-call-bound-nPIHF2bX.js";import"./vendor-side-channel-weakmap-D938crsm.js";import"./vendor-whatwg-url-BNoC3hI6.js";import"./vendor-webidl-conversions-DuBT_cRJ.js";import"./vendor-punycode-BGZJxaHx.js";import"./vendor-tr46-_6nBz5KS.js";import"./vendor-mime-DOJa-gVj.js";import"./vendor-assert-CCtLV3vt.js";import"./vendor-util-BEO2nGWh.js";import"./vendor-is-arguments-D-oLGwWh.js";import"./vendor-has-tostringtag-BU9GnA_1.js";import"./vendor-is-generator-function-Bk_W3rfd.js";import"./vendor-safe-regex-test-BtqTbUmV.js";import"./vendor-is-regex-BKTFpgjH.js";import"./vendor-which-typed-array-Bufg-IXZ.js";import"./vendor-for-each-HvIZAWYy.js";import"./vendor-is-callable-BYFz_UGF.js";import"./vendor-available-typed-arrays-uQGnJldC.js";import"./vendor-possible-typed-array-names-BKRybAhF.js";import"./vendor-call-bind-3YpglFCb.js";import"./vendor-set-function-length-Cm7PFPrZ.js";import"./vendor-define-data-property-BppnLwnj.js";import"./vendor-has-property-descriptors-ChC8uhsk.js";import"./vendor-is-typed-array-CZaxorcA.js";import"./vendor-object.assign-D0NKsUk4.js";import"./vendor-object-keys-BRu_Tray.js";import"./vendor-object-is-DkNyiNMZ.js";import"./vendor-define-properties-CgTwYkbs.js";import"./vendor-is-nan-BtAA6g8u.js";import"./vendor-debug-DLVl9QA3.js";import"./vendor-ms-CzQ2E3wO.js";import"./vendor-babel/runtime-w7AU6ifp.js";import"./vendor-js-sha3-DkKfOMXT.js";import"./vendor-typescript-collections-DaJ0MJpz.js";import"./vendor-lodash.clonedeep-C3jeG2fR.js";import"./vendor-ansicolors-BFAL4nhq.js";import"./vendor-bs58-DhqqakFZ.js";import"./vendor-base-x-BHV1Xppf.js";import"./vendor-base64url-D1J1q9RC.js";import"./vendor-arbundles-CR3XhIxB.js";import"./vendor-async-retry-DWdC6xTk.js";import"./vendor-retry-ByBYrtbW.js";import"./vendor-irys/arweave-CO_npObX.js";import"./vendor-safer-buffer-CIAg7E_-.js";import"./vendor-secp256k1-gx_3s_gH.js";import"./vendor-keccak-Bl_8Z6TM.js";import"./vendor-ethersproject/bytes-BFUO92dS.js";import"./vendor-ethersproject/logger-BIOSViGG.js";import"./vendor-ethersproject/wallet-_-D8aoNy.js";import"./vendor-ethersproject/address-C-94Rlzo.js";import"./vendor-ethersproject/keccak256-BpI13PIi.js";import"./vendor-ethersproject/rlp-L8r_OHwd.js";import"./vendor-ethersproject/bignumber-DuyZ-PBD.js";import"./vendor-ethersproject/abstract-provider-BJATZ19F.js";import"./vendor-ethersproject/properties-Bism-GXA.js";import"./vendor-ethersproject/abstract-signer-vaofOY7d.js";import"./vendor-ethersproject/strings-BqJBhWqj.js";import"./vendor-ethersproject/hdnode-De1GriMn.js";import"./vendor-ethersproject/basex-GbQJAx3e.js";import"./vendor-ethersproject/signing-key-DZY4IiDE.js";import"./vendor-ethersproject/sha2-C3DRumhS.js";import"./vendor-ethersproject/wordlists-Bgp1_tq6.js";import"./vendor-ethersproject/pbkdf2-RF0eycJB.js";import"./vendor-ethersproject/json-wallets-DmRppK22.js";import"./vendor-aes-js-CVO7b-af.js";import"./vendor-scrypt-js-pU08l4Iy.js";import"./vendor-ethersproject/random-UwHXQyRf.js";import"./vendor-ethersproject/hash-CaQkUgof.js";import"./vendor-ethersproject/transactions-DgEmUiir.js";import"./vendor-irys/sdk-zMcAFY0m.js";import"./vendor-irys/query-BJ-9co3k.js";import"./vendor-near-js/crypto-DYaHgGqH.js";import"./vendor-borsh-uT6VLZDJ.js";import"./vendor-text-encoding-utf-8-CyyJ4wbt.js";import"./vendor-tweetnacl-DH0kfJ7g.js";import"./vendor-crypto-js-TDtrdbi3.js";import"./vendor-near-js/types-BW5UzBhQ.js";import"./vendor-near-js/keystores-browser-C7Ipq7jt.js";import"./vendor-near-js/keystores-DZ_AKmgs.js";import"./vendor-near-js/transactions-CNW8gb_X.js";import"./vendor-js-sha256-J9Bkl3or.js";import"./vendor-ethersproject/contracts-BfB5cMkz.js";import"./vendor-ethersproject/abi-BZPj2eRn.js";import"./vendor-ethersproject/constants-DnPC-4nq.js";import"./vendor-aptos-COdaePwy.js";import"./vendor-scure/base-BmqIkRj2.js";import"./vendor-supercharge/promise-pool-CxlJr3BL.js";import"./vendor-noble/curves-Bi3lEKLw.js";import"./vendor-noble/hashes-DJrKYuPd.js";import"./vendor-jayson-C-feTq4c.js";import"./vendor-uuid-42xqzRtG.js";import"./vendor-rpc-websockets-CS_NMCMZ.js";const S={name:"CashbackHistoryPage",setup(){const f=c([]),o=c(!0),e=c(null),i=c({page:1,limit:20,total:0,totalPages:0}),u=c({solAmount:"0.00",ataAmount:0}),v=async(r=1)=>{try{o.value=!0,e.value=null;const m=await _.get("/ata-cashback/history",{params:{page:r,limit:i.value.limit}});m.data.success?(f.value=m.data.history,i.value=m.data.pagination):e.value="Failed to load transaction history"}catch(m){console.error("Error fetching cashback history:",m),e.value="Error loading transaction history"}finally{o.value=!1}},g=async()=>{try{const r=await _.get("/ata-cashback/stats");r.data.success&&r.data.stats&&(u.value=r.data.stats)}catch(r){console.error("Error fetching ATA cashback stats:",r)}},s=r=>{r>=1&&r<=i.value.totalPages&&(i.value.page=r,v(r),window.scrollTo(0,0))},h=r=>r?`${r.substring(0,4)}...${r.substring(r.length-4)}`:"",k=r=>{navigator.clipboard.writeText(r).then(()=>{}).catch(m=>{console.error("Failed to copy text: ",m)})},b=r=>r?new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return B(()=>{v(),g()}),{history:f,loading:o,error:e,pagination:i,stats:u,changePage:s,formatWalletAddress:h,copyToClipboard:k,formatDate:b}}},D={class:"cashback-history-page"},E={class:"cashback-history-page-wrap"},L={class:"main-content"},N={class:"history-container"},F={class:"filter-bar"},H={class:"back-link"},I={class:"stats-container"},R={class:"stat-card"},V={class:"stat-info"},O={class:"stat-value"},W={class:"stat-card"},X={class:"stat-info"},j={class:"stat-value"},z={key:0,class:"loading"},M={key:1,class:"error"},U={key:2,class:"no-data"},q={key:3,class:"history-table"},G={class:"history-list"},J={class:"history-row main-row"},K={class:"wallet"},Q={class:"wallet-text"},Y={class:"wallet-address"},Z=["onClick"],$={class:"amount"},tt={class:"accounts"},ot={class:"history-row details-row"},it={class:"detail-group"},st={key:0,class:"detail-item cashback-id"},rt={key:1,class:"detail-item user-tag"},at={class:"detail-group"},lt={class:"detail-item date"},nt={class:"detail-group transactions"},pt=["href"],mt=["href"],et={key:4,class:"pagination"},dt=["disabled"],ct={class:"page-info"},ft=["disabled"];function ut(f,o,e,i,u,v){const g=P("router-link");return l(),a("div",D,[t("div",E,[o[21]||(o[21]=t("div",{class:"header-cashback"},[t("div",{class:"title"},[t("h1",null,"Cashback History"),t("h3",null,"ATA Rent Recovery Transactions")])],-1)),t("div",L,[t("div",N,[t("div",F,[t("div",H,[T(g,{to:"/cashback",class:"back-button"},{default:w(()=>o[2]||(o[2]=[t("i",{class:"fas fa-arrow-left"},null,-1),p(" Back to Cashback ")])),_:1})]),t("div",I,[t("div",R,[o[4]||(o[4]=t("div",{class:"stat-icon"},[t("i",{class:"fas fa-coins"})],-1)),t("div",V,[t("div",O,n(i.stats.solAmount)+" SOL",1),o[3]||(o[3]=t("div",{class:"stat-label"},"Total Reclaimed",-1))])]),t("div",W,[o[6]||(o[6]=t("div",{class:"stat-icon"},[t("i",{class:"fas fa-database"})],-1)),t("div",X,[t("div",j,n(i.stats.ataAmount),1),o[5]||(o[5]=t("div",{class:"stat-label"},"ATAs Processed",-1))])])])]),i.loading?(l(),a("div",z,o[7]||(o[7]=[t("i",{class:"fas fa-spinner fa-spin"},null,-1),p(" Loading transaction history... ")]))):i.error?(l(),a("div",M,[o[8]||(o[8]=t("i",{class:"fas fa-exclamation-circle"},null,-1)),p(" "+n(i.error),1)])):i.history.length===0?(l(),a("div",U,o[9]||(o[9]=[t("p",null,"No transactions found",-1)]))):(l(),a("div",q,[t("div",G,[(l(!0),a(A,null,C(i.history,s=>(l(),a("div",{key:s.id,class:"history-item"},[t("div",J,[t("div",K,[o[11]||(o[11]=t("i",{class:"fas fa-wallet"},null,-1)),t("div",Q,[t("div",Y,n(i.formatWalletAddress(s.walletAddress)),1),t("div",{class:"wallet-copy",onClick:h=>i.copyToClipboard(s.walletAddress)},o[10]||(o[10]=[t("i",{class:"fas fa-copy"},null,-1)]),8,Z)])]),t("div",$,[o[12]||(o[12]=t("i",{class:"fas fa-coins"},null,-1)),p(" +"+n(s.solAmount)+" SOL ",1)]),t("div",tt,[o[13]||(o[13]=t("i",{class:"fas fa-database"},null,-1)),p(" "+n(s.accountsCount)+" ATAs ",1)]),t("div",{class:y(["type",{"type-burn":s.isBurn,"type-reclaim":!s.isBurn}])},[t("i",{class:y(s.isBurn?"fas fa-fire":"fas fa-recycle")},null,2),p(" "+n(s.isBurn?"Burn":"Reclaim"),1)],2)]),t("div",ot,[t("div",it,[s.cashbackId?(l(),a("div",st,[o[14]||(o[14]=t("i",{class:"fas fa-hashtag"},null,-1)),p(" ID: "+n(s.cashbackId),1)])):d("",!0),s.userTag?(l(),a("div",rt,[o[15]||(o[15]=t("i",{class:"fas fa-user"},null,-1)),p(" "+n(s.userTag),1)])):d("",!0)]),t("div",at,[t("div",lt,[o[16]||(o[16]=t("i",{class:"far fa-calendar-alt"},null,-1)),p(" "+n(i.formatDate(s.date)),1)])]),t("div",nt,[s.closeTx?(l(),a("a",{key:0,href:`https://solscan.io/tx/${s.closeTx}`,target:"_blank",class:"tx-link"},o[17]||(o[17]=[t("i",{class:"fas fa-external-link-alt"},null,-1),p(" Close TX ")]),8,pt)):d("",!0),s.sendTx?(l(),a("a",{key:1,href:`https://solscan.io/tx/${s.sendTx}`,target:"_blank",class:"tx-link"},o[18]||(o[18]=[t("i",{class:"fas fa-external-link-alt"},null,-1),p(" Send TX ")]),8,mt)):d("",!0)])])]))),128))])])),i.pagination.totalPages>1?(l(),a("div",et,[t("button",{onClick:o[0]||(o[0]=s=>i.changePage(i.pagination.page-1)),disabled:i.pagination.page===1,class:"page-button"},o[19]||(o[19]=[t("i",{class:"fas fa-chevron-left"},null,-1)]),8,dt),t("div",ct," Page "+n(i.pagination.page)+" of "+n(i.pagination.totalPages),1),t("button",{onClick:o[1]||(o[1]=s=>i.changePage(i.pagination.page+1)),disabled:i.pagination.page===i.pagination.totalPages,class:"page-button"},o[20]||(o[20]=[t("i",{class:"fas fa-chevron-right"},null,-1)]),8,ft)])):d("",!0)])])])])}const ws=x(S,[["render",ut],["__scopeId","data-v-a55158c5"]]);export{ws as default};
