import{g as w}from"./solana-vendors-DGPAp7Fj.js";import{r as d}from"./vendor-uuid-42xqzRtG.js";var l,g;function R(){if(g)return l;g=1;const y=d.v4;return l=function(o,n,e,r){if(typeof o!="string")throw new TypeError(o+" must be a string");r=r||{};const t=typeof r.version=="number"?r.version:2;if(t!==1&&t!==2)throw new TypeError(t+" must be 1 or 2");const i={method:o};if(t===2&&(i.jsonrpc="2.0"),n){if(typeof n!="object"&&!Array.isArray(n))throw new TypeError(n+" must be an object, array or omitted");i.params=n}if(typeof e>"u"){const u=typeof r.generator=="function"?r.generator:function(){return y()};i.id=u(i,r)}else t===2&&e===null?r.notificationIdNull&&(i.id=null):i.id=e;return i},l}var a,h;function q(){if(h)return a;h=1;const y=d.v4,v=R(),o=function(n,e){if(!(this instanceof o))return new o(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return y()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};return a=o,o.prototype.request=function(n,e,r,t){const i=this;let u=null;const f=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&f)throw new TypeError("JSON-RPC 1.0 does not support batching");if(f||!f&&n&&typeof n=="object"&&typeof e=="function")t=e,u=n;else{typeof r=="function"&&(t=r,r=void 0);const s=typeof t=="function";try{u=v(n,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(s)return t(c);throw c}if(!s)return u}let p;try{p=JSON.stringify(u,this.options.replacer)}catch(s){return t(s)}return this.callServer(p,function(s,c){i._parseResponse(s,c,t)}),u},o.prototype._parseResponse=function(n,e,r){if(n){r(n);return}if(!e)return r();let t;try{t=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(t)){const i=function(f){return typeof f.error<"u"},u=function(f){return!i(f)};return r(null,t.filter(i),t.filter(u))}else return r(null,t.error,t.result);r(null,t)},a}var N=q();const j=w(N);export{j as R};
