import{T as Qt,w as U,v as it,f as Xt,b as vt}from"./vendor-vue/runtime-dom-Ll8vq9eS.js";import{a as y}from"./vendor-axios-Hz4xvOoZ.js";import{s as h}from"./index-BFwD7SI8.js";import{_ as gt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{b as $t,e as J,o as l,h as r,k as m,i as t,m as i,j as Z,F as P,l as V,H as x,c as w,a as to,E as oo,r as ft}from"./vendor-vue/runtime-core-CL52-QWR.js";import{_ as so}from"./coin-CkyoDAZC.js";import{t as n,b as g}from"./vendor-vue/shared-lLteBOIO.js";import{r as d}from"./vendor-vue/reactivity-CqT5sv9X.js";import"./vendor-process-DXjpGiAn.js";import"./solana-vendors-DGPAp7Fj.js";import"./vendor-buffer-DVXvU5G6.js";import"./vendor-base64-js-C2zTC7ec.js";import"./vendor-ieee754-vIlwft-x.js";import"./vendor-events-cQ9mhZQJ.js";import"./vendor-lodash.isequal-D20p4pc-.js";import"./vendor-elliptic-BTxzAQL_.js";import"./vendor-minimalistic-assert-OF9c2MWr.js";import"./vendor-minimalistic-crypto-utils-DpWPKLSp.js";import"./vendor-brorand-6pV8Y5jC.js";import"./vendor-crypto-browserify-NMg_40A5.js";import"./vendor-randombytes-ndKo2FAH.js";import"./vendor-safe-buffer-BPihLaHX.js";import"./vendor-create-hash-BsmGkCgx.js";import"./vendor-inherits-BICa84dG.js";import"./vendor-md5.js-BmCTTIue.js";import"./vendor-hash-base-CXljNKss.js";import"./vendor-readable-stream-BpYOL4VF.js";import"./vendor-asn1.js-Cgb4HcA4.js";import"./vendor-util-deprecate-C5bwERXh.js";import"./vendor-string_decoder-CzqD1_ea.js";import"./vendor-ripemd160-B-g9_ZaO.js";import"./vendor-sha.js-C_Iv65sP.js";import"./vendor-cipher-base-CVoreX1z.js";import"./vendor-stream-browserify-BiXhMpOM.js";import"./vendor-create-hmac-Dt8PQ7js.js";import"./vendor-browserify-sign-DLX2f2Lw.js";import"./vendor-process-nextick-args-DZA8cFXf.js";import"./vendor-core-util-is-OG-hh3cz.js";import"./vendor-browserify-rsa-DRghgnJS.js";import"./vendor-bn.js-CN51n21Z.js";import"./vendor-parse-asn1-CnRUGrVC.js";import"./vendor-evp_bytestokey-V5JLH1pP.js";import"./vendor-browserify-aes-Dzp1Wr7h.js";import"./vendor-buffer-xor-BGVZWPAd.js";import"./vendor-pbkdf2-D8c51p7I.js";import"./vendor-browserify-cipher-CRpPeA_V.js";import"./vendor-browserify-des-7ZFmx5Md.js";import"./vendor-des.js-DyWMuwdI.js";import"./vendor-diffie-hellman-CdruneMD.js";import"./vendor-miller-rabin-D60nYGZr.js";import"./vendor-create-ecdh-D3sJE6Oq.js";import"./vendor-public-encrypt-BRl7BMPZ.js";import"./vendor-randomfill-PyDjCq6P.js";import"./vendor-hash.js-Dda3EUYz.js";import"./vendor-hmac-drbg-Ss9liF53.js";import"./vendor-vueuse/core-Dowf-keF.js";import"./vendor-vueuse/shared-D4hqHlE2.js";import"./vendor-eventemitter3-C1FPriCL.js";import"./vendor-bignumber.js-Dj_rIxHg.js";import"./vendor-bigint-buffer-5mUCZ2jv.js";import"./vendor-noble/ed25519-DHS8bCE8.js";import"./vendor-node-fetch-DFwHyKwz.js";import"./vendor-url-Fv_L5Bhg.js";import"./vendor-qs-CKXrMD_V.js";import"./vendor-side-channel-CjkecZmv.js";import"./vendor-es-errors-CxTyLFAO.js";import"./vendor-object-inspect-C0kqJKki.js";import"./vendor-side-channel-list-DJbPV7dX.js";import"./vendor-side-channel-map-OCAkmCSB.js";import"./vendor-get-intrinsic-Ci-jyTpD.js";import"./vendor-es-object-atoms-BR76m4z7.js";import"./vendor-math-intrinsics-DP1tGiab.js";import"./vendor-gopd-C1lCZ5Qs.js";import"./vendor-es-define-property-D_7cP-M3.js";import"./vendor-has-symbols-CySAGvJ4.js";import"./vendor-get-proto-BI0zWv-p.js";import"./vendor-dunder-proto-5sdYuMkY.js";import"./vendor-call-bind-apply-helpers-BfAPCzjd.js";import"./vendor-function-bind-CHqF18-c.js";import"./vendor-hasown-CH2RbkDu.js";import"./vendor-call-bound-nPIHF2bX.js";import"./vendor-side-channel-weakmap-D938crsm.js";import"./vendor-whatwg-url-BNoC3hI6.js";import"./vendor-webidl-conversions-DuBT_cRJ.js";import"./vendor-punycode-BGZJxaHx.js";import"./vendor-tr46-_6nBz5KS.js";import"./vendor-mime-DOJa-gVj.js";import"./vendor-assert-CCtLV3vt.js";import"./vendor-util-BEO2nGWh.js";import"./vendor-is-arguments-D-oLGwWh.js";import"./vendor-has-tostringtag-BU9GnA_1.js";import"./vendor-is-generator-function-Bk_W3rfd.js";import"./vendor-safe-regex-test-BtqTbUmV.js";import"./vendor-is-regex-BKTFpgjH.js";import"./vendor-which-typed-array-Bufg-IXZ.js";import"./vendor-for-each-HvIZAWYy.js";import"./vendor-is-callable-BYFz_UGF.js";import"./vendor-available-typed-arrays-uQGnJldC.js";import"./vendor-possible-typed-array-names-BKRybAhF.js";import"./vendor-call-bind-3YpglFCb.js";import"./vendor-set-function-length-Cm7PFPrZ.js";import"./vendor-define-data-property-BppnLwnj.js";import"./vendor-has-property-descriptors-ChC8uhsk.js";import"./vendor-is-typed-array-CZaxorcA.js";import"./vendor-object.assign-D0NKsUk4.js";import"./vendor-object-keys-BRu_Tray.js";import"./vendor-object-is-DkNyiNMZ.js";import"./vendor-define-properties-CgTwYkbs.js";import"./vendor-is-nan-BtAA6g8u.js";import"./vendor-debug-DLVl9QA3.js";import"./vendor-ms-CzQ2E3wO.js";import"./vendor-babel/runtime-w7AU6ifp.js";import"./vendor-js-sha3-DkKfOMXT.js";import"./vendor-typescript-collections-DaJ0MJpz.js";import"./vendor-lodash.clonedeep-C3jeG2fR.js";import"./vendor-ansicolors-BFAL4nhq.js";import"./vendor-bs58-DhqqakFZ.js";import"./vendor-base-x-BHV1Xppf.js";import"./vendor-base64url-D1J1q9RC.js";import"./vendor-arbundles-CR3XhIxB.js";import"./vendor-async-retry-DWdC6xTk.js";import"./vendor-retry-ByBYrtbW.js";import"./vendor-irys/arweave-CO_npObX.js";import"./vendor-safer-buffer-CIAg7E_-.js";import"./vendor-secp256k1-gx_3s_gH.js";import"./vendor-keccak-Bl_8Z6TM.js";import"./vendor-ethersproject/bytes-BFUO92dS.js";import"./vendor-ethersproject/logger-BIOSViGG.js";import"./vendor-ethersproject/wallet-_-D8aoNy.js";import"./vendor-ethersproject/address-C-94Rlzo.js";import"./vendor-ethersproject/keccak256-BpI13PIi.js";import"./vendor-ethersproject/rlp-L8r_OHwd.js";import"./vendor-ethersproject/bignumber-DuyZ-PBD.js";import"./vendor-ethersproject/abstract-provider-BJATZ19F.js";import"./vendor-ethersproject/properties-Bism-GXA.js";import"./vendor-ethersproject/abstract-signer-vaofOY7d.js";import"./vendor-ethersproject/strings-BqJBhWqj.js";import"./vendor-ethersproject/hdnode-De1GriMn.js";import"./vendor-ethersproject/basex-GbQJAx3e.js";import"./vendor-ethersproject/signing-key-DZY4IiDE.js";import"./vendor-ethersproject/sha2-C3DRumhS.js";import"./vendor-ethersproject/wordlists-Bgp1_tq6.js";import"./vendor-ethersproject/pbkdf2-RF0eycJB.js";import"./vendor-ethersproject/json-wallets-DmRppK22.js";import"./vendor-aes-js-CVO7b-af.js";import"./vendor-scrypt-js-pU08l4Iy.js";import"./vendor-ethersproject/random-UwHXQyRf.js";import"./vendor-ethersproject/hash-CaQkUgof.js";import"./vendor-ethersproject/transactions-DgEmUiir.js";import"./vendor-irys/sdk-zMcAFY0m.js";import"./vendor-irys/query-BJ-9co3k.js";import"./vendor-near-js/crypto-DYaHgGqH.js";import"./vendor-borsh-uT6VLZDJ.js";import"./vendor-text-encoding-utf-8-CyyJ4wbt.js";import"./vendor-tweetnacl-DH0kfJ7g.js";import"./vendor-crypto-js-TDtrdbi3.js";import"./vendor-near-js/types-BW5UzBhQ.js";import"./vendor-near-js/keystores-browser-C7Ipq7jt.js";import"./vendor-near-js/keystores-DZ_AKmgs.js";import"./vendor-near-js/transactions-CNW8gb_X.js";import"./vendor-js-sha256-J9Bkl3or.js";import"./vendor-ethersproject/contracts-BfB5cMkz.js";import"./vendor-ethersproject/abi-BZPj2eRn.js";import"./vendor-ethersproject/constants-DnPC-4nq.js";import"./vendor-aptos-COdaePwy.js";import"./vendor-scure/base-BmqIkRj2.js";import"./vendor-supercharge/promise-pool-CxlJr3BL.js";import"./vendor-noble/curves-Bi3lEKLw.js";import"./vendor-noble/hashes-DJrKYuPd.js";import"./vendor-jayson-C-feTq4c.js";import"./vendor-uuid-42xqzRtG.js";import"./vendor-rpc-websockets-CS_NMCMZ.js";import"./vendor-vue-router-PmQVL-xb.js";import"./vendor-vuex-router-sync-DE8Azp4R.js";import"./vendor-vuex-KmQPsw4D.js";import"./vendor-vue/devtools-api-Cow_pXkh.js";import"./vendor-socket.io-client-Bfvk10tG.js";import"./vendor-engine.io-client-sigXSzQJ.js";import"./vendor-engine.io-parser-BiEtp6m2.js";import"./vendor-socket.io/component-emitter-Dkula2eQ.js";import"./vendor-socket.io-parser-Cuf20g09.js";const eo={name:"DaoInfoPopup",props:{isOpen:{type:Boolean,required:!0}},methods:{close(){this.$emit("close")}}};function ao(N,o,I,s,G,b){return l(),$t(Qt,{name:"modal"},{default:J(()=>[I.isOpen?(l(),r("div",{key:0,class:"modal-overlay",onClick:o[2]||(o[2]=(...f)=>b.close&&b.close(...f))},[t("div",{class:"modal-container",onClick:o[1]||(o[1]=U(()=>{},["stop"]))},[t("button",{class:"close-button",onClick:o[0]||(o[0]=(...f)=>b.close&&b.close(...f))},o[3]||(o[3]=[t("i",{class:"fas fa-times"},null,-1)])),o[4]||(o[4]=t("div",{class:"modal-content"},[t("div",{class:"modal-header"},[t("h2",null,[t("i",{class:"fas fa-landmark"}),i(" About BITCAT DAO")])]),t("div",{class:"modal-body"},[t("div",{class:"section"},[t("h3",null,[t("i",{class:"fas fa-vote-yea"}),i(" How BITCAT DAO Works")]),t("p",null,"BITCAT DAO is a decentralized autonomous organization where community members can propose and vote on important decisions:"),t("ul",null,[t("li",null,[t("i",{class:"fas fa-file-alt"}),i(" Create(free) proposals if you have 1M BITCAT tokens")]),t("li",null,[t("i",{class:"fas fa-coins"}),i(" Vote(free) with your BITCAT tokens")]),t("li",null,[t("i",{class:"fas fa-shield-alt"}),i(" Your tokens remain in your wallet")]),t("li",null,[t("i",{class:"fas fa-balance-scale"}),i(" Votes are weighted by token amount")])]),t("div",{class:"info-box"},[t("i",{class:"fas fa-info-circle"}),t("p",null,"Your tokens stay in your wallet during voting! We only verify your balance when counting votes to ensure fair participation.")])]),t("div",{class:"section"},[t("h3",null,[t("i",{class:"fas fa-tasks"}),i(" Proposal Stages")]),t("div",{class:"stages-grid"},[t("div",{class:"stage"},[t("i",{class:"fas fa-fire"}),t("h4",null,"Active"),t("p",null,"Current proposals open for community voting. The proposal with the most BITCAT votes wins.")]),t("div",{class:"stage"},[t("i",{class:"fas fa-check-circle"}),t("h4",null,"Completed"),t("p",null,"Winning proposals that have been approved by the community and will be implemented.")]),t("div",{class:"stage"},[t("i",{class:"fas fa-user-shield"}),t("h4",null,"My DAO"),t("p",null,"Manage your proposals, monitor votes, and track your participation in the DAO.")])])]),t("div",{class:"section"},[t("h3",null,[t("i",{class:"fas fa-chart-pie"}),i(" Voting System")]),t("ul",{class:"feature-list"},[t("li",null,[t("i",{class:"fas fa-check"}),t("div",null,[t("h4",null,"Fair Voting"),t("p",null,"Each BITCAT token counts as one vote, ensuring proportional representation.")])]),t("li",null,[t("i",{class:"fas fa-history"}),t("div",null,[t("h4",null,"Vote History"),t("p",null,"Track all your voting activities and proposal statuses.")])]),t("li",null,[t("i",{class:"fas fa-undo"}),t("div",null,[t("h4",null,"Vote Management"),t("p",null,"Cancel your votes during the active voting period.")])])])])]),t("div",{class:"section"},[t("h3",null,[t("i",{class:"fas fa-gift"}),i(" Rewards")]),t("p",null,"If you voted for the winning proposal you will receive rewards in the BITCAT universe. We are working on this functionality. Coming soon!")]),t("div",{class:"modal-footer"},[t("p",null,[t("i",{class:"fas fa-star"}),i(" Shape the future of BITCAT Universe through DAO governance!")])])],-1))])])):m("",!0)]),_:1})}const no=gt(eo,[["render",ao],["__scopeId","data-v-e330712e"]]),lo="/assets/DAO-hero-BLgoxrZs.png",ro={name:"DaoPage",components:{DaoInfoPopup:no},setup(){const N=d([]),o=d([]),I=d(0),s=d(0),G=d(0),b=d("active"),f=d(0),L=d(0),S=d(!1),Y=()=>{S.value=!0},W=()=>{S.value=!1},e=async()=>{try{console.log("Fetching groups...");const a=await y.get("/dao/get-groups");N.value=a.data}catch(a){console.error("Error fetching groups:",a)}},u=w(()=>h.getters.isAuthenticated),_=async()=>{try{console.log("Fetching offers...");const a=await y.get("/dao/get-offers");o.value=a.data}catch(a){console.error("Error fetching offers:",a)}},B=async()=>{try{if(console.log("Fetching user stats..."),!h.getters.isAuthenticated)return;const a=await y.get("/dao/get-user-stats");L.value=a.data.voted,I.value=a.data.totalStaked}catch(a){console.error("Error fetching user stats:",a)}},F=async()=>{try{console.log("Fetching user stats...");const a=await y.get("/dao/get-stats");G.value=a.data.activeVoters,s.value=a.data.totalStaked}catch(a){console.error("Error fetching user stats:",a)}},Q=d(!1),X=d(null),$=d(""),tt=d(!1),yt=a=>{X.value=a,Q.value=!0},bt=async()=>{var a,c;if(X.value){tt.value=!0,$.value="";try{await y.post("/dao/cancel-offer",{offerId:X.value.offerId}),Q.value=!1,v.value={type:"success",text:"Offer cancelled successfully!"},setTimeout(()=>{v.value=null},5e3),await _(),await B(),await F(),await pt()}catch(p){console.error("Error cancelling offer:",p),$.value=((c=(a=p.response)==null?void 0:a.data)==null?void 0:c.message)||"Failed to cancel proposal"}finally{tt.value=!1}}},ht=a=>{const c=o.value.filter(k=>{var C;return(((C=k.DaoOfferGroup)==null?void 0:C.nameTag)||k.groupNameTag||k.nameTag)===a}),p=h.getters.userTag,T=k=>k.filter(C=>{const R=C.status==="active"||!C.status,rt=C.votingEnd?new Date(C.votingEnd):null,Jt=!rt||rt>new Date;return R&&Jt}),K=k=>k.filter(A=>{if(A.status==="completed")return!0;const R=A.votingEnd?new Date(A.votingEnd):null;return R&&R<=new Date}),lt=k=>k.filter(A=>A.status==="completed"?!1:A.fromUserTag===p);let D;switch(b.value){case"active":D=T(c);break;case"completed":D=K(c);break;case"my":D=lt(c);break;default:D=c}return D},wt=a=>{nt.value=a,z.value="",H.value="",v.value=null,et.value=!0},kt=a=>{const T=new Date(a)-new Date;if(T<=0)return"Voting ended";const K=Math.floor(T/(1e3*60*60*24)),lt=Math.floor(T%(1e3*60*60*24)/(1e3*60*60)),D=Math.floor(T%(1e3*60*60)/(1e3*60));return`${K}d ${lt}h ${D}m left`},Ct=a=>a?new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",Tt=a=>new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),At=a=>a||"Anonymous",Pt=a=>!0,_t=d(!0),Dt=()=>{q.value=!0,M.value="",E.value={name:"",description:"",groupNameTag:""}},Vt=a=>{q.value=!0,M.value="",E.value={name:"",description:"",groupNameTag:a}},It=async()=>{var a,c;try{ot.value=!0,M.value="",v.value=null;const p=await y.post("/dao/add-offer",{name:E.value.name,description:E.value.description,groupNameTag:E.value.groupNameTag,wallet:h.getters.walletAddress});p.data.offerId?(q.value=!1,await _(),await B(),await F(),v.value={type:"success",text:"Proposal added successfully!"},setTimeout(()=>{v.value=null},5e3)):M.value=p.data.message||"Failed to create proposal"}catch(p){console.error("Error creating proposal:",p),M.value=((c=(a=p.response)==null?void 0:a.data)==null?void 0:c.message)||"Failed to create proposal. Try to login."}finally{ot.value=!1}},St=(a,c)=>{const p=new Date,T=c-a;return(p-a)/T*100},Mt=w(()=>N.value),Et=w(()=>o.value.filter(a=>a.status==="active"||!a.status).length),Ot=w(()=>o.value.filter(a=>a.status==="completed").length),xt=w(()=>{const a=h.getters.userTag;return o.value.filter(c=>c.fromUserTag===a).length}),Nt=w(()=>{switch(b.value){case"active":return"No Active Proposals";case"completed":return"No Completed Proposals";case"my":return"No Personal Proposals";default:return"No Proposals Found"}}),Bt=w(()=>{switch(b.value){case"active":return"There are no active proposals at the moment. Create one to get started!";case"completed":return"No proposals have been completed yet. Check back later!";case"my":return"You haven't created any proposals yet. Start participating in the DAO!";default:return"Start participating in the DAO by creating or voting on proposals."}}),Ft=w(()=>{if(!f.value||f.value===0)return 100;const c=(f.value-I.value)/f.value*100;return Math.round(c)}),q=d(!1),M=d(""),ot=d(!1),E=d({name:"",description:"",groupNameTag:""}),dt=async()=>{console.log("Fetching user balance...");try{const a=h.getters.walletAddress;if(console.log("Current wallet:",a),!a)return;const c=await y.get(`/dapp/get-bitcat-balance/${a}`);f.value=c.data.balance||0}catch(a){console.error("Error fetching user balance:",a)}},ct=d([]),st=async()=>{if(h.getters.isAuthenticated)try{const a=await y.get("/dao/get-user-votes/");ct.value=a.data}catch(a){console.error("Error fetching user votes:",a),v.value={type:"error",text:"Failed to fetch user votes"},setTimeout(()=>{v.value=null},5e3)}},Ht=async a=>{try{await y.post("/dao/cancel-user-vote",{voteId:a}),await st(),await _(),await F(),await B(),v.value={type:"success",text:"Vote cancelled successfully"},setTimeout(()=>{v.value=null},5e3)}catch(c){console.error("Error cancelling vote:",c),v.value={type:"error",text:"Failed to cancel vote"},setTimeout(()=>{v.value=null},5e3)}},et=d(!1),Ut=d(!1),H=d(""),at=d(!1),z=d(""),Gt=d([100,1e3,1e4,1e6]),nt=d(null),Lt=d(!1),v=d(null),Yt=a=>a>=1e6?a/1e6+"M":a>=1e3?a/1e3+"K":a.toString(),Wt=a=>{z.value=a},qt=async()=>{var a,c;try{at.value=!0,H.value="",v.value=null;const p=await y.post("/dao/add-vote",{offerId:nt.value.offerId,vote:Number(z.value),wallet:h.getters.walletAddress});p.data.voteId?(et.value=!1,await _(),await B(),await F(),await st(),await j(),v.value={type:"success",text:"Vote submitted successfully!"},setTimeout(()=>{v.value=null},5e3)):H.value=p.data.message||"Failed to submit vote"}catch(p){console.error("Error submitting vote:",p),H.value=((c=(a=p.response)==null?void 0:a.data)==null?void 0:c.message)||"Failed to submit vote. Try to login."}finally{at.value=!1}},zt=d(""),jt=w(()=>h.getters.walletAddress);to(jt,async()=>{await dt()});const mt=d([]),O=d(1),j=async(a=1)=>{try{const c=await y.get(`/dao/get-votes-history?page=${a}`);mt.value=c.data}catch(c){console.error("Error fetching voting history:",c),v.value={type:"error",text:"Failed to fetch voting history"},setTimeout(()=>{v.value=null},5e3)}},Kt=async()=>{O.value++,await j(O.value)},Rt=async()=>{O.value>1&&(O.value--,await j(O.value))},ut=d([]),pt=async()=>{try{if(!h.getters.isAuthenticated)return;const a=await y.get("/dao/get-user-offers/");ut.value=a.data}catch(a){console.error("Error fetching other proposals:",a)}},Zt=w(()=>a=>a?a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0");return oo(async()=>{await dt(),e(),_(),B(),F(),st(),j(),pt()}),{formatStakedAmount:Zt,showDaoInfo:S,openDaoInfo:Y,closeDaoInfo:W,userOtherProposals:ut,votingHistory:mt,currentHistoryPage:O,nextHistoryPage:Kt,prevHistoryPage:Rt,isAuthenticated:u,showCancelModal:Q,cancelError:$,isCancelling:tt,openCancelOfferModal:yt,cancelOffer:bt,groups:N,offers:o,totalStaked:s,totalUserStaked:I,activeVoters:G,getFilteredOffersForGroup:ht,openVoteModal:wt,formatTimeLeft:kt,formatDate:Ct,formatUserTag:At,canVote:Pt,canCreateProposal:_t,createProposal:Dt,createProposalInGroup:Vt,getProgress:St,activeTab:b,filteredGroups:Mt,getActiveCount:Et,getCompletedCount:Ot,getMyCount:xt,emptyStateMessage:Nt,emptyStateDescription:Bt,showCreateModal:q,createError:M,isSubmitting:ot,newProposal:E,submitProposal:It,userBalance:f,votedCount:L,showVoteModal:et,showFullInfo:Ut,voteError:H,isVoting:at,voteAmount:z,presetAmounts:Gt,selectedOffer:nt,formatAmount:Yt,selectAmount:Wt,submitVote:qt,showVoteInfo:Lt,serverMessage:v,errorMessage:zt,getVotingPercentage:Ft,userVotes:ct,cancelVote:Ht,formatHistoryDate:Tt}}},io={class:"dao-page"},co={key:0,class:"error-message-container"},mo={class:"error-message success"},uo={class:"error-content"},po={class:"content-container"},vo={class:"hero-section"},fo={class:"hero-content do-invert"},go={key:0,class:"hero-content-blur"},yo={class:"user-stats do-invert"},bo={class:"stat-card"},ho={class:"stat-info"},wo={class:"stat-value"},ko={class:"stat-card"},Co={class:"stat-info"},To={class:"stat-value"},Ao={class:"stat-card"},Po={class:"stat-info"},_o={class:"stat-value"},Do={class:"stat-card"},Vo={class:"stat-info"},Io={class:"stat-value"},So={class:"stats-section"},Mo={class:"stat-card"},Eo={class:"stat-content"},Oo={class:"stat-card"},xo={class:"stat-content"},No={class:"stat-card"},Bo={class:"stat-content"},Fo={class:"proposals-section"},Ho={class:"section-header"},Uo={class:"tabs"},Go={class:"count"},Lo={class:"count"},Yo={class:"count"},Wo={class:"proposals-section-buttons"},qo={class:"categories-container"},zo={key:0,class:"empty-state"},jo={class:"empty-state-content"},Ko={class:"group-header"},Ro={class:"group-title-wrap"},Zo={class:"group-title"},Jo={key:0,class:"group-description"},Qo={key:0,class:"voting-info"},Xo={class:"voting-dates"},$o={key:0},ts={key:1},os={key:2},ss={key:3},es={class:"proposals-list"},as={class:"proposals-list-title"},ns={key:0,class:"empty-group-state"},ls={class:"empty-group-content"},rs={key:0},is={key:1},ds={key:2},cs={key:3},ms={key:4},us=["onClick"],ps={key:0,class:"proposal-info"},vs={class:"vote-stats"},fs={key:0},gs={key:1},ys=["onClick"],bs=["onClick"],hs={key:0,class:"my-dao-sections"},ws={class:"my-votes-section"},ks={key:0,class:"empty-state"},Cs={key:1,class:"votes-list"},Ts={class:"vote-info"},As={class:"vote-details"},Ps={class:"vote-amount"},_s=["onClick"],Ds={class:"my-other-proposals-section"},Vs={key:0,class:"empty-state"},Is={class:"empty-state-content"},Ss={key:1,class:"other-proposals-list"},Ms={class:"proposal-header"},Es={class:"proposal-group"},Os={class:"proposal-name"},xs={class:"proposal-id"},Ns={class:"proposal-description"},Bs={class:"proposal-stats"},Fs={class:"proposal-date"},Hs={key:1,class:"voting-history-section"},Us={key:0,class:"empty-state"},Gs={key:0,class:"empty-state-content"},Ls={key:1,class:"empty-state-content"},Ys={key:1,class:"voting-history-list"},Ws={class:"history-info"},qs={class:"user-tag"},zs={class:"vote-amount"},js={class:"vote-date"},Ks={class:"pagination-controls"},Rs=["disabled"],Zs={class:"page-number"},Js=["disabled"],Qs={class:"modal-header"},Xs={class:"modal-body"},$s={class:"form-group"},te={class:"form-group"},oe={for:"proposalDescription"},se={class:"form-group"},ee=["value"],ae={key:0,class:"error-message error-message-proposal"},ne={class:"form-actions"},le=["disabled"],re={class:"proposal-info-note"},ie={class:"info-text"},de={class:"modal-header"},ce={class:"modal-body"},me={class:"proposal-summary"},ue={class:"proposal-summary-header"},pe={class:"proposal-summary-content"},ve={class:"summary-item"},fe={class:"summary-item"},ge={class:"preset-amounts"},ye=["onClick"],be={class:"form-group"},he={key:0,class:"message-container message-container-vote-proposal"},we={key:0,class:"error-message"},ke={class:"form-actions"},Ce=["disabled"],Te={class:"proposal-info-note"},Ae={class:"info-text"},Pe={class:"modal-header"},_e={class:"modal-body"},De={key:0,class:"error-message"},Ve={class:"form-actions"},Ie=["disabled"],Se=["disabled"],Me={key:0},Ee={key:1};function Oe(N,o,I,s,G,b){var S,Y,W;const f=ft("router-link"),L=ft("DaoInfoPopup");return l(),r(P,null,[t("div",io,[s.serverMessage?(l(),r("div",co,[t("div",mo,[t("div",uo,[o[31]||(o[31]=t("span",{class:"error-icon"},"⚠️",-1)),i(" "+n(s.serverMessage.text),1)]),t("button",{onClick:o[0]||(o[0]=e=>s.errorMessage=""),class:"close-error"},"×")])])):m("",!0),t("div",po,[o[79]||(o[79]=t("div",{class:"hero-image-container"},[t("img",{src:lo,alt:"DAO Hero",class:"hero-image"})],-1)),o[80]||(o[80]=t("div",{class:"title-section"},[t("h1",null,"BITCAT DAO"),t("p",null,"Shape the Future of BITCAT Together")],-1)),t("div",vo,[t("div",fo,[s.isAuthenticated?m("",!0):(l(),r("div",go,[t("span",null,[Z(f,{to:"/my"},{default:J(()=>o[32]||(o[32]=[i("Login")])),_:1}),o[33]||(o[33]=i(" to see your info"))])])),t("div",yo,[t("div",bo,[o[35]||(o[35]=t("i",{class:"fas fa-vote-yea"},null,-1)),t("div",ho,[t("span",wo,n(s.votedCount||0),1),o[34]||(o[34]=t("span",{class:"stat-label"},"Proposals Voted",-1))])]),t("div",ko,[o[37]||(o[37]=t("i",{class:"fas fa-file-alt"},null,-1)),t("div",Co,[t("span",To,n(s.getMyCount||0),1),o[36]||(o[36]=t("span",{class:"stat-label"},"Your Proposals",-1))])]),t("div",Ao,[o[39]||(o[39]=t("i",{class:"fas fa-coins"},null,-1)),t("div",Po,[t("span",_o,n(s.formatStakedAmount(s.userBalance)||0),1),o[38]||(o[38]=t("span",{class:"stat-label"},"BITCAT Balance",-1))])]),t("div",Do,[o[41]||(o[41]=t("i",{class:"fas fa-check-circle"},null,-1)),t("div",Vo,[t("span",Io,[i(n(s.formatStakedAmount(s.totalUserStaked)||0)+" ",1),t("small",{class:g({"percentage-positive":s.getVotingPercentage>0,"percentage-negative":s.getVotingPercentage<0,"percentage-neutral":s.getVotingPercentage===0})}," ("+n(s.getVotingPercentage>0?"+":"-")+n(s.getVotingPercentage)+"%) ",3)]),o[40]||(o[40]=t("span",{class:"stat-label"},"BITCAT's Vote",-1))])])])])]),t("div",So,[t("div",Mo,[o[43]||(o[43]=t("div",{class:"stat-icon"},"🏆",-1)),t("div",Eo,[t("h3",null,n(s.formatStakedAmount(s.totalStaked)||0),1),o[42]||(o[42]=t("p",null,"Total BITCAT's Vote",-1))])]),t("div",Oo,[o[45]||(o[45]=t("div",{class:"stat-icon"},"👥",-1)),t("div",xo,[t("h3",null,n(s.activeVoters||0),1),o[44]||(o[44]=t("p",null,"Total Voters",-1))])]),t("div",No,[o[47]||(o[47]=t("div",{class:"stat-icon"},"📜",-1)),t("div",Bo,[t("h3",null,n(s.getActiveCount||0),1),o[46]||(o[46]=t("p",null,"Active Proposals",-1))])])]),t("div",Fo,[t("div",Ho,[t("div",Uo,[t("button",{class:g(["tab",{active:s.activeTab==="active"}]),onClick:o[1]||(o[1]=e=>s.activeTab="active")},[o[48]||(o[48]=i(" Active ")),t("span",Go,"("+n(s.getActiveCount||0)+")",1)],2),t("button",{class:g(["tab",{active:s.activeTab==="completed"}]),onClick:o[2]||(o[2]=e=>s.activeTab="completed")},[o[49]||(o[49]=i(" Completed ")),t("span",Lo,"("+n(s.getCompletedCount)+")",1)],2),t("button",{class:g(["tab special",{active:s.activeTab==="my"}]),onClick:o[3]||(o[3]=e=>s.activeTab="my")},[o[50]||(o[50]=i(" My DAO ")),t("span",Yo,"("+n(s.getMyCount)+")",1)],2)]),t("div",Wo,[t("button",{class:"dao-info-proposal-btn",onClick:o[4]||(o[4]=(...e)=>s.openDaoInfo&&s.openDaoInfo(...e))}," DAO info "),s.canCreateProposal?(l(),r("button",{key:0,class:"create-proposal-btn",onClick:o[5]||(o[5]=(...e)=>s.createProposal&&s.createProposal(...e))}," Create Proposal ")):m("",!0)])]),t("div",qo,[s.filteredGroups.length?(l(!0),r(P,{key:1},V(s.filteredGroups,e=>(l(),r("div",{key:e.nameTag,class:"category-box"},[t("div",Ko,[t("div",Ro,[t("div",Zo,[o[52]||(o[52]=t("i",{class:"fas fa-layer-group"},null,-1)),t("h2",null,[o[51]||(o[51]=t("small",null,"Group:",-1)),i(" "+n(e.name),1)])]),e.description?(l(),r("p",Jo,n(e.description),1)):m("",!0)]),s.activeTab==="active"?(l(),r("div",Qo,[t("div",Xo,[t("div",{class:g(["voting-status",{"status-pending":!e.votingStart||!e.votingEnd,"status-upcoming":e.votingStart&&new Date(e.votingStart)>new Date,"status-active":e.votingStart&&e.votingEnd&&new Date(e.votingStart)<=new Date&&new Date(e.votingEnd)>new Date,"status-ended":e.votingEnd&&new Date(e.votingEnd)<=new Date}])},[t("i",{class:g(["fas",{"fa-clock":!e.votingStart||!e.votingEnd,"fa-hourglass-start":e.votingStart&&new Date(e.votingStart)>new Date,"fa-hourglass-half":e.votingStart&&e.votingEnd&&new Date(e.votingStart)<=new Date&&new Date(e.votingEnd)>new Date,"fa-hourglass-end":e.votingEnd&&new Date(e.votingEnd)<=new Date}])},null,2),!e.votingStart||!e.votingEnd?(l(),r("span",$o,"Voting is over, expect more soon")):new Date(e.votingStart)>new Date?(l(),r("span",ts,"Voting will begin: "+n(s.formatDate(e.votingStart)),1)):new Date(e.votingEnd)>new Date?(l(),r("span",os,"Voting ends in: "+n(s.formatTimeLeft(e.votingEnd)),1)):(l(),r("span",ss,"Voting ended: "+n(s.formatDate(e.votingEnd)),1))],2)])])):m("",!0)]),t("div",es,[t("h3",as,[o[53]||(o[53]=t("i",{class:"fas fa-list"},null,-1)),i(" Proposals: "+n(s.getFilteredOffersForGroup(e.nameTag).length),1)]),s.getFilteredOffersForGroup(e.nameTag).length===0?(l(),r("div",ns,[t("div",ls,[o[54]||(o[54]=t("i",{class:"fas fa-lightbulb"},null,-1)),s.activeTab==="completed"?(l(),r("h3",rs,"No Completed Proposals")):(l(),r("h3",is,"No Proposals Yet")),s.activeTab==="active"?(l(),r("p",ds,"Be the first to create a proposal in this group!")):s.activeTab==="completed"?(l(),r("p",cs,"No proposals have been completed yet. Check back later!")):(l(),r("p",ms,"Create a proposal in this group!")),s.activeTab==="active"&&s.canCreateProposal?(l(),r("button",{key:5,class:"create-proposal-btn",onClick:u=>s.createProposalInGroup(e.nameTag)}," Create Proposal ",8,us)):m("",!0)])])):(l(!0),r(P,{key:1},V(s.getFilteredOffersForGroup(e.nameTag),u=>(l(),r("div",{key:u.offerId,class:"proposal-item"},[u.status==="active"||s.activeTab==="completed"&&u.status==="completed"?(l(),r("div",ps,[t("h3",null,n(u.name),1),t("p",null,n(u.description),1),t("small",null,"Proposal ID: "+n(u.offerId),1),t("div",vs,[t("span",null,[o[55]||(o[55]=t("i",{class:"fas fa-user"},null,-1)),o[56]||(o[56]=i(" By ")),Z(f,{to:`/player/${s.formatUserTag(u.fromUserTag)}`},{default:J(()=>[i(n(s.formatUserTag(u.fromUserTag)),1)]),_:2},1032,["to"])]),t("span",null,[o[57]||(o[57]=t("i",{class:"fas fa-users"},null,-1)),i(" "+n(u.votes)+" voted ",1)]),t("span",null,[o[58]||(o[58]=t("i",{class:"fas fa-coins"},null,-1)),i(" "+n(s.formatStakedAmount(u.staked))+" BITCAT's ",1)]),s.activeTab!=="active"?(l(),r("span",fs,[o[59]||(o[59]=t("i",{class:"fas fa-check-circle"},null,-1)),i(" "+n(u.status),1)])):m("",!0),s.activeTab!=="active"?(l(),r("span",gs,[o[60]||(o[60]=t("i",{class:"fas fa-calendar-check"},null,-1)),i(" "+n(s.formatHistoryDate(u.updatedAt)),1)])):m("",!0)])])):m("",!0),s.activeTab==="active"?(l(),r("button",{key:1,class:"vote-button",onClick:_=>s.openVoteModal(u)},o[61]||(o[61]=[t("i",{class:"fas fa-vote-yea"},null,-1),i(" Vote ")]),8,ys)):m("",!0),s.activeTab==="my"&&u.status==="active"?(l(),r("button",{key:2,class:"vote-button",onClick:_=>s.openCancelOfferModal(u)},o[62]||(o[62]=[t("i",{class:"fas fa-vote-yea"},null,-1),i(" Cancel Proposal ")]),8,bs)):m("",!0)]))),128))])]))),128)):(l(),r("div",zo,[t("div",jo,[t("i",{class:g(["fas",{"fa-vote-yea":s.activeTab==="active","fa-check-circle":s.activeTab==="completed","fa-user-circle":s.activeTab==="my"}])},null,2),t("h3",null,n(s.emptyStateMessage),1),t("p",null,n(s.emptyStateDescription),1),s.activeTab==="active"&&s.canCreateProposal?(l(),r("button",{key:0,class:"create-proposal-btn",onClick:o[6]||(o[6]=(...e)=>s.createProposal&&s.createProposal(...e))}," Create First Proposal ")):m("",!0)])]))]),s.activeTab==="my"?(l(),r("div",hs,[t("div",ws,[o[66]||(o[66]=t("h2",{class:"section-title"},[t("i",{class:"fas fa-vote-yea"}),i(" My Votes ")],-1)),s.userVotes.length===0?(l(),r("div",ks,o[63]||(o[63]=[t("div",{class:"empty-state-content"},[t("i",{class:"fas fa-vote-yea"}),t("h3",null,"No Votes Yet"),t("p",null,"You haven't voted on any proposals yet.")],-1)]))):(l(),r("div",Cs,[(l(!0),r(P,null,V(s.userVotes,e=>(l(),r("div",{key:e.voteId,class:"vote-item"},[t("div",Ts,[t("h3",null,[t("small",null,n(e.offer.groupName),1),t("span",null,n(e.offer.name),1),t("small",null,"Proposal ID: "+n(e.offer.offerId.slice(0,4))+"..."+n(e.offer.offerId.slice(-4)),1)]),t("p",null,[o[64]||(o[64]=t("i",{class:"fas fa-users"},null,-1)),i(" "+n(e.offer.votes)+" voted",1)]),t("p",null,[o[65]||(o[65]=t("i",{class:"fas fa-coins"},null,-1)),i(" "+n(s.formatStakedAmount(e.offer.staked))+" BITCAT's",1)]),t("div",As,[t("span",Ps,"Your votes: "+n(s.formatStakedAmount(e.staked))+" BITCAT's",1),t("button",{onClick:u=>s.cancelVote(e.voteId),class:"cancel-vote-btn"}," Cancel Vote ",8,_s)])])]))),128))]))]),t("div",Ds,[o[72]||(o[72]=t("h2",{class:"section-title"},[t("i",{class:"fas fa-file-alt"}),i(" My Proposals History ")],-1)),s.userOtherProposals.length===0?(l(),r("div",Vs,[t("div",Is,[o[67]||(o[67]=t("i",{class:"fas fa-folder-open"},null,-1)),o[68]||(o[68]=t("h3",null,"No Proposals",-1)),o[69]||(o[69]=t("p",null,"Here you'll find completed, canceled, blocked proposals",-1)),s.canCreateProposal?(l(),r("button",{key:0,class:"create-proposal-btn",onClick:o[7]||(o[7]=(...e)=>s.createProposal&&s.createProposal(...e))}," Create Proposal ")):m("",!0)])])):(l(),r("div",Ss,[(l(!0),r(P,null,V(s.userOtherProposals,e=>(l(),r("div",{key:e.offerId,class:"other-proposal-item"},[t("div",Ms,[t("small",Es,n(e.DaoOfferGroup.name),1),t("span",{class:g(["proposal-status",e.status])},n(e.status),3)]),t("h3",Os,n(e.name),1),t("small",xs,"ID: "+n(e.offerId.slice(0,4))+"..."+n(e.offerId.slice(-4)),1),t("p",Ns,n(e.description),1),t("div",Bs,[t("span",null,[o[70]||(o[70]=t("i",{class:"fas fa-users"},null,-1)),i(" "+n(e.votes)+" voted ",1)]),t("span",null,[o[71]||(o[71]=t("i",{class:"fas fa-coins"},null,-1)),i(" "+n(s.formatStakedAmount(e.staked))+" BITCAT's ",1)]),t("small",Fs," Updated: "+n(s.formatHistoryDate(e.updatedAt)),1)])]))),128))]))])])):m("",!0),s.activeTab==="active"?(l(),r("div",Hs,[o[78]||(o[78]=t("h2",{class:"section-title"},[t("i",{class:"fas fa-history"}),i(" Voting History ")],-1)),s.votingHistory.length===0?(l(),r("div",Us,[s.currentHistoryPage===1?(l(),r("div",Gs,o[73]||(o[73]=[t("i",{class:"fas fa-history"},null,-1),t("h3",null,"No Voting History",-1),t("p",null,"There are no votes recorded yet.",-1)]))):(l(),r("div",Ls,o[74]||(o[74]=[t("i",{class:"fas fa-history"},null,-1),t("h3",null,"No More Voting History",-1),t("p",null,"There are no more votes recorded.",-1)])))])):(l(),r("div",Ys,[(l(!0),r(P,null,V(s.votingHistory,e=>(l(),r("div",{key:e.voteId,class:"history-item"},[t("div",Ws,[t("span",qs,[Z(f,{to:`/player/${s.formatUserTag(e.userTag)}`},{default:J(()=>[i(n(s.formatUserTag(e.userTag)),1)]),_:2},1032,["to"])]),t("span",zs,[o[75]||(o[75]=t("i",{class:"fas fa-coins"},null,-1)),i(" "+n(s.formatStakedAmount(e.stake))+" BITCAT's ",1)]),t("small",null,"Vote ID: "+n(e.voteId.slice(0,4))+"..."+n(e.voteId.slice(-4)),1),t("small",null,"Proposal ID: "+n(e.offer.slice(0,4))+"..."+n(e.offer.slice(-4)),1),t("span",js,n(s.formatHistoryDate(e.createdAt)),1)])]))),128))])),t("div",Ks,[t("button",{onClick:o[8]||(o[8]=(...e)=>s.prevHistoryPage&&s.prevHistoryPage(...e)),disabled:s.currentHistoryPage===1,class:"pagination-btn"},o[76]||(o[76]=[t("i",{class:"fas fa-chevron-left"},null,-1)]),8,Rs),t("span",Zs,"Page "+n(s.currentHistoryPage),1),t("button",{onClick:o[9]||(o[9]=(...e)=>s.nextHistoryPage&&s.nextHistoryPage(...e)),disabled:s.votingHistory.length===0,class:"pagination-btn"},o[77]||(o[77]=[t("i",{class:"fas fa-chevron-right"},null,-1)]),8,Js)])])):m("",!0)]),o[81]||(o[81]=t("img",{src:so,alt:"COIN",class:"page-dao__coin"},null,-1))])]),s.showCreateModal?(l(),r("div",{key:0,class:"modal-overlay",onClick:o[18]||(o[18]=e=>s.showCreateModal=!1)},[t("div",{class:"modal-content",onClick:o[17]||(o[17]=U(()=>{},["stop"]))},[t("div",Qs,[o[83]||(o[83]=t("h2",null,"Create New Proposal",-1)),t("button",{class:"close-button",onClick:o[10]||(o[10]=e=>s.showCreateModal=!1)},o[82]||(o[82]=[t("i",{class:"fas fa-times"},null,-1)]))]),t("div",Xs,[t("form",{onSubmit:o[15]||(o[15]=U((...e)=>s.submitProposal&&s.submitProposal(...e),["prevent"])),class:"proposal-form"},[t("div",$s,[o[84]||(o[84]=t("label",{for:"proposalName"},"Name",-1)),x(t("input",{id:"proposalName","onUpdate:modelValue":o[11]||(o[11]=e=>s.newProposal.name=e),type:"text",placeholder:"Enter proposal name",required:"",autocomplete:"off"},null,512),[[it,s.newProposal.name]])]),t("div",te,[t("label",oe,"Description ("+n(s.newProposal.description.length)+"/300)",1),x(t("textarea",{id:"proposalDescription","onUpdate:modelValue":o[12]||(o[12]=e=>s.newProposal.description=e),placeholder:"Enter proposal description",rows:"4",required:""},null,512),[[it,s.newProposal.description]])]),t("div",se,[o[86]||(o[86]=t("label",{for:"proposalGroup"},"Group",-1)),x(t("select",{id:"proposalGroup","onUpdate:modelValue":o[13]||(o[13]=e=>s.newProposal.groupNameTag=e),required:""},[o[85]||(o[85]=t("option",{value:"",disabled:""},"Select a group",-1)),(l(!0),r(P,null,V(s.groups,e=>(l(),r("option",{key:e.nameTag,value:e.nameTag},n(e.name),9,ee))),128))],512),[[Xt,s.newProposal.groupNameTag]])]),s.createError?(l(),r("div",ae,[o[87]||(o[87]=t("i",{class:"fas fa-exclamation-circle"},null,-1)),i(" "+n(s.createError),1)])):m("",!0),t("div",ne,[t("button",{type:"button",class:"cancel-button",onClick:o[14]||(o[14]=e=>s.showCreateModal=!1)}," Cancel "),t("button",{type:"submit",class:"submit-button",disabled:s.isSubmitting},n(s.isSubmitting?"Creating...":"Create Proposal"),9,le)])],32),t("div",re,[t("div",{class:g(["info-content",{expanded:s.showFullInfo}])},[o[89]||(o[89]=t("i",{class:"fas fa-info-circle"},null,-1)),t("div",ie,[t("p",null,[o[88]||(o[88]=i(" Note: Proposals can be created by BITCAT holders with at least 1M tokens or authorized users with creation rights. Creating a proposal is free, you just need to be a holder. ")),x(t("span",null," Offensive proposals will be removed, and creators can withdraw their proposals from voting at any time. ",512),[[vt,s.showFullInfo]])]),t("button",{class:"toggle-info",onClick:o[16]||(o[16]=e=>s.showFullInfo=!s.showFullInfo)},n(s.showFullInfo?"Show Less":"Show More"),1)])],2)])])])])):m("",!0),Z(L,{"is-open":s.showDaoInfo,onClose:s.closeDaoInfo},null,8,["is-open","onClose"]),s.showVoteModal?(l(),r("div",{key:1,class:"modal-overlay",onClick:o[25]||(o[25]=e=>s.showVoteModal=!1)},[t("div",{class:"modal-content vote-modal",onClick:o[24]||(o[24]=U(()=>{},["stop"]))},[t("div",de,[o[91]||(o[91]=t("h2",null,"Vote for Proposal",-1)),t("button",{class:"close-button",onClick:o[19]||(o[19]=e=>s.showVoteModal=!1)},o[90]||(o[90]=[t("i",{class:"fas fa-times"},null,-1)]))]),t("div",ce,[t("div",me,[t("div",ue,[o[92]||(o[92]=t("i",{class:"fas fa-file-alt"},null,-1)),t("h3",null,n((S=s.selectedOffer)==null?void 0:S.name),1)]),t("div",pe,[t("div",ve,[o[93]||(o[93]=t("span",{class:"label"},"Created by:",-1)),t("span",null,n(s.formatUserTag((Y=s.selectedOffer)==null?void 0:Y.fromUserTag)),1)]),t("div",fe,[o[94]||(o[94]=t("span",{class:"label"},"Current Voters:",-1)),t("span",null,n(((W=s.selectedOffer)==null?void 0:W.votes)||0),1)])])]),t("div",ge,[(l(!0),r(P,null,V(s.presetAmounts,e=>(l(),r("button",{key:e,type:"button",class:g(["preset-button",{active:s.voteAmount===e}]),onClick:u=>s.selectAmount(e)},n(s.formatAmount(e)),11,ye))),128))]),t("div",be,[o[95]||(o[95]=t("label",{for:"customAmount"},"Or enter custom amount:",-1)),x(t("input",{id:"customAmount","onUpdate:modelValue":o[20]||(o[20]=e=>s.voteAmount=e),type:"number",min:"1",placeholder:"Enter amount of tokens",class:"custom-amount"},null,512),[[it,s.voteAmount]])]),s.voteError||s.serverMessage?(l(),r("div",he,[s.voteError?(l(),r("div",we,[o[96]||(o[96]=t("i",{class:"fas fa-exclamation-circle"},null,-1)),i(" "+n(s.voteError),1)])):m("",!0),s.serverMessage?(l(),r("div",{key:1,class:g(["server-message",s.serverMessage.type])},[t("i",{class:g(["fas",{"fa-check-circle":s.serverMessage.type==="success","fa-exclamation-triangle":s.serverMessage.type==="warning","fa-info-circle":s.serverMessage.type==="info"}])},null,2),i(" "+n(s.serverMessage.text),1)],2)):m("",!0)])):m("",!0),t("div",ke,[t("button",{type:"button",class:"cancel-button",onClick:o[21]||(o[21]=e=>s.showVoteModal=!1)}," Cancel "),t("button",{type:"button",class:"submit-button",disabled:s.isVoting||!s.voteAmount,onClick:o[22]||(o[22]=(...e)=>s.submitVote&&s.submitVote(...e))},n(s.isVoting?"Voting...":"Submit Vote"),9,Ce)]),t("div",Te,[t("div",{class:g(["info-content",{expanded:s.showVoteInfo}])},[o[98]||(o[98]=t("i",{class:"fas fa-info-circle"},null,-1)),t("div",Ae,[t("p",null,[o[97]||(o[97]=i(" Note: The tokens you vote with will not be staked. ")),x(t("span",null," However, at the end of voting period, we will verify if you still have these tokens in your wallet. Votes without corresponding tokens will be excluded from the final count. ",512),[[vt,s.showVoteInfo]])]),t("button",{class:"toggle-info",onClick:o[23]||(o[23]=e=>s.showVoteInfo=!s.showVoteInfo)},n(s.showVoteInfo?"Show Less":"Show More"),1)])],2)])])])])):m("",!0),s.showCancelModal?(l(),r("div",{key:2,class:"modal-overlay",onClick:o[30]||(o[30]=e=>s.showCancelModal=!1)},[t("div",{class:"modal-content",onClick:o[29]||(o[29]=U(()=>{},["stop"]))},[t("div",Pe,[o[100]||(o[100]=t("h2",null,"Cancel Proposal",-1)),t("button",{class:"close-button",onClick:o[26]||(o[26]=e=>s.showCancelModal=!1)},o[99]||(o[99]=[t("i",{class:"fas fa-times"},null,-1)]))]),t("div",_e,[o[103]||(o[103]=t("div",{class:"warning-message"},[t("i",{class:"fas fa-exclamation-triangle"}),t("p",null,"Warning! If you cancel this proposal:"),t("ul",null,[t("li",null,"All votes will be permanently lost"),t("li",null,"Votes cannot be restored"),t("li",null,"The proposal will be removed from voting"),t("li",null,"Other users will not see this proposal anymore")]),t("p",null,"Are you sure you want to cancel this proposal?")],-1)),s.cancelError?(l(),r("div",De,[o[101]||(o[101]=t("i",{class:"fas fa-exclamation-circle"},null,-1)),i(" "+n(s.cancelError),1)])):m("",!0),t("div",Ve,[t("button",{class:"cancel-button",onClick:o[27]||(o[27]=e=>s.showCancelModal=!1),disabled:s.isCancelling}," No, Keep Proposal ",8,Ie),t("button",{class:"submit-button",onClick:o[28]||(o[28]=(...e)=>s.cancelOffer&&s.cancelOffer(...e)),disabled:s.isCancelling},[s.isCancelling?(l(),r("span",Me,o[102]||(o[102]=[t("i",{class:"fas fa-spinner fa-spin"},null,-1),i(" Cancelling... ")]))):(l(),r("span",Ee,"Yes, Cancel Proposal"))],8,Se)])])])])):m("",!0)],64)}const or=gt(ro,[["render",Oe],["__scopeId","data-v-fdbdac0a"]]);export{or as default};
