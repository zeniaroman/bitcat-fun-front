import{w as z,T as B,b as vt,e as ht,v as pt}from"./vendor-vue/runtime-dom-Ll8vq9eS.js";import{a as K,u as ft}from"./vendor-vue-router-PmQVL-xb.js";import{u as Q}from"./vendor-vuex-KmQPsw4D.js";/* empty css                                                                     */import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as b,u as Tt}from"./vendor-vue/reactivity-CqT5sv9X.js";import{c as I,n as Z,E as tt,a as S,b as et,o,e as $,H as at,i as t,h as c,m as P,F as st,l as nt,j as O,k as f,J as yt}from"./vendor-vue/runtime-core-CL52-QWR.js";import{t as E,b as _,a as j}from"./vendor-vue/shared-lLteBOIO.js";import"./vendor-vue/devtools-api-Cow_pXkh.js";const bt={class:"agents-list-container"},kt={class:"agents-content"},At={class:"agents-header"},_t={class:"agents-header-section-left"},Ct={key:0,class:"agents-list"},wt={key:1,class:"find-agent-section"},St={key:2,class:"agents-list"},It={class:"agent-info"},Et=["src","alt"],Lt={class:"agent-details"},Bt=["onClick"],$t={key:0,class:"agent-last-message-ago"},Gt={class:"agent-actions"},Mt=["onClick"],xt=["onClick"],Ht={key:0,class:"delete-confirmation"},Nt={class:"delete-confirmation-content"},Ot={class:"delete-confirmation-buttons"},Pt=["onClick"],Dt={class:"find-agent-section"},Ft={__name:"AiAgentsList",props:{isLightTheme:{type:Boolean,default:!1}},emits:["close","select-agent"],setup(v,{emit:G}){const i=K(),h=Q(),C=b(null),m=u=>{h.commit("TOGGLE_CHAT",!1),i.push(u)},k=G,w=b(!0),A=I(()=>h.getters.chatAgents),J=I(()=>h.getters.agentsListOpen),g=()=>{h.commit("TOGGLE_AGENTS_LIST",!1),k("close")},M=u=>`https://bitcat.fun/data/ai-agents/bitcat-ai-agent-avatar-${u}.png`,x=u=>{var s;return((s=h.getters.currentAgent)==null?void 0:s.agentTag)===u.agentTag},y=u=>{var F;const l=JSON.parse(localStorage.getItem("chatHistory")||"{}")[u]||[],p=(F=l[l.length-1])==null?void 0:F.timestamp;if(!p)return"";const H=Date.now(),R=typeof p=="string"?new Date(p).getTime():p,L=H-R,T=Math.floor(L/6e4);return T<60?`${T||1}m`:T<1440?`${Math.floor(T/60)}h`:`${Math.floor(T/1440)}d`};setInterval(()=>{Z()},6e4);const d=u=>{h.commit("SELECT_AGENT",u),k("select-agent",u),k("close")},D=u=>{u.agentTag!=="main_agent"&&h.commit("DELETE_AGENT",u.agentTag)};return tt(()=>{h.commit("LOAD_CHAT_AGENTS"),w.value=!1}),S(()=>h.getters.agentInfo,()=>{h.commit("LOAD_CHAT_AGENTS")},{deep:!0}),(u,s)=>(o(),et(B,{name:"slide-fade"},{default:$(()=>[at(t("div",bt,[t("div",kt,[t("div",At,[t("div",_t,[s[4]||(s[4]=t("h2",null,"AI Agents",-1)),t("button",{onClick:s[0]||(s[0]=l=>m("/create-agent")),class:"agent-button agent-button-small"},s[3]||(s[3]=[t("i",{class:"fas fa-plus"},null,-1),P(" Create ")]))]),t("button",{class:"close-button",onClick:g},"Ã—")]),w.value?(o(),c("div",Ct,s[5]||(s[5]=[t("div",{class:"agent-card"},[t("div",{class:"agent-info"},[t("div",{class:"loading-avatar"}),t("div",{class:"agent-details"},[t("div",{class:"loading-text"}),t("div",{class:"loading-text-small"})])])],-1)]))):A.value.length===0?(o(),c("div",wt,s[6]||(s[6]=[t("span",null,[t("i",{class:"fas fa-info-circle"}),P(" No chats yet. Start Your First Chat ")],-1)]))):(o(),c("div",St,[(o(!0),c(st,null,nt(A.value,l=>(o(),c("div",{key:l.agentTag,class:"agent-item"},[t("div",It,[t("img",{src:M(l.avatar),alt:l.name,class:"agent-avatar no-invert"},null,8,Et),t("div",Lt,[t("h3",null,E(l.name),1),t("button",{onClick:z(p=>m("/ai-agents/"+l.agentTag),["stop"]),class:"agent-link-button"},E(l.agentTag),9,Bt),l.agentTag!=="main_agent"?(o(),c("small",$t,E(y(l.agentTag))+" ago",1)):f("",!0)])]),t("div",Gt,[t("button",{class:_(["use-button",{active:x(l)}]),onClick:p=>d(l)}," Chat ",10,Mt),l.agentTag!=="main_agent"?(o(),c("button",{key:0,class:"delete-button",onClick:p=>C.value=l},s[7]||(s[7]=[t("i",{class:"fas fa-trash"},null,-1)]),8,xt)):f("",!0)]),O(B,{name:"fade"},{default:$(()=>{var p;return[((p=C.value)==null?void 0:p.agentTag)===l.agentTag?(o(),c("div",Ht,[t("div",Nt,[s[8]||(s[8]=t("p",null,"Chat history will be deleted and cannot be restored",-1)),t("div",Ot,[t("button",{class:"delete-confirm-button",onClick:H=>{D(l),C.value=null}}," Delete ",8,Pt),t("button",{class:"delete-cancel-button",onClick:s[1]||(s[1]=H=>C.value=null)}," Cancel ")])])])):f("",!0)]}),_:2},1024)]))),128))])),t("div",Dt,[t("button",{onClick:s[2]||(s[2]=l=>m("/ai-agents")),class:"agent-button"},s[9]||(s[9]=[t("i",{class:"fas fa-rocket"},null,-1),P(" Explore AI Agents ")]))])])],512),[[vt,J.value]])]),_:1}))}},Vt=X(Ft,[["__scopeId","data-v-10dbd8cc"]]),Ut=["src"],zt={key:0,class:"first-visit-tooltip do-invert"},Jt={key:1,class:"chat-window-overlay"},Rt={class:"chat-header"},Wt={class:"header-left"},Yt={key:0,class:"agent-tooltip"},qt=["src"],jt={class:"header-title"},Kt={class:"chat-header-title"},Qt={class:"header-controls"},Xt={class:"chat-messages"},Zt={key:0,class:"message agent-message"},te={class:"message-content"},ee={class:"typing-animation"},ae={key:0},se={key:1,class:"message agent-message"},ne={class:"message-content"},oe={class:"typing-animation"},ie=["innerHTML"],le={class:"message-content"},re={key:0,class:"tech-decoration"},ce={class:"chat-input"},ue={class:"input-wrapper"},de=["disabled"],ge={__name:"AiAgentButton",props:{withButton:{type:Boolean,default:!0},isOpenProp:{type:Boolean,default:!1},isAbsolute:{type:Boolean,default:!0},isFullScreen:{type:Boolean,default:!1},maxHeight:{type:String,default:"600px"},zIndex:{type:Number,default:1e3}},setup(v){const G=v,i=Q(),h=ft(),C=K(),m=I(()=>G.withButton?i.getters.chatOpen:G.isOpenProp),k=b(""),w=b(!1),A=b(!1),J=I({get:()=>i.getters.agentsListOpen,set:e=>i.commit("TOGGLE_AGENTS_LIST",e)}),g=I(()=>i.getters.currentAgent),M=b(!1),x=b(!1),y=b(!1),d=b({}),D=I(()=>(d.value[g.value.agentTag]||[]).slice(-20)),u=()=>{const e=!m.value;w.value&&e?window.document.body.style.overflow="hidden":window.document.body.style.overflow="auto",i.commit("TOGGLE_CHAT",e)},s=e=>e?(e.toString().includes("https://")&&(e=26),`https://bitcat.fun/data/ai-agents/bitcat-ai-agent-avatar-${e}.png`):"https://bitcat.fun/data/ai-agents/bitcat-ai-agent-avatar-26.png",l=e=>{u(),C.push(`/ai-agents/${e}`)},p=()=>{const e=h.name;L[e]?T.value={...L[e],routeName:e}:(L.NoDescription.title=e,T.value={...L.NoDescription,routeName:e})},H=e=>{const a=e.target.dataset.path;a&&R(a)},R=e=>{m.value=!1,setTimeout(()=>{C.push(e)},250)},L={Universe:{title:"BITCAT Universe! ğŸŒŒ",description:"This is your gateway to the exciting world of BITCAT. Here you can explore various game modes with <button class='button-link' data-path='/solo'>Solo Game</button>, <button class='button-link' data-path='/hide-seek'>PvP Game</button>, Multiplayer Game(soon) and <button class='button-link' data-path='/leaderboard'>Leaderboard</button>. Game Market with <button class='button-link' data-path='/nft-market'>NFT Marketplace</button>, Assets Exchange(soon). BITCAT Society with <button class='button-link' data-path='/dao'>DAO Voting</button>, MEME Gallery(soon). Check it out and start your adventure! Find out more by clicking on the About BITCAT Universe button."},SoloGame:{title:"Solo Game ğŸ®",description:"Challenge yourself in this single-player mode! PUMP cat and to get points(Weight). You need it for <button class='button-link' data-path='/hide-seek'>PvP Game</button> battle. Can you make it to the top? ğŸ†"},Leaderboard:{title:"Leaderboard ğŸ†",description:"Check out the top players by Best score, Cat weight and Multiplier win/lose. Can you make it to the top?"},Roadmap:{title:"BITCAT Roadmap ğŸ—ºï¸",description:"Explore our exciting plans for the future! See what features and updates are coming next."},MyBITCAT:{title:"My BITCAT Profile ğŸ˜º",description:"Your personal space where you can manage your BITCAT, check stats, and view your achievements."},MultiplayerGame:{title:"Multiplayer Arena ğŸ¤º",description:"Challenge other players in real-time battles! Show your skills and climb the ranks."},"nft-market":{title:"NFT Marketplace ğŸª",description:"Browse, buy, and sell unique BITCAT NFTs. Find rare items and special collections! Coming soon."},Player:{title:"Player Profile ğŸ‘¤",description:"View detailed information about players, their achievements, rates, and game history."},Arena:{title:"Battle Arena âš”ï¸",description:"Enter the arena and face off against other players in epic battles!"},HideSeek:{title:"Hide & Seek Game(PvP) ğŸ•µï¸",description:"A thrilling game mode where stealth and luck are key to victory. No more points to play? Let's PUMP your cat on <button class='button-link' data-path='/solo'>Solo Game</button> to get points ğŸ†"},Dao:{title:"DAO Voting ğŸ›ï¸",description:"Participate in the BITCAT community governance. Vote on proposals and shape the future of the BITCAT Universe! Create your own proposals and share your ideas with the community. It's all for free. You just need to have BITCAT tokents on your wallet to vote."},Changelog:{title:"Changelog ğŸ“",description:"Stay up to date with the latest updates and improvements to BITCAT. Here we share our progress and features log."},NoDescription:{title:"",description:"I think this page is clear without my explanation. ğŸ¤“"}},T=b(null),F=()=>{i.commit("TOGGLE_AGENTS_LIST")},ot=e=>{i.commit("SELECT_AGENT",e)},V=(e,a,n)=>{const r=g.value.agentTag;if(d.value[r]||(d.value[r]=[]),n){const N=d.value[r].findIndex(mt=>mt.id===n);N!==-1&&(d.value[r][N].content==="..."&&(d.value[r][N].content=""),d.value[r][N].content.endsWith(e)||(d.value[r][N].content+=e))}else n=Math.random().toString(36).substr(2,9),d.value[r].push({id:n,content:e,type:a,timestamp:Date.now()});return d.value[r].length>20&&(d.value[r]=d.value[r].slice(-20)),localStorage.setItem("chatHistory",JSON.stringify(d.value)),U(),n},U=()=>{Z(()=>{const e=document.querySelector(".chat-messages");e&&(e.scrollTop=e.scrollHeight)})},W=async()=>{if(!k.value.trim()||y.value)return;y.value=!0;const e=k.value;k.value="",V(e,"user");const a=V("...","agent");try{i.getters.socket.emit("user-reply",{messageId:a,message:e,agentTag:g.value.agentTag})}catch(n){console.error("Error sending message:",n),y.value=!1}},it=()=>{i.getters.socket.on("ai-reply",e=>{const{message:a,agentTag:n,messageId:r}=e;n===g.value.agentTag&&V(a,"agent",r),y.value=!1}),i.getters.socket.on("ai-error",e=>{const{message:a,agentTag:n,messageId:r}=e;n===g.value.agentTag&&V(a,"agent",r),y.value=!1})},Y=async()=>{await i.dispatch("initSocket")},lt=()=>{A.value=!A.value},q=()=>{w.value=window.innerWidth<=768},rt=()=>{localStorage.getItem("bitcat_ai_visited")||(M.value=!0)},ct=()=>{M.value=!1,localStorage.setItem("bitcat_ai_visited","true")},ut=()=>{x.value=!1,localStorage.setItem("agentTooltipShown","true")},dt=()=>{localStorage.getItem("agentTooltipShown")||(x.value=!0)};tt(async()=>{G.withButton||await Y();const e=i.getters.currentAgent;e&&e.agentTag&&e.agentTag.startsWith("token_agent_")&&i.commit("SELECT_AGENT",{name:"BITCAT AI Agent",agentTag:"main_agent",description:"Main AI Agent",avatar:26});const a=localStorage.getItem("chatHistory");a&&(d.value=JSON.parse(a)),U(),q(),window.addEventListener("resize",q),rt(),dt()}),yt(()=>{i.dispatch("cleanup")});const gt=I(()=>i.getters.isSocketConnected);return S(gt,e=>{e&&it()}),S(()=>g.value,()=>{U()}),S(()=>m.value,async()=>{m.value&&(i.getters.isSocketConnected||await Y()),U()}),S(()=>i.getters.currentAgent,e=>{if(e&&e.agentTag){if(e.agentTag.startsWith("token_agent_")){setTimeout(()=>{i.commit("SELECT_AGENT",{name:"BITCAT AI Agent",agentTag:"main_agent",description:"Main AI Agent",avatar:26})},50);return}const a=localStorage.getItem("chatHistory");if(a){const r=JSON.parse(a);d.value=r,D.value=r[e.agentTag]||[]}const n=JSON.parse(localStorage.getItem("agentInfo")||"{}");n[e.agentTag]||(n[e.agentTag]={name:e.name,agentTag:e.agentTag,avatar:e.avatar},localStorage.setItem("agentInfo",JSON.stringify(n)))}},{immediate:!0}),S(()=>h.name,e=>{T.value=null,m.value&&setTimeout(()=>{p()},250)}),S(m,e=>{e&&p()}),(e,a)=>(o(),c("div",{class:_(["ai-agent-container",{"light-theme":A.value,"is-absolute":v.isAbsolute,"is-fullscreen":v.isFullScreen}]),style:j(v.isAbsolute?{zIndex:1e3}:{zIndex:v.zIndex})},[v.withButton?(o(),c("button",{key:0,class:_(["ai-button",{"is-active":m.value}]),onClick:u},[t("img",{src:s(g.value.avatar),alt:"AI Assistant",class:"ai-button-image"},null,8,Ut),a[5]||(a[5]=t("div",{class:"ai-button-glow"},null,-1)),O(B,{name:"tooltip"},{default:$(()=>[M.value?(o(),c("div",zt,[a[4]||(a[4]=t("p",null,"Hello! I am your AI Agent. Let's talk",-1)),t("button",{class:"tooltip-close",onClick:z(ct,["stop"])},"Ã—")])):f("",!0)]),_:1})],2)):f("",!0),m.value&&w.value&&v.withButton?(o(),c("div",Jt)):f("",!0),O(B,{name:"chat-window"},{default:$(()=>[m.value?(o(),c("div",{key:0,class:_(["chat-window do-invert",{mobile:w.value&&v.withButton,"limited-height":!v.isAbsolute||v.isFullScreen}]),style:j(v.isAbsolute?{}:{maxHeight:v.maxHeight})},[t("div",Rt,[t("div",Wt,[O(B,{name:"tooltip"},{default:$(()=>[x.value?(o(),c("div",Yt,[a[6]||(a[6]=t("p",null,"Your AI chats here. Switch between",-1)),t("button",{class:"tooltip-close",onClick:z(ut,["stop"])},"Ã—")])):f("",!0)]),_:1}),t("button",{class:"avatar-button pulse-animation",type:"button",onClick:z(F,["prevent","stop"])},[t("img",{src:s(g.value.avatar),alt:"AI Agent",class:"header-avatar no-invert"},null,8,qt)]),t("div",jt,[t("h3",Kt,E(g.value.name),1),t("button",{onClick:a[0]||(a[0]=n=>l(g.value.agentTag)),class:"agent-tag-button"},E(g.value.agentTag),1)])]),t("div",Qt,[t("button",{class:"theme-toggle",onClick:lt},[t("i",{class:_(["fas",A.value?"fa-moon":"fa-sun"])},null,2)]),t("button",{class:"close-button",onClick:u},"Ã—")])]),t("div",Xt,[g.value.agentTag==="main_agent"?(o(),c("div",Zt,[t("div",te,[t("div",ee,[g.value.agentTag==="main_agent"?(o(),c("p",ae,"Hello! How are you today?ğŸ‘‹ I am your BITCAT AI Agent. Let me introduce you to our Universe! ğŸš€")):f("",!0),a[7]||(a[7]=t("div",{class:"tech-decoration"},[t("div",{class:"tech-line"}),t("div",{class:"tech-dot"})],-1))])])])):f("",!0),T.value&&g.value.agentTag==="main_agent"?(o(),c("div",se,[t("div",ne,[t("div",oe,[t("p",null,[a[8]||(a[8]=P("About page ")),a[9]||(a[9]=t("small",null,"(are you here)",-1)),a[10]||(a[10]=t("br",null,null,-1)),P(E(T.value.title),1)]),t("p",{onClick:H,innerHTML:T.value.description},null,8,ie),a[11]||(a[11]=t("p",null,"Let me know if you have any questions",-1)),a[12]||(a[12]=t("div",{class:"tech-decoration"},[t("div",{class:"tech-line"}),t("div",{class:"tech-dot"})],-1))])])])):f("",!0),(o(!0),c(st,null,nt(D.value,(n,r)=>(o(),c("div",{key:r,class:_(["message",n.type==="user"?"user-message":"agent-message"])},[t("div",le,[t("div",{class:_({"typing-animation":n.type==="agent"})},[t("p",null,E(n.content),1),n.type==="agent"?(o(),c("div",re,a[13]||(a[13]=[t("div",{class:"tech-line"},null,-1),t("div",{class:"tech-dot"},null,-1)]))):f("",!0)],2)])],2))),128))]),t("div",ce,[t("div",ue,[at(t("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=n=>k.value=n),onKeyup:a[2]||(a[2]=ht(n=>!y.value&&W(),["enter"])),placeholder:"Message..."},null,544),[[pt,k.value]])]),t("button",{onClick:W,class:"send-button",disabled:y.value},[t("i",{class:_(["fas",y.value?"fa-spinner fa-spin":"fa-paper-plane"])},null,2)],8,de)]),O(B,{name:"chat-window"},{default:$(()=>[m.value?(o(),et(Vt,{key:0,show:J.value,"is-light-theme":A.value,onClose:a[3]||(a[3]=n=>Tt(i).commit("TOGGLE_AGENTS_LIST",!1)),onSelectAgent:ot},null,8,["show","is-light-theme"])):f("",!0)]),_:1})],6)):f("",!0)]),_:1})],6))}},Ae=X(ge,[["__scopeId","data-v-834340d6"]]);export{Ae as default};
