import{r as N}from"./vendor-safe-buffer-BPihLaHX.js";var A,M;function y(){if(M)return A;M=1;var p=N().Buffer;function c(w){if(w.length>=255)throw new TypeError("Alphabet too long");for(var d=new Uint8Array(256),s=0;s<d.length;s++)d[s]=255;for(var u=0;u<w.length;u++){var E=w.charAt(u),z=E.charCodeAt(0);if(d[z]!==255)throw new TypeError(E+" is ambiguous");d[z]=u}var g=w.length,U=w.charAt(0),m=Math.log(g)/Math.log(256),C=Math.log(256)/Math.log(g);function R(r){if((Array.isArray(r)||r instanceof Uint8Array)&&(r=p.from(r)),!p.isBuffer(r))throw new TypeError("Expected Buffer");if(r.length===0)return"";for(var e=0,i=0,a=0,f=r.length;a!==f&&r[a]===0;)a++,e++;for(var o=(f-a)*C+1>>>0,n=new Uint8Array(o);a!==f;){for(var h=r[a],l=0,t=o-1;(h!==0||l<i)&&t!==-1;t--,l++)h+=256*n[t]>>>0,n[t]=h%g>>>0,h=h/g>>>0;if(h!==0)throw new Error("Non-zero carry");i=l,a++}for(var v=o-i;v!==o&&n[v]===0;)v++;for(var b=U.repeat(e);v<o;++v)b+=w.charAt(n[v]);return b}function S(r){if(typeof r!="string")throw new TypeError("Expected String");if(r.length===0)return p.alloc(0);for(var e=0,i=0,a=0;r[e]===U;)i++,e++;for(var f=(r.length-e)*m+1>>>0,o=new Uint8Array(f);e<r.length;){var n=d[r.charCodeAt(e)];if(n===255)return;for(var h=0,l=f-1;(n!==0||h<a)&&l!==-1;l--,h++)n+=g*o[l]>>>0,o[l]=n%256>>>0,n=n/256>>>0;if(n!==0)throw new Error("Non-zero carry");a=h,e++}for(var t=f-a;t!==f&&o[t]===0;)t++;var v=p.allocUnsafe(i+(f-t));v.fill(0,0,i);for(var b=i;t!==f;)v[b++]=o[t++];return v}function q(r){var e=S(r);if(e)return e;throw new Error("Non-base"+g+" character")}return{encode:R,decodeUnsafe:S,decode:q}}return A=c,A}export{y as r};
