"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[983],{71241:function(a,e){e.A=(a,e)=>{const s=a.__vccOpts||a;for(const[t,r]of e)s[t]=r;return s}},40983:function(a,e,s){s.r(e),s.d(e,{default:function(){return $}});var t=s(56768),r=s(24232);const o={class:"referral-history-page"},l={class:"referral-history-page-wrap"},i={class:"page-header"},n={class:"referral-tag"},c={class:"back-link"},d={class:"history-stats"},u={class:"stat-card"},k={class:"stat-value"},v={class:"stat-card"},h={class:"stat-value"},y={class:"history-list"},f={key:0,class:"loading"},p={key:0},L={key:1},m={key:1,class:"no-history"},g={key:0},w={key:1},_={key:2,class:"history-items"},A={class:"history-info"},C={class:"history-action"},E={class:"history-date"},b={key:0,class:"history-meta"},X={class:"history-amounts"},R={class:"amount"},W={class:"amount-value"},F={class:"reward"},T={class:"reward-label"},x={class:"reward-value"},D={key:0,class:"transaction"},K=["href"];function S(a,e,s,S,O,H){const P=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",o,[(0,t.Lk)("div",l,[(0,t.Lk)("div",i,[e[2]||(e[2]=(0,t.Lk)("h1",null,"Referral Actions History",-1)),(0,t.Lk)("p",null,[e[0]||(e[0]=(0,t.eW)("Detailed history of actions performed by referral: ")),(0,t.Lk)("span",n,(0,r.v_)(S.referralTag),1)]),(0,t.Lk)("div",c,[(0,t.bF)(P,{to:"/my/referrals",class:"back-button"},{default:(0,t.k6)((()=>e[1]||(e[1]=[(0,t.Lk)("i",{class:"fas fa-arrow-left"},null,-1),(0,t.eW)(" Back to Referrals ")]))),_:1})])]),(0,t.Lk)("div",d,[(0,t.Lk)("div",u,[e[3]||(e[3]=(0,t.Lk)("h3",null,"Total Actions",-1)),(0,t.Lk)("div",k,(0,r.v_)(S.history.length),1)]),(0,t.Lk)("div",v,[e[4]||(e[4]=(0,t.Lk)("h3",null,"Total Rewards",-1)),(0,t.Lk)("div",h,(0,r.v_)(S.totalRewards.toFixed(6))+" SOL",1)])]),(0,t.Lk)("div",y,[e[14]||(e[14]=(0,t.Lk)("h2",null,"Actions History",-1)),S.loading?((0,t.uX)(),(0,t.CE)("div",f,[S.isAuthenticated?((0,t.uX)(),(0,t.CE)("p",p,"Loading history...")):((0,t.uX)(),(0,t.CE)("p",L,[e[6]||(e[6]=(0,t.eW)("Please ")),(0,t.bF)(P,{to:"/my"},{default:(0,t.k6)((()=>e[5]||(e[5]=[(0,t.eW)("Login")]))),_:1}),e[7]||(e[7]=(0,t.eW)(" to view referral history"))]))])):0===S.history.length?((0,t.uX)(),(0,t.CE)("div",m,[S.isAuthenticated?((0,t.uX)(),(0,t.CE)("p",g,"No actions have been recorded for this referral yet.")):((0,t.uX)(),(0,t.CE)("p",w,[e[9]||(e[9]=(0,t.eW)("Please ")),(0,t.bF)(P,{to:"/my"},{default:(0,t.k6)((()=>e[8]||(e[8]=[(0,t.eW)("Login")]))),_:1}),e[10]||(e[10]=(0,t.eW)(" to view referral history"))]))])):((0,t.uX)(),(0,t.CE)("div",_,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(S.history,(a=>((0,t.uX)(),(0,t.CE)("div",{key:a.id,class:"history-item"},[(0,t.Lk)("div",A,[(0,t.Lk)("div",C,(0,r.v_)(S.formatAction(a.action)),1),(0,t.Lk)("div",E,(0,r.v_)(S.formatDate(a.createdAt)),1),a.meta?((0,t.uX)(),(0,t.CE)("div",b,[e[11]||(e[11]=(0,t.Lk)("span",{class:"meta-label"},"Related to:",-1)),(0,t.eW)(" "+(0,r.v_)(a.meta),1)])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",X,[(0,t.Lk)("div",R,[e[12]||(e[12]=(0,t.Lk)("span",{class:"amount-label"},"Amount:",-1)),(0,t.Lk)("span",W,(0,r.v_)((a.amount/1e9).toFixed(6))+" SOL",1)]),(0,t.Lk)("div",F,[(0,t.Lk)("span",T,"Reward ("+(0,r.v_)(a.percent)+"%):",1),(0,t.Lk)("span",x,(0,r.v_)((a.reward/1e9).toFixed(6))+" SOL",1)]),a.transaction?((0,t.uX)(),(0,t.CE)("div",D,[(0,t.Lk)("a",{href:`https://solscan.io/tx/${a.transaction}`,target:"_blank",class:"transaction-link"},e[13]||(e[13]=[(0,t.eW)(" View Transaction "),(0,t.Lk)("i",{class:"fas fa-external-link-alt"},null,-1)]),8,K)])):(0,t.Q3)("",!0)])])))),128))]))]),S.toast.show?((0,t.uX)(),(0,t.CE)("div",{key:0,class:(0,r.C4)(["toast",S.toast.type])},(0,r.v_)(S.toast.message),3)):(0,t.Q3)("",!0)])])}s(98992),s(81454),s(8872);var O=s(90144),H=s(81387),P=s(68881),Q=s(94373),U=s(94348),I={name:"ReferralHistoryPage",setup(){const a=(0,H.lq)(),e=(0,O.KR)(""),s=(0,O.KR)([]),r=(0,O.KR)(!0),o=(0,O.KR)({show:!1,message:"",type:"success"});e.value=a.params.referralTag;const l=(0,t.EW)((()=>P.A.getters.isAuthenticated)),i=(0,t.EW)((()=>s.value.reduce(((a,e)=>a+e.reward/1e9),0))),n=async()=>{if(l.value)try{r.value=!0;const a=await Q.A.get(`/referrals/${e.value}/history`);a.data.success?s.value=a.data.history||[]:u(a.data.message||"Failed to load referral history","error")}catch(a){U.error("Error loading referral history:",a),u(a.response?.data?.message||"Failed to load referral history","error")}finally{r.value=!1}else r.value=!1},c=a=>{if(!a)return"N/A";const e=new Date(a);return e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},d=a=>a?a.split("_").map((a=>a.charAt(0).toUpperCase()+a.slice(1))).join(" "):"Unknown Action",u=(a,e="success")=>{o.value={show:!0,message:a,type:e},setTimeout((()=>{o.value.show=!1}),3e3)};return(0,t.sV)((()=>{n()})),{referralTag:e,history:s,loading:r,toast:o,isAuthenticated:l,totalRewards:i,formatDate:c,formatAction:d}}},N=s(71241);const V=(0,N.A)(I,[["render",S],["__scopeId","data-v-3aabcaa0"]]);var $=V}}]);
//# sourceMappingURL=983.d41ea0ef.js.map