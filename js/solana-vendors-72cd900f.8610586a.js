(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[7949],{63558:function(e,t,r){"use strict";
/**
 * Support for translating between Uint8Array instances and JavaScript
 * native types.
 *
 * {@link module:Layout~Layout|Layout} is the basis of a class
 * hierarchy that associates property names with sequences of encoded
 * bytes.
 *
 * Layouts are supported for these scalar (numeric) types:
 * * {@link module:Layout~UInt|Unsigned integers in little-endian
 *   format} with {@link module:Layout.u8|8-bit}, {@link
 *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
 *   {@link module:Layout.u32|32-bit}, {@link
 *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
 *   format} with {@link module:Layout.u16be|16-bit}, {@link
 *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
 *   {@link module:Layout.u40be|40-bit}, and {@link
 *   module:Layout.u48be|48-bit} representation ranges;
 * * {@link module:Layout~Int|Signed integers in little-endian
 *   format} with {@link module:Layout.s8|8-bit}, {@link
 *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
 *   {@link module:Layout.s32|32-bit}, {@link
 *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~IntBE|Signed integers in big-endian format}
 *   with {@link module:Layout.s16be|16-bit}, {@link
 *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
 *   {@link module:Layout.s40be|40-bit}, and {@link
 *   module:Layout.s48be|48-bit} representation ranges;
 * * 64-bit integral values that decode to an exact (if magnitude is
 *   less than 2^53) or nearby integral Number in {@link
 *   module:Layout.nu64|unsigned little-endian}, {@link
 *   module:Layout.nu64be|unsigned big-endian}, {@link
 *   module:Layout.ns64|signed little-endian}, and {@link
 *   module:Layout.ns64be|unsigned big-endian} encodings;
 * * 32-bit floating point values with {@link
 *   module:Layout.f32|little-endian} and {@link
 *   module:Layout.f32be|big-endian} representations;
 * * 64-bit floating point values with {@link
 *   module:Layout.f64|little-endian} and {@link
 *   module:Layout.f64be|big-endian} representations;
 * * {@link module:Layout.const|Constants} that take no space in the
 *   encoded expression.
 *
 * and for these aggregate types:
 * * {@link module:Layout.seq|Sequence}s of instances of a {@link
 *   module:Layout~Layout|Layout}, with JavaScript representation as
 *   an Array and constant or data-dependent {@link
 *   module:Layout~Sequence#count|length};
 * * {@link module:Layout.struct|Structure}s that aggregate a
 *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
 *   instances, with JavaScript representation as an Object;
 * * {@link module:Layout.union|Union}s that support multiple {@link
 *   module:Layout~VariantLayout|variant layouts} over a fixed
 *   (padded) or variable (not padded) span of bytes, using an
 *   unsigned integer at the start of the data or a separate {@link
 *   module:Layout.unionLayoutDiscriminator|layout element} to
 *   determine which layout to use when interpreting the buffer
 *   contents;
 * * {@link module:Layout.bits|BitStructure}s that contain a sequence
 *   of individual {@link
 *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
 *   16, 24, or 32-bit unsigned integer starting at the least- or
 *   most-significant bit;
 * * {@link module:Layout.cstr|C strings} of varying length;
 * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
 *   module:Layout~Blob#length|length} raw data.
 *
 * All {@link module:Layout~Layout|Layout} instances are immutable
 * after construction, to prevent internal state from becoming
 * inconsistent.
 *
 * @local Layout
 * @local ExternalLayout
 * @local GreedyCount
 * @local OffsetLayout
 * @local UInt
 * @local UIntBE
 * @local Int
 * @local IntBE
 * @local NearUInt64
 * @local NearUInt64BE
 * @local NearInt64
 * @local NearInt64BE
 * @local Float
 * @local FloatBE
 * @local Double
 * @local DoubleBE
 * @local Sequence
 * @local Structure
 * @local UnionDiscriminator
 * @local UnionLayoutDiscriminator
 * @local Union
 * @local VariantLayout
 * @local BitStructure
 * @local BitField
 * @local Boolean
 * @local Blob
 * @local CString
 * @local Constant
 * @local bindConstructorLayout
 * @module Layout
 * @license MIT
 * @author Peter A. Bigot
 * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
 */r(44114),r(16573),r(78100),r(77936),r(37467),r(44732),r(79577),r(98992),r(8872),Object.defineProperty(t,"__esModule",{value:!0}),t.s16=t.s8=t.nu64be=t.u48be=t.u40be=t.u32be=t.u24be=t.u16be=t.nu64=t.u48=t.u40=t.u32=t.u24=t.u16=t.u8=t.offset=t.greedy=t.Constant=t.UTF8=t.CString=t.Blob=t.Boolean=t.BitField=t.BitStructure=t.VariantLayout=t.Union=t.UnionLayoutDiscriminator=t.UnionDiscriminator=t.Structure=t.Sequence=t.DoubleBE=t.Double=t.FloatBE=t.Float=t.NearInt64BE=t.NearInt64=t.NearUInt64BE=t.NearUInt64=t.IntBE=t.Int=t.UIntBE=t.UInt=t.OffsetLayout=t.GreedyCount=t.ExternalLayout=t.bindConstructorLayout=t.nameWithProperty=t.Layout=t.uint8ArrayToBuffer=t.checkUint8Array=void 0,t.constant=t.utf8=t.cstr=t.blob=t.unionLayoutDiscriminator=t.union=t.seq=t.bits=t.struct=t.f64be=t.f64=t.f32be=t.f32=t.ns64be=t.s48be=t.s40be=t.s32be=t.s24be=t.s16be=t.ns64=t.s48=t.s40=t.s32=t.s24=void 0;const n=r(90712);function o(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function i(e){return o(e),n.Buffer.from(e.buffer,e.byteOffset,e.length)}t.checkUint8Array=o,t.uint8ArrayToBuffer=i;class c{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}function s(e,t){if("function"!==typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof c))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value(e,r){return t.decode(e,r)},writable:!0})}t.Layout=c,t.nameWithProperty=a,t.bindConstructorLayout=s;class u extends c{isCount(){throw new Error("ExternalLayout is abstract")}}t.ExternalLayout=u;class l extends u{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){o(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}t.GreedyCount=l;class d extends u{constructor(e,t=0,r){if(!(e instanceof c))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof f||this.layout instanceof p}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}t.OffsetLayout=d;class f extends c{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return i(e).readUIntLE(t,this.span)}encode(e,t,r=0){return i(t).writeUIntLE(e,r,this.span),this.span}}t.UInt=f;class p extends c{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return i(e).readUIntBE(t,this.span)}encode(e,t,r=0){return i(t).writeUIntBE(e,r,this.span),this.span}}t.UIntBE=p;class h extends c{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return i(e).readIntLE(t,this.span)}encode(e,t,r=0){return i(t).writeIntLE(e,r,this.span),this.span}}t.Int=h;class y extends c{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return i(e).readIntBE(t,this.span)}encode(e,t,r=0){return i(t).writeIntBE(e,r,this.span),this.span}}t.IntBE=y;const b=Math.pow(2,32);function g(e){const t=Math.floor(e/b),r=e-t*b;return{hi32:t,lo32:r}}function _(e,t){return e*b+t}class v extends c{constructor(e){super(8,e)}decode(e,t=0){const r=i(e),n=r.readUInt32LE(t),o=r.readUInt32LE(t+4);return _(o,n)}encode(e,t,r=0){const n=g(e),o=i(t);return o.writeUInt32LE(n.lo32,r),o.writeUInt32LE(n.hi32,r+4),8}}t.NearUInt64=v;class m extends c{constructor(e){super(8,e)}decode(e,t=0){const r=i(e),n=r.readUInt32BE(t),o=r.readUInt32BE(t+4);return _(n,o)}encode(e,t,r=0){const n=g(e),o=i(t);return o.writeUInt32BE(n.hi32,r),o.writeUInt32BE(n.lo32,r+4),8}}t.NearUInt64BE=m;class w extends c{constructor(e){super(8,e)}decode(e,t=0){const r=i(e),n=r.readUInt32LE(t),o=r.readInt32LE(t+4);return _(o,n)}encode(e,t,r=0){const n=g(e),o=i(t);return o.writeUInt32LE(n.lo32,r),o.writeInt32LE(n.hi32,r+4),8}}t.NearInt64=w;class O extends c{constructor(e){super(8,e)}decode(e,t=0){const r=i(e),n=r.readInt32BE(t),o=r.readUInt32BE(t+4);return _(n,o)}encode(e,t,r=0){const n=g(e),o=i(t);return o.writeInt32BE(n.hi32,r),o.writeUInt32BE(n.lo32,r+4),8}}t.NearInt64BE=O;class E extends c{constructor(e){super(4,e)}decode(e,t=0){return i(e).readFloatLE(t)}encode(e,t,r=0){return i(t).writeFloatLE(e,r),4}}t.Float=E;class S extends c{constructor(e){super(4,e)}decode(e,t=0){return i(e).readFloatBE(t)}encode(e,t,r=0){return i(t).writeFloatBE(e,r),4}}t.FloatBE=S;class P extends c{constructor(e){super(8,e)}decode(e,t=0){return i(e).readDoubleLE(t)}encode(e,t,r=0){return i(t).writeDoubleLE(e,r),8}}t.Double=P;class A extends c{constructor(e){super(8,e)}decode(e,t=0){return i(e).readDoubleBE(t)}encode(e,t,r=0){return i(t).writeDoubleBE(e,r),8}}t.DoubleBE=A;class M extends c{constructor(e,t,r){if(!(e instanceof c))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(t instanceof u)&&0<e.span&&(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof u&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let o=0;while(o<n)r+=this.elementLayout.getSpan(e,t+r),++o}return r}decode(e,t=0){const r=[];let n=0,o=this.count;o instanceof u&&(o=o.decode(e,t));while(n<o)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){const n=this.elementLayout,o=e.reduce(((e,o)=>e+n.encode(o,t,r+e)),0);return this.count instanceof u&&this.count.encode(e.length,t,r),o}}t.Sequence=M;class j extends c{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof c),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof t&&void 0===r&&(r=t,t=void 0);for(const i of e)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(o){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce(((r,n)=>{const o=n.getSpan(e,t);return t+=o,r+o}),0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(e,t=0){o(e);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const n=r;let o=0,i=0;for(const c of this.fields){let n=c.span;if(i=0<n?n:0,void 0!==c.property){const o=e[c.property];void 0!==o&&(i=c.encode(o,t,r),0>n&&(n=c.getSpan(t,r)))}o=r,r+=n}return o+i-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!==typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}t.Structure=j;class D{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}}t.UnionDiscriminator=D;class I extends D{constructor(e,t){if(!(e instanceof u&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}t.UnionLayoutDiscriminator=I;class B extends c{constructor(e,t,r){let n;if(e instanceof f||e instanceof p)n=new I(new d(e));else if(e instanceof u&&e.isCount())n=new I(e);else{if(!(e instanceof D))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");n=e}if(void 0===t&&(t=null),!(null===t||t instanceof c))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&(e instanceof f||e instanceof p)&&(o+=n.layout.span)),super(o,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof f||e instanceof p,this.defaultLayout=t,this.registry={};let i=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return i(e)},this.configGetSourceVariant=function(e){i=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r;const n=this.discriminator,o=n.decode(e,t),i=this.registry[o];if(void 0===i){const i=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=n.layout.span),r=this.makeDestinationObject(),r[n.property]=o,r[i.property]=i.decode(e,t+c)}else r=i.decode(e,t);return r}encode(e,t,r=0){const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,o=this.defaultLayout;let i=0;return this.usesPrefixDiscriminator&&(i=n.layout.span),n.encode(e[n.property],t,r),i+o.encode(e[o.property],t,r+i)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new x(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}}t.Union=B;class x extends c{constructor(e,t,r,n){if(!(e instanceof B))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof c))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof n)throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e,t=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let o=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),o+=this.layout.getSpan(t,r+n),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function k(e){return 0>e&&(e+=4294967296),e}t.VariantLayout=x;class T extends c{constructor(e,t,r){if(!(e instanceof f||e instanceof p))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=k(e),this},this._packedGetValue=function(){return n}}decode(e,t=0){const r=this.makeDestinationObject(),n=this.word.decode(e,t);this._packedSetValue(n);for(const o of this.fields)void 0!==o.property&&(r[o.property]=o.decode(e));return r}encode(e,t,r=0){const n=this.word.decode(t,r);this._packedSetValue(n);for(const o of this.fields)if(void 0!==o.property){const t=e[o.property];void 0!==t&&o.encode(t)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new L(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new C(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}t.BitStructure=T;class L{constructor(e,t,r){if(!(e instanceof T))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const n=8*e.span,o=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+o>n)throw new Error("bits too long for span remainder ("+(n-o)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=n-o-t),this.wordMask=k(this.valueMask<<this.start),this.property=r}decode(e,t){const r=this.container._packedGetValue(),n=k(r&this.wordMask),o=n>>>this.start;return o}encode(e){if("number"!==typeof e||!Number.isInteger(e)||e!==k(e&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=k(e<<this.start);this.container._packedSetValue(k(t&~this.wordMask)|r)}}t.BitField=L;class C extends L{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"===typeof e&&(e=+e),super.encode(e)}}t.Boolean=C;class F extends c{constructor(e,t){if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof u||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),i(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof u&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw new RangeError("encoding overruns Uint8Array");const o=i(e);return i(t).write(o.toString("hex"),r,n,"hex"),this.length instanceof u&&this.length.encode(n,t,r),n}}t.Blob=F;class R extends c{constructor(e){super(-1,e)}getSpan(e,t=0){o(e);let r=t;while(r<e.length&&0!==e[r])r+=1;return 1+r-t}decode(e,t=0){const r=this.getSpan(e,t);return i(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){"string"!==typeof e&&(e=String(e));const o=n.Buffer.from(e,"utf8"),c=o.length;if(r+c>t.length)throw new RangeError("encoding overruns Buffer");const a=i(t);return o.copy(a,r),a[r+c]=0,c+1}}t.CString=R;class V extends c{constructor(e,t){if("string"===typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return o(e),e.length-t}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return i(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){"string"!==typeof e&&(e=String(e));const o=n.Buffer.from(e,"utf8"),c=o.length;if(0<=this.maxSpan&&this.maxSpan<c)throw new RangeError("text length exceeds maxSpan");if(r+c>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(i(t),r),c}}t.UTF8=V;class U extends c{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}t.Constant=U,t.greedy=(e,t)=>new l(e,t),t.offset=(e,t,r)=>new d(e,t,r),t.u8=e=>new f(1,e),t.u16=e=>new f(2,e),t.u24=e=>new f(3,e),t.u32=e=>new f(4,e),t.u40=e=>new f(5,e),t.u48=e=>new f(6,e),t.nu64=e=>new v(e),t.u16be=e=>new p(2,e),t.u24be=e=>new p(3,e),t.u32be=e=>new p(4,e),t.u40be=e=>new p(5,e),t.u48be=e=>new p(6,e),t.nu64be=e=>new m(e),t.s8=e=>new h(1,e),t.s16=e=>new h(2,e),t.s24=e=>new h(3,e),t.s32=e=>new h(4,e),t.s40=e=>new h(5,e),t.s48=e=>new h(6,e),t.ns64=e=>new w(e),t.s16be=e=>new y(2,e),t.s24be=e=>new y(3,e),t.s32be=e=>new y(4,e),t.s40be=e=>new y(5,e),t.s48be=e=>new y(6,e),t.ns64be=e=>new O(e),t.f32=e=>new E(e),t.f32be=e=>new S(e),t.f64=e=>new P(e),t.f64be=e=>new A(e),t.struct=(e,t,r)=>new j(e,t,r),t.bits=(e,t,r)=>new T(e,t,r),t.seq=(e,t,r)=>new M(e,t,r),t.union=(e,t,r)=>new B(e,t,r),t.unionLayoutDiscriminator=(e,t)=>new I(e,t),t.blob=(e,t)=>new F(e,t),t.cstr=e=>new R(e),t.utf8=(e,t)=>new V(e,t),t.constant=(e,t)=>new U(e,t)},41798:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function o(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function c(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n["throw"](e))}catch(t){i(t)}}function s(e){e.done?r(e.value):o(e.value).then(c,a)}s((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getConcurrentMerkleTreeAccountSize=t.getCanopyDepth=t.ConcurrentMerkleTreeAccount=void 0;const o=r(72487),i=r(32365),c=r(56449),a=r(84749);class s{constructor(e,t,r){this.header=e,this.tree=t,this.canopy=r}static fromBuffer(e){return l(e)}static fromAccountAddress(e,t,r){return n(this,void 0,void 0,(function*(){const n=yield e.getAccountInfo(t,r);if(!n)throw new Error("CMT account data unexpectedly null!");return l(n.data)}))}getHeaderV1(){return this.header.header.fields[0]}getMaxBufferSize(){return this.getHeaderV1().maxBufferSize}getMaxDepth(){return this.getHeaderV1().maxDepth}getBufferSize(){return new o.BN.BN(this.tree.bufferSize).toNumber()}getCurrentRoot(){return this.tree.changeLogs[this.getCurrentBufferIndex()].root.toBuffer()}getCurrentBufferIndex(){return new o.BN.BN(this.tree.activeIndex).toNumber()}getAuthority(){return this.getHeaderV1().authority}getCreationSlot(){return new o.BN(this.getHeaderV1().creationSlot)}getCurrentSeq(){return new o.BN(this.tree.sequenceNumber)}getCanopyDepth(){return u(this.canopy.canopyBytes.length)}}function u(e){return 0===e?0:Math.log2(e/32+2)-1}function l(e){let t=0;const[r,n]=c.concurrentMerkleTreeHeaderBeet.deserialize(e);if(t=n,"V1"!==r.header.__kind)throw Error(`Header has unsupported version: ${r.header.__kind}`);const o=r.header.fields[0],[i,l]=(0,a.concurrentMerkleTreeBeetFactory)(o.maxDepth,o.maxBufferSize).deserialize(e,t);t=l;const d=u(e.byteLength-t);let f={canopyBytes:[]};if(0!==d){const[r,n]=(0,a.canopyBeetFactory)(d).deserialize(e,t);f=r,t=n}if(e.byteLength!==t)throw new Error("Failed to process whole buffer when deserializing Merkle Account Data");return new s(r,i,f)}function d(e,t,r,n="V1"){if("V1"!=n)throw Error("Unsupported header version");return 2+i.concurrentMerkleTreeHeaderDataV1Beet.byteSize+(0,a.concurrentMerkleTreeBeetFactory)(e,t).byteSize+(r?(0,a.canopyBeetFactory)(r).byteSize:0)}t.ConcurrentMerkleTreeAccount=s,t.getCanopyDepth=u,t.getConcurrentMerkleTreeAccountSize=d},4904:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(41798),t)},65737:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALL_DEPTH_SIZE_PAIRS=t.SPL_NOOP_PROGRAM_ID=t.SPL_NOOP_ADDRESS=void 0;const n=r(75290);t.SPL_NOOP_ADDRESS="noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV",t.SPL_NOOP_PROGRAM_ID=new n.PublicKey(t.SPL_NOOP_ADDRESS);const o=[[3,8],[5,8],[14,64],[14,256],[14,1024],[14,2048],[15,64],[16,64],[17,64],[18,64],[19,64],[20,64],[20,256],[20,1024],[20,2048],[24,64],[24,256],[24,512],[24,1024],[24,2048],[26,512],[26,1024],[26,2048],[30,512],[30,1024],[30,2048]];t.ALL_DEPTH_SIZE_PAIRS=o.map((e=>({maxBufferSize:e[1],maxDepth:e[0]})))},84541:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeApplicationDataEvent=t.deserializeChangeLogEventV1=void 0;const o=n(r(72487)),i=r(71054);function c(e){const t=i.accountCompressionEventBeet.toFixedFromData(e,0).read(e,0);if("ChangeLog"==t.__kind&&"V1"==t.fields[0].__kind){const e=t.fields[0].fields[0];return{index:e.index,path:e.path,seq:new o.default.BN(e.seq),treeId:e.id}}throw Error("Unable to decode buffer as ChangeLogEvent V1")}function a(e){const t=i.accountCompressionEventBeet.toFixedFromData(e,0).read(e,0);switch(t.__kind){case"ApplicationData":return t.fields[0];default:throw Error("Unable to decode buffer as ApplicationDataEvent")}}t.deserializeChangeLogEventV1=c,t.deserializeApplicationDataEvent=a},3201:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorFromName=t.errorFromCode=t.LeafIndexOutOfBoundsError=t.IncorrectAccountTypeError=t.IncorrectAccountOwnerError=t.IncorrectAuthorityError=t.CanopyLengthMismatchError=t.ConcurrentMerkleTreeConstantsErrorError=t.ZeroCopyErrorError=t.ConcurrentMerkleTreeErrorError=t.IncorrectLeafLengthError=void 0;const r=new Map,n=new Map;class o extends Error{constructor(){super("Incorrect leaf length. Expected vec of 32 bytes"),this.code=6e3,this.name="IncorrectLeafLength","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,o)}}t.IncorrectLeafLengthError=o,r.set(6e3,(()=>new o)),n.set("IncorrectLeafLength",(()=>new o));class i extends Error{constructor(){super("Concurrent merkle tree error"),this.code=6001,this.name="ConcurrentMerkleTreeError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,i)}}t.ConcurrentMerkleTreeErrorError=i,r.set(6001,(()=>new i)),n.set("ConcurrentMerkleTreeError",(()=>new i));class c extends Error{constructor(){super("Issue zero copying concurrent merkle tree data"),this.code=6002,this.name="ZeroCopyError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,c)}}t.ZeroCopyErrorError=c,r.set(6002,(()=>new c)),n.set("ZeroCopyError",(()=>new c));class a extends Error{constructor(){super("An unsupported max depth or max buffer size constant was provided"),this.code=6003,this.name="ConcurrentMerkleTreeConstantsError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,a)}}t.ConcurrentMerkleTreeConstantsErrorError=a,r.set(6003,(()=>new a)),n.set("ConcurrentMerkleTreeConstantsError",(()=>new a));class s extends Error{constructor(){super("Expected a different byte length for the merkle tree canopy"),this.code=6004,this.name="CanopyLengthMismatch","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,s)}}t.CanopyLengthMismatchError=s,r.set(6004,(()=>new s)),n.set("CanopyLengthMismatch",(()=>new s));class u extends Error{constructor(){super("Provided authority does not match expected tree authority"),this.code=6005,this.name="IncorrectAuthority","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,u)}}t.IncorrectAuthorityError=u,r.set(6005,(()=>new u)),n.set("IncorrectAuthority",(()=>new u));class l extends Error{constructor(){super("Account is owned by a different program, expected it to be owned by this program"),this.code=6006,this.name="IncorrectAccountOwner","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,l)}}t.IncorrectAccountOwnerError=l,r.set(6006,(()=>new l)),n.set("IncorrectAccountOwner",(()=>new l));class d extends Error{constructor(){super("Account provided has incorrect account type"),this.code=6007,this.name="IncorrectAccountType","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,d)}}t.IncorrectAccountTypeError=d,r.set(6007,(()=>new d)),n.set("IncorrectAccountType",(()=>new d));class f extends Error{constructor(){super("Leaf index of concurrent merkle tree is out of bounds"),this.code=6008,this.name="LeafIndexOutOfBounds","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,f)}}function p(e){const t=r.get(e);return null!=t?t():null}function h(e){const t=n.get(e);return null!=t?t():null}t.LeafIndexOutOfBoundsError=f,r.set(6008,(()=>new f)),n.set("LeafIndexOutOfBounds",(()=>new f)),t.errorFromCode=p,t.errorFromName=h},32365:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.PROGRAM_ID=t.PROGRAM_ADDRESS=void 0;const i=r(75290);o(r(3201),t),o(r(6407),t),o(r(7787),t),t.PROGRAM_ADDRESS="cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK",t.PROGRAM_ID=new i.PublicKey(t.PROGRAM_ADDRESS)},443:function(e,t,r){"use strict";r(44114);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createAppendInstruction=t.appendInstructionDiscriminator=t.appendStruct=void 0;const c=i(r(44536)),a=i(r(75290));function s(e,r,n=new a.PublicKey("cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK")){const[o]=t.appendStruct.serialize(Object.assign({instructionDiscriminator:t.appendInstructionDiscriminator},r)),i=[{isSigner:!1,isWritable:!0,pubkey:e.merkleTree},{isSigner:!0,isWritable:!1,pubkey:e.authority},{isSigner:!1,isWritable:!1,pubkey:e.noop}];if(null!=e.anchorRemainingAccounts)for(const t of e.anchorRemainingAccounts)i.push(t);const c=new a.TransactionInstruction({data:o,keys:i,programId:n});return c}t.appendStruct=new c.BeetArgsStruct([["instructionDiscriminator",c.uniformFixedSizeArray(c.u8,8)],["leaf",c.uniformFixedSizeArray(c.u8,32)]],"AppendInstructionArgs"),t.appendInstructionDiscriminator=[149,120,18,222,236,225,88,203],t.createAppendInstruction=s},15450:function(e,t,r){"use strict";r(44114);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createCloseEmptyTreeInstruction=t.closeEmptyTreeInstructionDiscriminator=t.closeEmptyTreeStruct=void 0;const c=i(r(44536)),a=i(r(75290));function s(e,r=new a.PublicKey("cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK")){const[n]=t.closeEmptyTreeStruct.serialize({instructionDiscriminator:t.closeEmptyTreeInstructionDiscriminator}),o=[{isSigner:!1,isWritable:!0,pubkey:e.merkleTree},{isSigner:!0,isWritable:!1,pubkey:e.authority},{isSigner:!1,isWritable:!0,pubkey:e.recipient}];if(null!=e.anchorRemainingAccounts)for(const t of e.anchorRemainingAccounts)o.push(t);const i=new a.TransactionInstruction({data:n,keys:o,programId:r});return i}t.closeEmptyTreeStruct=new c.BeetArgsStruct([["instructionDiscriminator",c.uniformFixedSizeArray(c.u8,8)]],"CloseEmptyTreeInstructionArgs"),t.closeEmptyTreeInstructionDiscriminator=[50,14,219,107,78,103,16,103],t.createCloseEmptyTreeInstruction=s},6407:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(443),t),o(r(15450),t),o(r(57734),t),o(r(11279),t),o(r(20315),t),o(r(71371),t),o(r(91186),t)},57734:function(e,t,r){"use strict";r(44114);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createInitEmptyMerkleTreeInstruction=t.initEmptyMerkleTreeInstructionDiscriminator=t.initEmptyMerkleTreeStruct=void 0;const c=i(r(44536)),a=i(r(75290));function s(e,r,n=new a.PublicKey("cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK")){const[o]=t.initEmptyMerkleTreeStruct.serialize(Object.assign({instructionDiscriminator:t.initEmptyMerkleTreeInstructionDiscriminator},r)),i=[{isSigner:!1,isWritable:!0,pubkey:e.merkleTree},{isSigner:!0,isWritable:!1,pubkey:e.authority},{isSigner:!1,isWritable:!1,pubkey:e.noop}];if(null!=e.anchorRemainingAccounts)for(const t of e.anchorRemainingAccounts)i.push(t);const c=new a.TransactionInstruction({data:o,keys:i,programId:n});return c}t.initEmptyMerkleTreeStruct=new c.BeetArgsStruct([["instructionDiscriminator",c.uniformFixedSizeArray(c.u8,8)],["maxDepth",c.u32],["maxBufferSize",c.u32]],"InitEmptyMerkleTreeInstructionArgs"),t.initEmptyMerkleTreeInstructionDiscriminator=[191,11,119,7,180,107,220,110],t.createInitEmptyMerkleTreeInstruction=s},11279:function(e,t,r){"use strict";r(44114);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createInsertOrAppendInstruction=t.insertOrAppendInstructionDiscriminator=t.insertOrAppendStruct=void 0;const c=i(r(44536)),a=i(r(75290));function s(e,r,n=new a.PublicKey("cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK")){const[o]=t.insertOrAppendStruct.serialize(Object.assign({instructionDiscriminator:t.insertOrAppendInstructionDiscriminator},r)),i=[{isSigner:!1,isWritable:!0,pubkey:e.merkleTree},{isSigner:!0,isWritable:!1,pubkey:e.authority},{isSigner:!1,isWritable:!1,pubkey:e.noop}];if(null!=e.anchorRemainingAccounts)for(const t of e.anchorRemainingAccounts)i.push(t);const c=new a.TransactionInstruction({data:o,keys:i,programId:n});return c}t.insertOrAppendStruct=new c.BeetArgsStruct([["instructionDiscriminator",c.uniformFixedSizeArray(c.u8,8)],["root",c.uniformFixedSizeArray(c.u8,32)],["leaf",c.uniformFixedSizeArray(c.u8,32)],["index",c.u32]],"InsertOrAppendInstructionArgs"),t.insertOrAppendInstructionDiscriminator=[6,42,50,190,51,109,178,168],t.createInsertOrAppendInstruction=s},20315:function(e,t,r){"use strict";r(44114);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createReplaceLeafInstruction=t.replaceLeafInstructionDiscriminator=t.replaceLeafStruct=void 0;const c=i(r(44536)),a=i(r(75290));function s(e,r,n=new a.PublicKey("cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK")){const[o]=t.replaceLeafStruct.serialize(Object.assign({instructionDiscriminator:t.replaceLeafInstructionDiscriminator},r)),i=[{isSigner:!1,isWritable:!0,pubkey:e.merkleTree},{isSigner:!0,isWritable:!1,pubkey:e.authority},{isSigner:!1,isWritable:!1,pubkey:e.noop}];if(null!=e.anchorRemainingAccounts)for(const t of e.anchorRemainingAccounts)i.push(t);const c=new a.TransactionInstruction({data:o,keys:i,programId:n});return c}t.replaceLeafStruct=new c.BeetArgsStruct([["instructionDiscriminator",c.uniformFixedSizeArray(c.u8,8)],["root",c.uniformFixedSizeArray(c.u8,32)],["previousLeaf",c.uniformFixedSizeArray(c.u8,32)],["newLeaf",c.uniformFixedSizeArray(c.u8,32)],["index",c.u32]],"ReplaceLeafInstructionArgs"),t.replaceLeafInstructionDiscriminator=[204,165,76,100,73,147,0,128],t.createReplaceLeafInstruction=s},71371:function(e,t,r){"use strict";r(44114);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createTransferAuthorityInstruction=t.transferAuthorityInstructionDiscriminator=t.transferAuthorityStruct=void 0;const c=i(r(44536)),a=i(r(38999)),s=i(r(75290));function u(e,r,n=new s.PublicKey("cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK")){const[o]=t.transferAuthorityStruct.serialize(Object.assign({instructionDiscriminator:t.transferAuthorityInstructionDiscriminator},r)),i=[{isSigner:!1,isWritable:!0,pubkey:e.merkleTree},{isSigner:!0,isWritable:!1,pubkey:e.authority}];if(null!=e.anchorRemainingAccounts)for(const t of e.anchorRemainingAccounts)i.push(t);const c=new s.TransactionInstruction({data:o,keys:i,programId:n});return c}t.transferAuthorityStruct=new c.BeetArgsStruct([["instructionDiscriminator",c.uniformFixedSizeArray(c.u8,8)],["newAuthority",a.publicKey]],"TransferAuthorityInstructionArgs"),t.transferAuthorityInstructionDiscriminator=[48,169,76,72,229,180,55,161],t.createTransferAuthorityInstruction=u},91186:function(e,t,r){"use strict";r(44114);var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createVerifyLeafInstruction=t.verifyLeafInstructionDiscriminator=t.verifyLeafStruct=void 0;const c=i(r(44536)),a=i(r(75290));function s(e,r,n=new a.PublicKey("cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK")){const[o]=t.verifyLeafStruct.serialize(Object.assign({instructionDiscriminator:t.verifyLeafInstructionDiscriminator},r)),i=[{isSigner:!1,isWritable:!1,pubkey:e.merkleTree}];if(null!=e.anchorRemainingAccounts)for(const t of e.anchorRemainingAccounts)i.push(t);const c=new a.TransactionInstruction({data:o,keys:i,programId:n});return c}t.verifyLeafStruct=new c.BeetArgsStruct([["instructionDiscriminator",c.uniformFixedSizeArray(c.u8,8)],["root",c.uniformFixedSizeArray(c.u8,32)],["leaf",c.uniformFixedSizeArray(c.u8,32)],["index",c.u32]],"VerifyLeafInstructionArgs"),t.verifyLeafInstructionDiscriminator=[124,220,22,223,104,10,250,224],t.createVerifyLeafInstruction=s},71054:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.accountCompressionEventBeet=t.isAccountCompressionEventApplicationData=t.isAccountCompressionEventChangeLog=void 0;const c=i(r(44536)),a=r(35901),s=r(75345),u=e=>"ChangeLog"===e.__kind;t.isAccountCompressionEventChangeLog=u;const l=e=>"ApplicationData"===e.__kind;t.isAccountCompressionEventApplicationData=l,t.accountCompressionEventBeet=c.dataEnum([["ChangeLog",new c.FixableBeetArgsStruct([["fields",c.tuple([s.changeLogEventBeet])]],'AccountCompressionEventRecord["ChangeLog"]')],["ApplicationData",new c.FixableBeetArgsStruct([["fields",c.tuple([a.applicationDataEventBeet])]],'AccountCompressionEventRecord["ApplicationData"]')]])},35901:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.applicationDataEventBeet=t.isApplicationDataEventV1=void 0;const c=i(r(44536)),a=r(6900),s=e=>"V1"===e.__kind;t.isApplicationDataEventV1=s,t.applicationDataEventBeet=c.dataEnum([["V1",new c.FixableBeetArgsStruct([["fields",c.tuple([a.applicationDataEventV1Beet])]],'ApplicationDataEventRecord["V1"]')]])},6900:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.applicationDataEventV1Beet=void 0;const c=i(r(44536));t.applicationDataEventV1Beet=new c.FixableBeetArgsStruct([["applicationData",c.bytes]],"ApplicationDataEventV1")},75345:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.changeLogEventBeet=t.isChangeLogEventV1=void 0;const c=i(r(44536)),a=r(54976),s=e=>"V1"===e.__kind;t.isChangeLogEventV1=s,t.changeLogEventBeet=c.dataEnum([["V1",new c.FixableBeetArgsStruct([["fields",c.tuple([a.changeLogEventV1Beet])]],'ChangeLogEventRecord["V1"]')]])},54976:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.changeLogEventV1Beet=void 0;const c=i(r(44536)),a=i(r(38999)),s=r(19380);t.changeLogEventV1Beet=new c.FixableBeetArgsStruct([["id",a.publicKey],["path",c.array(s.pathNodeBeet)],["seq",c.u64],["index",c.u32]],"ChangeLogEventV1")},68222:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.compressionAccountTypeBeet=t.CompressionAccountType=void 0;const c=i(r(44536));var a;(function(e){e[e["Uninitialized"]=0]="Uninitialized",e[e["ConcurrentMerkleTree"]=1]="ConcurrentMerkleTree"})(a=t.CompressionAccountType||(t.CompressionAccountType={})),t.compressionAccountTypeBeet=c.fixedScalarEnum(a)},56449:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.concurrentMerkleTreeHeaderBeet=void 0;const c=i(r(44536)),a=r(68222),s=r(29873);t.concurrentMerkleTreeHeaderBeet=new c.FixableBeetArgsStruct([["accountType",a.compressionAccountTypeBeet],["header",s.concurrentMerkleTreeHeaderDataBeet]],"ConcurrentMerkleTreeHeader")},29873:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.concurrentMerkleTreeHeaderDataBeet=t.isConcurrentMerkleTreeHeaderDataV1=void 0;const c=i(r(44536)),a=r(81600),s=e=>"V1"===e.__kind;t.isConcurrentMerkleTreeHeaderDataV1=s,t.concurrentMerkleTreeHeaderDataBeet=c.dataEnum([["V1",new c.BeetArgsStruct([["fields",c.fixedSizeTuple([a.concurrentMerkleTreeHeaderDataV1Beet])]],'ConcurrentMerkleTreeHeaderDataRecord["V1"]')]])},81600:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.concurrentMerkleTreeHeaderDataV1Beet=void 0;const c=i(r(44536)),a=i(r(38999));t.concurrentMerkleTreeHeaderDataV1Beet=new c.BeetArgsStruct([["maxBufferSize",c.u32],["maxDepth",c.u32],["authority",a.publicKey],["creationSlot",c.u64],["padding",c.uniformFixedSizeArray(c.u8,6)]],"ConcurrentMerkleTreeHeaderDataV1")},19380:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pathNodeBeet=void 0;const c=i(r(44536));t.pathNodeBeet=new c.BeetArgsStruct([["node",c.uniformFixedSizeArray(c.u8,32)],["index",c.u32]],"PathNode")},7787:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(71054),t),o(r(35901),t),o(r(6900),t),o(r(75345),t),o(r(54976),t),o(r(68222),t),o(r(56449),t),o(r(29873),t),o(r(81600),t),o(r(19380),t)},1607:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID=t.SPL_ACCOUNT_COMPRESSION_ADDRESS=void 0,o(r(32365),t);var i=r(32365);Object.defineProperty(t,"SPL_ACCOUNT_COMPRESSION_ADDRESS",{enumerable:!0,get:function(){return i.PROGRAM_ADDRESS}}),Object.defineProperty(t,"SPL_ACCOUNT_COMPRESSION_PROGRAM_ID",{enumerable:!0,get:function(){return i.PROGRAM_ID}}),o(r(42821),t),o(r(4904),t),o(r(84541),t),o(r(65737),t),o(r(84749),t),o(r(46409),t)},42821:function(e,t,r){"use strict";r(81454);var n=this&&this.__awaiter||function(e,t,r,n){function o(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function c(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n["throw"](e))}catch(t){i(t)}}function s(e){e.done?r(e.value):o(e.value).then(c,a)}s((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createCloseEmptyTreeIx=t.createAllocTreeIx=t.createVerifyLeafIx=t.createTransferAuthorityIx=t.createAppendIx=t.createReplaceIx=t.createInitEmptyMerkleTreeIx=t.addProof=void 0;const o=r(75290),i=r(4904),c=r(65737),a=r(32365);function s(e,t){return e.keys=e.keys.concat(t.map((e=>({isSigner:!1,isWritable:!1,pubkey:new o.PublicKey(e)})))),e}function u(e,t,r){return(0,a.createInitEmptyMerkleTreeInstruction)({authority:t,merkleTree:e,noop:c.SPL_NOOP_PROGRAM_ID},r)}function l(e,t,r,n){return s((0,a.createReplaceLeafInstruction)({authority:t,merkleTree:e,noop:c.SPL_NOOP_PROGRAM_ID},{index:n.leafIndex,newLeaf:Array.from(r),previousLeaf:Array.from(n.leaf),root:Array.from(n.root)}),n.proof)}function d(e,t,r){return(0,a.createAppendInstruction)({authority:t,merkleTree:e,noop:c.SPL_NOOP_PROGRAM_ID},{leaf:Array.from(r)})}function f(e,t,r){return(0,a.createTransferAuthorityInstruction)({authority:t,merkleTree:e},{newAuthority:r})}function p(e,t){return s((0,a.createVerifyLeafInstruction)({merkleTree:e},{index:t.leafIndex,leaf:Array.from(t.leaf),root:Array.from(t.root)}),t.proof)}function h(e,t,r,c,s){return n(this,void 0,void 0,(function*(){const n=(0,i.getConcurrentMerkleTreeAccountSize)(c.maxDepth,c.maxBufferSize,null!==s&&void 0!==s?s:0);return o.SystemProgram.createAccount({fromPubkey:r,lamports:yield e.getMinimumBalanceForRentExemption(n),newAccountPubkey:t,programId:a.PROGRAM_ID,space:n})}))}function y(e,t,r){return(0,a.createCloseEmptyTreeInstruction)({authority:t,merkleTree:e,recipient:r})}t.addProof=s,t.createInitEmptyMerkleTreeIx=u,t.createReplaceIx=l,t.createAppendIx=d,t.createTransferAuthorityIx=f,t.createVerifyLeafIx=p,t.createAllocTreeIx=h,t.createCloseEmptyTreeIx=y},46409:function(e,t,r){"use strict";var n=r(90712)["Buffer"],o=r(94348);r(44114),r(16573),r(78100),r(77936),r(37467),r(44732),r(79577),r(98992),r(3949);var i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return c(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.emptyNode=t.hash=t.MerkleTree=t.LEAF_BUFFER_LENGTH=void 0;const u=r(75290),l=s(r(9135)),d=a(r(53994)),{keccak_256:f}=l.default,p=new Map;t.LEAF_BUFFER_LENGTH=32;class h{constructor(e){const[t,r]=_(e);let n=e.length;while(t.size()>1){const e=t.dequeue(),r=e.level;let o;r!=t.peek().level?(o=g(r,n),n++):o=t.dequeue();const i={id:n,left:e,level:r+1,node:y(e.node,o.node),parent:void 0,right:o};e.parent=i,o.parent=i,t.enqueue(i),n++}this.leaves=r,this.root=t.peek().node,this.depth=t.peek().level+1}static sparseMerkleTreeFromLeaves(e,t){const r=[];for(let o=0;o<2**t;o++)o<e.length?r.push(e[o]):r.push(n.alloc(32));return new h(r)}getRoot(){return this.root}getProof(e,t=!1,r=-1,n=!1){const i=[];let c=this.leaves[e],a=0;while("undefined"!==typeof c.parent){if(t&&a>=r)break;n&&o.log(`${c.level}: ${Uint8Array.from(c.node)}`);const e=c.parent;if(e.left.id===c.id){i.push(e.right);const t=y(c.node,e.right.node);if(!t.equals(e.node))throw o.log(t),o.log(e.node),new Error("Invariant broken when hashing left node")}else{i.push(e.left);const t=y(e.left.node,c.node);if(!t.equals(e.node))throw o.log(t),o.log(e.node),new Error("Invariant broken when hashing right node")}c=e,a++}return{leaf:this.leaves[e].node,leafIndex:e,proof:i.map((e=>e.node)),root:this.getRoot()}}updateLeaf(e,t,r=!1){const n=this.leaves[e];n.node=t;let i=n,c=0;while("undefined"!==typeof i.parent)r&&o.log(`${c}: ${Uint8Array.from(i.node)}`),i=i.parent,i.node=y(i.left.node,i.right.node),c++;r&&o.log(`${c}: ${Uint8Array.from(i.node)}`),this.root=i.node}static hashProof(e,t=!1){const{leaf:r,leafIndex:n,proof:i}=e;let c=new u.PublicKey(r).toBuffer();for(let a=0;a<i.length;a++)c=(n>>a)%2===0?y(c,new u.PublicKey(i[a]).toBuffer()):y(new u.PublicKey(i[a]).toBuffer(),c),t&&o.log(`node ${a} ${new u.PublicKey(c).toString()}`);return c}static verify(e,t,r=!1){const n=h.hashProof(t,r),i=new u.PublicKey(n).toString(),c=new u.PublicKey(e).toString();return i!==c?(r&&o.log(`Roots don't match! Expected ${i} got ${c}`),!1):(r&&o.log(`Hashed ${i} got ${c}`),i===c)}}function y(e,t){return n.from(f.digest(n.concat([e,t])))}function b(e){if(p.has(e))return p.get(e);if(0==e)return n.alloc(32);const t=y(b(e-1),b(e-1));return p.set(e,t),t}function g(e,t){return{id:t,left:void 0,level:e,node:b(e),parent:void 0,right:void 0}}function _(e){const r=new d.Queue,n=[];return e.forEach(((e,o)=>{if(e.length!=t.LEAF_BUFFER_LENGTH)throw Error(`Provided leaf has length: ${e.length}, but we need all leaves to be length ${t.LEAF_BUFFER_LENGTH}`);const i={id:o,left:void 0,level:0,node:e,parent:void 0,right:void 0};r.enqueue(i),n.push(i)})),[r,n]}t.MerkleTree=h,t.hash=y,t.emptyNode=b},14513:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.canopyBeetFactory=void 0;const c=i(r(44536)),a=e=>new c.BeetArgsStruct([["canopyBytes",c.uniformFixedSizeArray(c.u8,Math.max(32*((1<<e+1)-2),0))]],"Canopy");t.canopyBeetFactory=a},63806:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.concurrentMerkleTreeBeetFactory=void 0;const c=i(r(44536)),a=i(r(38999)),s=r(4838),u=e=>new c.BeetArgsStruct([["root",a.publicKey],["pathNodes",c.uniformFixedSizeArray(a.publicKey,e)],["index",c.u32],["_padding",c.u32]],"ChangeLog"),l=(e,t)=>new c.BeetArgsStruct([["sequenceNumber",c.u64],["activeIndex",c.u64],["bufferSize",c.u64],["changeLogs",c.uniformFixedSizeArray(u(e),t)],["rightMostPath",(0,s.pathBeetFactory)(e)]],"ConcurrentMerkleTree");t.concurrentMerkleTreeBeetFactory=l},4838:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pathBeetFactory=void 0;const c=i(r(44536)),a=i(r(38999)),s=e=>new c.BeetArgsStruct([["proof",c.uniformFixedSizeArray(a.publicKey,e)],["leaf",a.publicKey],["index",c.u32],["_padding",c.u32]],"Path");t.pathBeetFactory=s},84749:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(4838),t),o(r(14513),t),o(r(63806),t)},38999:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.supportedTypeMap=void 0;const i=r(85870);o(r(85870),t),o(r(21129),t),t.supportedTypeMap=i.keysTypeMap},21129:function(e,t,r){"use strict";r(44114),Object.defineProperty(t,"__esModule",{value:!0}),t.GpaBuilder=void 0;const n=r(44536),o=r(30637),i=r(41233),c=r(59377);class a{constructor(e,t,r){this.programId=e,this.beets=t,this.accountSize=r,this.config={}}_addFilter(e){return null==this.config.filters&&(this.config.filters=[]),this.config.filters.push(e),this}_addInnerFilter(e,t,r){(0,i.logTrace)(`gpa.addInnerFilter: ${e}.${t}`);const a=this.beets.get(e);(0,o.strict)(null!=a,"Outer filter key needs to be an existing field name");const s=a.beet;let u=a.offset;const l=(0,n.isFixedSizeBeet)(s)?s:s.toFixedFromValue(r);let d;for(const[n,o]of l.fields){if(n===t){d=o;break}u+=o.byteSize}(0,o.strict)(null!=d,`${t} is not a field of the ${e} struct`);const f=(0,c.encodeFixedBeet)(d,r);return this._addFilter({memcmp:{offset:u,bytes:f}}),this}addInnerFilter(e,t){const r=e.split(".");o.strict.equal(r.length,2,"inner filters can go only one level deep, i.e. 'outer.inner' is ok, but 'outer.inner.deep' is not");const[n,i]=r;return this._addInnerFilter(n,i,t)}addFilter(e,t){const r=this.beets.get(e);(0,o.strict)(null!=r,"Filter key needs to be an existing field name");const i=(0,n.isFixedSizeBeet)(r.beet)?r.beet:r.beet.toFixedFromValue(t),a=(0,c.encodeFixedBeet)(i,t);return this._addFilter({memcmp:{offset:r.offset,bytes:a}}),this}dataSize(e){return e=null!==e&&void 0!==e?e:this.accountSize,(0,o.strict)(null!=e,"for accounts of dynamic size the dataSize arg needs to be provided"),this._addFilter({dataSize:e})}run(e){return e.getProgramAccounts(this.programId,this.config)}static fromBeetFields(e,t){const r=new Map;let o=0,i=!1;for(const[a,s]of t){if(r.set(a,{beet:s,offset:o}),!(0,n.isFixedSizeBeet)(s)){i=!0;break}o+=s.byteSize}const c=i?void 0:o;return new a(e,r,c)}static fromStruct(e,t){return a.fromBeetFields(e,t.fields)}}t.GpaBuilder=a},59377:function(e,t,r){"use strict";var n=r(90712)["Buffer"],o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.encodeFixedBeet=void 0;const i=o(r(50075));function c(e,t){const r=n.alloc(e.byteSize);return e.write(r,0,t),i.default.encode(r)}t.encodeFixedBeet=c},85870:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keysTypeMap=t.publicKey=void 0;const n=r(75290),o=r(44536),i="@metaplex-foundation/beet-solana",c="@solana/web3.js",a=(0,o.fixedSizeUint8Array)(32);t.publicKey={write:function(e,t,r){const n=r.toBytes();a.write(e,t,n)},read:function(e,t){const r=a.read(e,t);return new n.PublicKey(r)},byteSize:a.byteSize,description:"PublicKey"},t.keysTypeMap={publicKey:{beet:"publicKey",isFixable:!1,sourcePack:i,ts:"PublicKey",pack:c}}},41233:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.logTrace=t.logDebug=t.logInfo=t.logError=void 0;const o=n(r(54940));t.logError=(0,o.default)("beet:error"),t.logInfo=(0,o.default)("beet:info"),t.logDebug=(0,o.default)("beet:debug"),t.logTrace=(0,o.default)("beet:trace")},75908:function(e,t,r){"use strict";function n(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var o=e.charAt(n),i=o.charCodeAt(0);if(255!==t[i])throw new TypeError(o+" is ambiguous");t[i]=n}var c=e.length,a=e.charAt(0),s=Math.log(c)/Math.log(256),u=Math.log(256)/Math.log(c);function l(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";var r=0,n=0,o=0,i=t.length;while(o!==i&&0===t[o])o++,r++;var s=(i-o)*u+1>>>0,l=new Uint8Array(s);while(o!==i){for(var d=t[o],f=0,p=s-1;(0!==d||f<n)&&-1!==p;p--,f++)d+=256*l[p]>>>0,l[p]=d%c>>>0,d=d/c>>>0;if(0!==d)throw new Error("Non-zero carry");n=f,o++}var h=s-n;while(h!==s&&0===l[h])h++;for(var y=a.repeat(r);h<s;++h)y+=e.charAt(l[h]);return y}function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var r=0,n=0,o=0;while(e[r]===a)n++,r++;var i=(e.length-r)*s+1>>>0,u=new Uint8Array(i);while(e[r]){var l=e.charCodeAt(r);if(l>255)return;var d=t[l];if(255===d)return;for(var f=0,p=i-1;(0!==d||f<o)&&-1!==p;p--,f++)d+=c*u[p]>>>0,u[p]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=f,r++}var h=i-o;while(h!==i&&0===u[h])h++;var y=new Uint8Array(n+(i-h)),b=n;while(h!==i)y[b++]=u[h++];return y}function f(e){var t=d(e);if(t)return t;throw new Error("Non-base"+c+" character")}return{encode:l,decodeUnsafe:d,decode:f}}r(16573),r(78100),r(77936),r(37467),r(44732),r(79577),e.exports=n},50075:function(e,t,r){const n=r(75908),o="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";e.exports=n(o)},31743:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeDecode=void 0;const r=e=>{const t=e.decode.bind(e),r=e.encode.bind(e);return{decode:t,encode:r}};t.encodeDecode=r},77605:function(e,t,r){"use strict";var n=r(90712)["Buffer"];Object.defineProperty(t,"__esModule",{value:!0}),t.u256be=t.u256=t.u192be=t.u192=t.u128be=t.u128=t.u64be=t.u64=t.bigIntBE=t.bigInt=void 0;const o=r(63558),i=r(93203),c=r(31743),a=e=>t=>{const r=(0,o.blob)(e,t),{encode:a,decode:s}=(0,c.encodeDecode)(r),u=r;return u.decode=(e,t)=>{const r=s(e,t);return(0,i.toBigIntLE)(n.from(r))},u.encode=(t,r,n)=>{const o=(0,i.toBufferLE)(t,e);return a(o,r,n)},u};t.bigInt=a;const s=e=>t=>{const r=(0,o.blob)(e,t),{encode:a,decode:s}=(0,c.encodeDecode)(r),u=r;return u.decode=(e,t)=>{const r=s(e,t);return(0,i.toBigIntBE)(n.from(r))},u.encode=(t,r,n)=>{const o=(0,i.toBufferBE)(t,e);return a(o,r,n)},u};t.bigIntBE=s,t.u64=(0,t.bigInt)(8),t.u64be=(0,t.bigIntBE)(8),t.u128=(0,t.bigInt)(16),t.u128be=(0,t.bigIntBE)(16),t.u192=(0,t.bigInt)(24),t.u192be=(0,t.bigIntBE)(24),t.u256=(0,t.bigInt)(32),t.u256be=(0,t.bigIntBE)(32)},42155:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decimal=t.WAD=void 0;const o=n(r(28577)),i=r(31743),c=r(77605);t.WAD=new o.default("1e+18");const a=e=>{const r=(0,c.u128)(e),{encode:n,decode:a}=(0,i.encodeDecode)(r),s=r;return s.decode=(e,r)=>{const n=a(e,r).toString();return new o.default(n).div(t.WAD)},s.encode=(e,r,o)=>{const i=BigInt(e.times(t.WAD).integerValue().toString());return n(i,r,o)},s};t.decimal=a},77280:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(31743),t),o(r(77605),t),o(r(42155),t),o(r(51933),t),o(r(76977),t)},51933:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bool=void 0;const n=r(63558),o=r(31743),i=e=>{const t=(0,n.u8)(e),{encode:r,decode:i}=(0,o.encodeDecode)(t),c=t;return c.decode=(e,t)=>{const r=i(e,t);return!!r},c.encode=(e,t,n)=>{const o=Number(e);return r(o,t,n)},c};t.bool=i},76977:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publicKey=void 0;const n=r(63558),o=r(75290),i=r(31743),c=e=>{const t=(0,n.blob)(32,e),{encode:r,decode:c}=(0,i.encodeDecode)(t),a=t;return a.decode=(e,t)=>{const r=c(e,t);return new o.PublicKey(r)},a.encode=(e,t,n)=>{const o=e.toBuffer();return r(o,t,n)},a};t.publicKey=c},53076:function(e,t,r){"use strict";r.d(t,{lc:function(){return d},jE:function(){return p},_l:function(){return u}});var n=r(63558),o=r(93203);const i=e=>{const t=e.decode.bind(e),r=e.encode.bind(e);return{decode:t,encode:r}};var c=r(90712)["Buffer"];const a=e=>t=>{const r=(0,n.blob)(e,t),{encode:a,decode:s}=i(r),u=r;return u.decode=(e,t)=>{const r=s(e,t);return(0,o.toBigIntLE)(c.from(r))},u.encode=(t,r,n)=>{const i=(0,o.toBufferLE)(t,e);return a(i,r,n)},u},s=e=>t=>{const r=(0,n.blob)(e,t),{encode:a,decode:s}=i(r),u=r;return u.decode=(e,t)=>{const r=s(e,t);return(0,o.toBigIntBE)(c.from(r))},u.encode=(t,r,n)=>{const i=(0,o.toBufferBE)(t,e);return a(i,r,n)},u},u=a(8);s(8),a(16),s(16),a(24),s(24),a(32),s(32);var l=r(74013);new l.A("1e+18");const d=e=>{const t=(0,n.u8)(e),{encode:r,decode:o}=i(t),c=t;return c.decode=(e,t)=>{const r=o(e,t);return!!r},c.encode=(e,t,n)=>{const o=Number(e);return r(o,t,n)},c};var f=r(75290);const p=e=>{const t=(0,n.blob)(32,e),{encode:r,decode:o}=i(t),c=t;return c.decode=(e,t)=>{const r=o(e,t);return new f.PublicKey(r)},c.encode=(e,t,n)=>{const o=e.toBuffer();return r(o,t,n)},c}}}]);
//# sourceMappingURL=solana-vendors-72cd900f.8610586a.js.map