(function(){var e={14483:function(e,t,a){"use strict";var n=a(45130),o=a(81387),r=a(54868);const s=[{name:"CashbackPage",path:"/cashback",component:()=>a.e(7638).then(a.bind(a,1017))},{name:"BurnPage",path:"/burn",component:()=>a.e(5653).then(a.bind(a,44773))},{name:"LaunchPage",path:"/token-launch-info",component:()=>a.e(9655).then(a.bind(a,29655))},{name:"CashbackHistoryPage",path:"/cashback/history",component:()=>a.e(462).then(a.bind(a,70462))},{name:"NftSpace",path:"/nft",component:()=>a.e(2986).then(a.bind(a,77366))},{name:"HomePage",path:"/",component:()=>a.e(4923).then(a.bind(a,65459))},{name:"AboutPage",path:"/about",component:()=>a.e(8449).then(a.bind(a,13289))},{name:"RewardsPage",path:"/rewards",component:()=>a.e(4960).then(a.bind(a,74960))},{name:"MemeTokenLaunchPage",path:"/token-launch",component:()=>a.e(4268).then(a.bind(a,94268))},{name:"TokenDetailsPage",path:"/token/:tokenId",component:()=>a.e(5191).then(a.bind(a,95191))},{name:"TokensPage",path:"/tokens",component:()=>a.e(8538).then(a.bind(a,38538))},{name:"MyTokensPage",path:"/my/tokens",component:()=>a.e(9506).then(a.bind(a,99506))},{name:"TopRewardsPage",path:"/rewards/top",component:()=>a.e(7493).then(a.bind(a,99874))},{name:"RewardPostPage",path:"/rewards/tweet/:tweetId",component:()=>a.e(7710).then(a.bind(a,57710)),props:!0},{name:"SoloGame",path:"/solo",component:()=>a.e(778).then(a.bind(a,40778))},{name:"Leaderboard",path:"/leaderboard",component:()=>a.e(8041).then(a.bind(a,58041))},{name:"Roadmap",path:"/roadmap",component:()=>a.e(3).then(a.bind(a,10003))},{name:"MyBITCAT",path:"/my",component:()=>a.e(1435).then(a.bind(a,21435))},{name:"UserSettings",path:"/my/settings",component:()=>a.e(3867).then(a.bind(a,53867)),meta:{requiresAuth:!0}},{name:"UserReferrals",path:"/my/referrals",component:()=>a.e(5870).then(a.bind(a,75870)),meta:{requiresAuth:!0}},{name:"ReferralHistoryPage",path:"/my/referral/:referralTag",component:()=>a.e(983).then(a.bind(a,40983)),meta:{requiresAuth:!0}},{name:"NftBitcat",path:"/nft-mint",component:()=>a.e(567).then(a.bind(a,10567)),meta:{requiresAuth:!0}},{name:"NftView",path:"/nft/:assetPublicKey",component:()=>a.e(5127).then(a.bind(a,5127)),meta:{requiresAuth:!1}},{name:"PlayerNfts",path:"/player-nfts/:userTag",component:()=>a.e(4817).then(a.bind(a,14817))},{name:"MultiplayerGame",path:"/multiplayer-game",component:()=>a.e(9759).then(a.bind(a,17137))},{path:"/nft-market",name:"nft-market-old",component:()=>a.e(1886).then(a.bind(a,81886))},{path:"/nft-market-new",name:"nft-market",component:()=>Promise.all([a.e(8206),a.e(3874),a.e(3159),a.e(3745),a.e(9290),a.e(3e3),a.e(2773),a.e(8982),a.e(4066),a.e(3250),a.e(7949),a.e(1147),a.e(1760),a.e(3041),a.e(677),a.e(2135),a.e(9874),a.e(8095),a.e(2095),a.e(4326),a.e(8465),a.e(3410),a.e(6852),a.e(3360),a.e(4891),a.e(3699),a.e(8945),a.e(464),a.e(8940),a.e(5880),a.e(3772),a.e(3510),a.e(8510),a.e(5269),a.e(252),a.e(5988),a.e(7337),a.e(5509),a.e(3896),a.e(6154),a.e(8327)]).then(a.bind(a,18327))},{path:"/nft-market-new/listing/:mintAddress",name:"nft-listing-detail",component:()=>a.e(2118).then(a.bind(a,42118))},{path:"/nft-mart",name:"nft-mart",component:()=>Promise.all([a.e(8206),a.e(3874),a.e(3159),a.e(3745),a.e(9290),a.e(3e3),a.e(2773),a.e(8982),a.e(4066),a.e(3250),a.e(7949),a.e(1147),a.e(1760),a.e(3041),a.e(677),a.e(2135),a.e(9874),a.e(8095),a.e(2095),a.e(4326),a.e(8465),a.e(3410),a.e(6852),a.e(3360),a.e(4891),a.e(3699),a.e(8945),a.e(464),a.e(8940),a.e(5880),a.e(3772),a.e(3510),a.e(8510),a.e(5269),a.e(252),a.e(5988),a.e(7337),a.e(5509),a.e(3896),a.e(6154),a.e(3464)]).then(a.bind(a,3464))},{path:"/nft-rental",name:"nft-rental",component:()=>a.e(7323).then(a.bind(a,57323))},{name:"GameDetails",path:"/games/:gameId",component:()=>a.e(7443).then(a.bind(a,77443))},{name:"Player",path:"/player/:userTag",component:()=>a.e(4664).then(a.bind(a,74664))},{name:"Arena",path:"/arena",component:()=>a.e(9802).then(a.bind(a,69802))},{name:"HideSeek",path:"/hide-seek",component:()=>a.e(185).then(a.bind(a,80185)),props:e=>({gameId:e.query.game}),meta:{requiresAuth:!0}},{name:"HideSeekGameDetails",path:"/hide-seek/:gameId",component:()=>a.e(5176).then(a.bind(a,85176)),meta:{requiresAuth:!0}},{path:"/dao",name:"Dao",component:()=>a.e(4524).then(a.bind(a,42564))},{path:"/welcome",name:"Universe",component:()=>a.e(7552).then(a.bind(a,4995))},{path:"/changelog",name:"Changelog",component:()=>a.e(2756).then(a.bind(a,22756))},{path:"/ai-agent/create",name:"CreateAgent",component:()=>a.e(9741).then(a.bind(a,59741)),meta:{requiresAuth:!0}},{path:"/ai-agent/update/:agentTag",name:"UpdateAgent",component:()=>a.e(9741).then(a.bind(a,59741)),meta:{requiresAuth:!0}},{path:"/ai-agents",name:"AiAgents",component:()=>a.e(4271).then(a.bind(a,34271)),meta:{requiresAuth:!0}},{path:"/ai-agents/:agentTag",name:"AiAgent",component:()=>a.e(4171).then(a.bind(a,74171))},{path:"/ai",name:"AiPage",component:()=>Promise.all([a.e(4036),a.e(204)]).then(a.bind(a,14328))},{path:"/about-bitcat-ai",name:"AboutBitcatAi",component:()=>a.e(1085).then(a.bind(a,61085))},{path:"/games",name:"GameArena",component:()=>a.e(8067).then(a.bind(a,26526))},{path:"/crowdfunding",name:"Crowdfunding",component:()=>a.e(6060).then(a.bind(a,6060))},{path:"/kol",name:"KolPage",component:()=>a.e(4948).then(a.bind(a,74948))},{path:"/kol/:kolId",name:"KolDetailPage",component:()=>a.e(8996).then(a.bind(a,58996))},{path:"/ai-frame",name:"AiAgentFramePage",component:()=>a.e(7591).then(a.bind(a,37591))},{path:"/ai-frame-doc",name:"AiFrameDocPage",component:()=>a.e(5079).then(a.bind(a,55079))},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>a.e(4995).then(a.bind(a,24995))}],i=(e,t,a)=>a||{top:0};var c=a(68881),l=(a(14603),a(47566),a(98721),a(56768)),d=a(24232),u=a(90144),m=a(42552),g=a(86659),h=a(94348),f={__name:"App",setup(e,{expose:t}){const r=(0,l.$V)((()=>a.e(8951).then(a.bind(a,88773)))),s=(0,l.$V)((()=>a.e(1342).then(a.bind(a,21342)))),i=(0,l.$V)((()=>Promise.all([a.e(4036),a.e(8303)]).then(a.bind(a,84036)))),f=(0,l.$V)((()=>a.e(671).then(a.bind(a,80671)))),p=(0,l.$V)((()=>a.e(5185).then(a.bind(a,5185)))),S=(0,l.$V)((()=>a.e(2765).then(a.bind(a,72765)))),b=(0,l.$V)((()=>a.e(1215).then(a.bind(a,51215)))),E=(0,o.lq)(),T=((0,o.rd)(),[new m.c]);(0,g.GZ)({wallets:T,autoConnect:c.A.state.autoConnect});const w=(0,u.KR)(!1),A=(0,u.KR)(!0),y=(0,u.KR)(0),k=(0,u.KR)(!1),_=(0,u.KR)(!1),I=(0,l.EW)((()=>"solanabitcat.com"===window.location.hostname)),v=(0,l.EW)((()=>A.value&&"/ai"!==E.path)),O=(0,l.EW)((()=>"/ai-frame"!==E.path)),R=(0,l.EW)((()=>"/ai-frame"!==E.path)),L=(0,l.EW)((()=>"/ai-frame"!==E.path)),C=(0,l.EW)((()=>"/ai-frame"!==E.path)),H=(0,l.EW)((()=>"/ai-frame"===E.path));function P(){window.solana&&window.solana.disconnect()}function N(){y.value=window.scrollY}(0,l.sV)((()=>{h.log("App mounted",E.path),setTimeout((()=>{const e=new URLSearchParams(window.location.search),t=e.get("r");if(t){c.A.getters.isAuthenticated||localStorage.setItem("ref",t),e.delete("r");const a=e.toString()?`?${e.toString()}`:"",n=`${window.location.pathname}${a}${window.location.hash}`;window.history.replaceState(null,"",n)}}),100),w.value=!0,h.log("App mounted");const e=localStorage.getItem("bitcat_ai_enabled");if(A.value=null===e||"true"===e,window.addEventListener("scroll",N),window.addEventListener("beforeunload",P),I.value){const e=sessionStorage.getItem("domain_migration_popup_shown");e||setTimeout((()=>{k.value=!0,sessionStorage.setItem("domain_migration_popup_shown","true")}),1e4)}}));const G=e=>{A.value=e,localStorage.setItem("bitcat_ai_enabled",e.toString())},D=()=>{k.value=!1},K=()=>{_.value=!0},U=()=>{_.value=!1};return t({toggleAiVisibility:G}),(0,l.wB)(H,(e=>{h.log("isAiFrame",e);const t=document.getElementById("app");t&&e&&(t.style.background="transparent")}),{immediate:!0}),h.log("Welcome to BITCAT Universe dApp! Enjoy =)"),(e,t)=>{const a=(0,l.g2)("router-view");return w.value?((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,d.C4)(["app__wrap",{"transparent-bg":H.value}])},[(0,l.Lk)("main",{class:(0,d.C4)(["app-content",{"transparent-bg":H.value}])},[C.value?((0,l.uX)(),(0,l.Wv)((0,u.R1)(S),{key:0,onOpenBuyModal:K})):(0,l.Q3)("",!0),L.value?((0,l.uX)(),(0,l.Wv)((0,u.R1)(r),{key:1,onToggleAi:G})):(0,l.Q3)("",!0),(0,l.bF)(n.eB,{name:"fade",mode:"out-in"},{default:(0,l.k6)((()=>[(0,l.bF)(a,{class:"page-content"})])),_:1}),O.value?((0,l.uX)(),(0,l.Wv)((0,u.R1)(s),{key:2})):(0,l.Q3)("",!0),v.value&&R.value?((0,l.uX)(),(0,l.Wv)((0,u.R1)(i),{key:3})):(0,l.Q3)("",!0)],2),k.value&&I.value?((0,l.uX)(),(0,l.Wv)((0,u.R1)(f),{key:0,onClose:D})):(0,l.Q3)("",!0),I.value?((0,l.uX)(),(0,l.Wv)((0,u.R1)(p),{key:1})):(0,l.Q3)("",!0),(0,l.bF)((0,u.R1)(b),{show:_.value,onClose:U},null,8,["show"])],2)):(0,l.Q3)("",!0)}}};const p=f;var S=p;const b=(0,o.aE)({history:(0,o.LA)(),routes:s,scrollBehavior:i,linkPrefetchStrategy:"all",prefetchChunkSize:1e4,prefetchMaxAge:5e3,prefetchOnMouseOver:!1,prefetchOnFocus:!1});(0,r.O)(c.A,b);const E=(0,n.Ef)(S);E.use(c.A),E.use(b),c.A.dispatch("initializeAuth");const T=localStorage.getItem("theme");"dark"===T&&document.documentElement.setAttribute("data-theme","dark");const w=localStorage.getItem("font");"serious"===w&&document.body.classList.add("font-serious"),E.mount("#app");const A=()=>{if(window.location.hash&&window.location.hash.startsWith("#/")){const e=window.location.hash.substring(1);window.location.href=e}};b.isReady().then((()=>{A()})),window.addEventListener("hashchange",A)},68881:function(e,t,a){"use strict";a.d(t,{A:function(){return u}});a(44114),a(98992),a(54520),a(72577),a(3949),a(81454),a(14603),a(47566),a(98721);var n=a(4249),o=a(48001),r=a(94373),s=a(94348);let i="https://bitcat.today";"localhost"===window.location.hostname&&(i="http://localhost:3000"),r.A.defaults.baseURL=i+"/api";const c=localStorage.getItem("auth_token");c&&(r.A.defaults.headers.common["Authorization"]=`Bearer ${c}`);const l={state:{score:0,lives:9,timeLeft:30,coins:[],isPlaying:!1,gameOver:!0,isFirstGame:!0,catScale:.5},mutations:{UPDATE_GAME_STATE(e,t){s.log("Updating game state with:",t),Object.keys(t).forEach((a=>{e[a]=t[a]}))}}},d=(0,n.y$)({state(){return{socket:null,error:null,socketConnected:!1,game:{score:0,lives:9,timeLeft:60,coins:[],isPlaying:!1,gameOver:!0,isFirstGame:!0,catScale:.5},session:{token:c,userTag:localStorage.getItem("userTag")||null,isAuthenticated:!!c,hasPassword:!1,hasWallet:!1,walletAddress:null,bestScore:parseInt(localStorage.getItem("bestScore"))||0,totalScore:parseInt(localStorage.getItem("totalScore"))||0,wins:parseInt(localStorage.getItem("wins"))||0,losses:parseInt(localStorage.getItem("losses"))||0,twitterLinked:!1,twitterUsername:null},highScores:[],autoConnect:!0,userSOLBalance:0,boardType:"score",disclaimerAgreed:"true"===localStorage.getItem("disclaimerAgreed"),score:parseInt(localStorage.getItem("score"))||0,weight:parseInt(localStorage.getItem("weight"))||0,multiplayerStats:{wins:parseInt(localStorage.getItem("wins"))||0,losses:parseInt(localStorage.getItem("losses"))||0},stats:{strength:parseInt(localStorage.getItem("strength"))||1,agility:parseInt(localStorage.getItem("agility"))||1,stamina:parseInt(localStorage.getItem("stamina"))||1,luck:parseInt(localStorage.getItem("luck"))||1,intelligence:parseInt(localStorage.getItem("intelligence"))||1},gameHistory:[],nftRental:{rentalHistory:[]},hideSeek:{stats:null,availableGames:[],gameHistory:[],currentGame:null,loading:!1,error:null},soundEnabled:"true"===localStorage.getItem("soundEnabled"),currentAgent:JSON.parse(localStorage.getItem("selectedAgent"))||{name:"BITCAT AI Agent",agentTag:"main_agent",avatar:26,description:"Hello! I am BITCAT AI Agent. I am here to help you navigate the BITCAT Universe and answer your questions."},agentInfo:JSON.parse(localStorage.getItem("agentInfo"))||{},chatOpen:!1,agentsListOpen:!1,chatAgents:[]}},mutations:{SET_SESSION(e,t){e.session={...e.session,...t},t.userTag&&localStorage.setItem("userTag",t.userTag),t.token&&localStorage.setItem("auth_token",t.token)},UPDATE_GAME_STATE(e,t){e.game||(e.game={score:0,lives:9,timeLeft:60,coins:[],isPlaying:!1,gameOver:!0,isFirstGame:!0,catScale:.5}),s.log("Updating game state:",{current:{...e.game},new:t}),Object.keys(t).forEach((a=>{"catScale"===a&&s.log("Updating catScale:",{old:e.game.catScale,new:t.catScale}),e.game[a]=t[a]})),s.log("Updated game state:",{...e.game})},SET_SOCKET(e,t){s.log("Setting socket:",t),e.socket=t},SET_SOCKET_CONNECTED(e,t){e.socketConnected=t},SET_ERROR(e,t){e.error=t},setBalance(e,t){e.userSOLBalance=t.balance},setBoardType(e,t){s.log(t),e.boardType=t.boardType},setDisclaimerAgreed(e,t){e.disclaimerAgreed=t,localStorage.setItem("disclaimerAgreed",t)},setStat(e,{stat:t,value:a}){e.stats[t]=a,localStorage.setItem(t,a)},SET_WALLET(e,t){e.session.hasWallet=t},SET_STATS(e,t){e.stats={...t}},SET_SCORES(e,{bestScore:t,totalScore:a}){e.session.bestScore=t,e.session.totalScore=a},SET_TOTAL_SCORES(e,{totalScore:t}){e.session.totalScore=t},SET_MULTIPLAYER_STATS(e,t){e.multiplayerStats={...t}},SET_RENTAL_HISTORY(e,t){e.nftRental.rentalHistory=t},setSession(e,{token:t,userTag:a,hasPassword:n,walletAddress:o,bestScore:s,totalScore:i,wins:c,losses:l,settings:d,power:u}){e.session={token:t,userTag:a,hasPassword:n,isAuthenticated:!0,walletAddress:o,hasWallet:null!==o,bestScore:s,totalScore:i,wins:c,losses:l,settings:d,power:u},localStorage.setItem("auth_token",t),r.A.defaults.headers.common["Authorization"]=`Bearer ${t}`,localStorage.setItem("userTag",a)},setDefaultAvatar(e){e.session.settings.avatar=null},setAvatar(e,t){e.session.settings.avatar=t},clearSession(e){e.session={token:null,userTag:null,isAuthenticated:!1,hasPassword:!1,walletAddress:null,hasWallet:!1,bestScore:0,totalScore:0,wins:0,losses:0,settings:{avatar:null,bio:null,telegram:null,twitter:null,isVip:!1},power:{power:0,freeMint:0,freeNftLaunch:0,freeTokenLaunch:0}},localStorage.removeItem("auth_token"),delete r.A.defaults.headers.common["Authorization"],localStorage.removeItem("userTag"),localStorage.removeItem("guest_playerId")},SET_GAME_HISTORY(e,t){e.gameHistory=t},CLEAR_GAME_HISTORY(e){e.gameHistory=[]},UPDATE_GAME_HISTORY(e,t){e.gameHistory=[t,...e.gameHistory].slice(0,10)},SET_HIDE_SEEK_STATS(e,t){e.hideSeek.stats=t},SET_HIDE_SEEK_GAMES(e,t){e.hideSeek.availableGames=t},SET_HIDE_SEEK_HISTORY(e,t){e.hideSeek.gameHistory=t},SET_CURRENT_HIDE_SEEK_GAME(e,t){e.hideSeek.currentGame=t},SET_HIDE_SEEK_LOADING(e,t){e.hideSeek.loading=t},SET_HIDE_SEEK_ERROR(e,t){e.hideSeek.error=t},SET_SOUND_ENABLED(e,t){e.soundEnabled=t,localStorage.setItem("soundEnabled",t)},SET_CURRENT_AGENT(e,t){e.currentAgent=t,localStorage.setItem("selectedAgent",JSON.stringify(t)),e.agentInfo[t.agentTag]||(e.agentInfo[t.agentTag]={name:t.name,agentTag:t.agentTag,avatar:t.avatar},localStorage.setItem("agentInfo",JSON.stringify(e.agentInfo)))},SELECT_AGENT(e,t){e.currentAgent=t,localStorage.setItem("selectedAgent",JSON.stringify(t)),e.chatOpen=!0},TOGGLE_CHAT(e,t){e.chatOpen=t},TOGGLE_AGENTS_LIST(e,t){e.agentsListOpen=void 0!==t?t:!e.agentsListOpen},DELETE_AGENT(e,t){if("main_agent"===t)return;const a=JSON.parse(localStorage.getItem("chatHistory")||"{}"),n=JSON.parse(localStorage.getItem("agentInfo")||"{}");if(delete a[t],delete n[t],localStorage.setItem("chatHistory",JSON.stringify(a)),localStorage.setItem("agentInfo",JSON.stringify(n)),e.agentInfo=n,this.commit("LOAD_CHAT_AGENTS"),e.currentAgent.agentTag===t){const a=e.chatAgents.findIndex((e=>e.agentTag===t)),n=e.chatAgents[Math.max(0,a-1)];n&&this.commit("SET_CURRENT_AGENT",n)}},UPDATE_AGENT_INFO(e,t){const a=JSON.parse(localStorage.getItem("agentInfo")||"{}");a[t.agentTag]={name:t.name,agentTag:t.agentTag,avatar:t.avatar},localStorage.setItem("agentInfo",JSON.stringify(a)),e.agentInfo=a,this.commit("LOAD_CHAT_AGENTS")},LOAD_CHAT_AGENTS(e){try{const t=JSON.parse(localStorage.getItem("agentInfo")||"{}"),a=Object.keys(t),n={name:"BITCAT AI Agent",agentTag:"main_agent",avatar:26};let o=[];t["main_agent"]||(t["main_agent"]=n,localStorage.setItem("agentInfo",JSON.stringify(t))),a.length>0&&(o=a.map((e=>t[e]?{name:t[e].name,agentTag:t[e].agentTag,avatar:t[e].avatar}:null)).filter((e=>null!==e))),o.find((e=>"main_agent"===e.agentTag))||o.push(n),e.chatAgents=o.sort(((e,t)=>"main_agent"===e.agentTag?-1:"main_agent"===t.agentTag?1:0))}catch(t){s.error("Failed to load agents:",t)}},SET_TWITTER_LINKED(e,{isLinked:t,username:a}){e.session.twitterLinked=t,e.session.twitterUsername=t?a:null}},actions:{async fetchRentalHistory({commit:e}){try{const t=await r.A.get("/nft-rental/recent-history");return t.data&&t.data.history&&e("SET_RENTAL_HISTORY",t.data.history),t.data.history||[]}catch(t){return s.error("Error fetching rental history:",t),[]}},async checkUserTag({commit:e},t){try{const e=await r.A.post("/auth/check-tag",{userTag:t});return e.data}catch(a){throw a.response?.data?.error||"Error checking user tag"}},async authenticateUser({commit:e,dispatch:t},{userTag:a,password:n=null,walletAddress:o=null}){try{const s=await r.A.post("/auth/check-tag",{userTag:a});if(!s.data.exists){const e=localStorage.getItem("ref")||null,r=await t("register",{userTag:a,password:n,walletAddress:o,ref:e});return r.success&&localStorage.removeItem("ref"),r}const i=await r.A.post("/auth/login",{userTag:a,password:n,walletAddress:o});return e("setSession",{token:i.data.token,userTag:i.data.userTag,hasPassword:i.data.hasPassword,walletAddress:i.data.walletAddress,bestScore:i.data.bestScore,totalScore:i.data.totalScore,wins:i.data.wins,losses:i.data.losses}),setTimeout((async()=>{await t("initializeAuth")}),1e3),i.data}catch(s){throw new Error(s.response?.data?.error||"Authentication failed")}},async logout({commit:e}){try{await r.A.post("/auth/logout")}catch(t){s.error("Logout error:",t)}finally{e("clearSession"),e("CLEAR_GAME_HISTORY")}},initSocket({state:e,commit:t,dispatch:a},{forceReconnect:n=!1}={}){if(e.socket){if(!n)return;e.socket.disconnect()}const r=new URLSearchParams(window.location.search),c={};for(const[o,s]of r.entries())c[o]=s;const l=(0,o.io)(i,{auth:{token:localStorage.getItem("auth_token")},query:c});return l.on("disconnect",(()=>{s.log("Socket disconnected"),t("SET_SOCKET_CONNECTED",!1)})),l.on("connect",(()=>{s.log("Socket connected"),t("SET_SOCKET",l),t("SET_SOCKET_CONNECTED",!0)})),l.on("gameState",(a=>{s.log("Received game state:",a),a.gameOver&&e.game.isFirstGame&&(a.isFirstGame=!1),t("UPDATE_GAME_STATE",a)})),l.on("gameHistoryUpdated",(e=>{t("UPDATE_GAME_HISTORY",e),s.log(" Game History Updated:",e)})),l.on("error",(e=>{s.error("Socket error:",e),t("SET_ERROR",e)})),l},startGame({state:e,commit:t},a){if(!e.socket)throw s.error("Socket not initialized"),new Error("Socket not initialized");{const n={playerId:a.playerId,gameConfig:{gameWidth:a.width,gameHeight:a.height}};s.log("Emitting startGame with data:",n),e.socket.emit("startGame",n),e.socket.on("gameStarted",(e=>{s.log("Game started"),s.log(e.playerId),localStorage.setItem("guest_playerId",e.playerId)})),e.socket.on("newUserScore",(e=>{t("SET_SCORES",e)}))}},handleCoinClick({state:e},t){if(e.socket){const a={playerId:e.session.userTag||localStorage.getItem("guest_playerId"),clickData:t};s.log("Emitting coinClick with data:",a),e.socket.emit("coinClick",a)}else s.error("Socket not initialized")},cleanup({state:e,commit:t}){e.socket&&(e.socket.disconnect(),t("SET_SOCKET",null))},cleanupHideSeek({state:e,commit:t}){e.socket&&(e.socket.disconnect(),t("SET_SOCKET",null))},async changeWallet({commit:e},t){try{const a=await r.A.post("/auth/change-wallet",{walletAddress:t});return s.log(a),e("SET_WALLET",!0),a.data}catch(a){s.error("Change wallet error:",a);const e=a.response?.data?.error||"Failed to change wallet";throw new Error(e)}},async register({commit:e},{userTag:t,password:a,walletAddress:n,ref:o}){try{const s=await r.A.post("/auth/register",{userTag:t,password:a,walletAddress:n,ref:o});return e("setSession",{token:s.data.token,userTag:s.data.userTag,hasPassword:s.data.hasPassword,walletAddress:s.data.walletAddress}),s.data}catch(s){throw s.response?.data?.error||"An error occurred during registration"}},async login({commit:e},{userTag:t,password:a,walletAddress:n}){try{const o=await r.A.post("/auth/login",{userTag:t,password:a,walletAddress:n}),{token:s,...i}=o.data;return e("setSession",{token:s,userTag:i.userTag,hasPassword:i.hasPassword,walletAddress:i.walletAddress}),r.A.defaults.headers.common["Authorization"]=`Bearer ${s}`,o.data}catch(o){throw o.response?.data?.error||"Login failed"}},async changePassword({commit:e},{currentPassword:t,newPassword:a}){try{const e=await r.A.post("/auth/change-password",{currentPassword:t,newPassword:a});if(e.data.success)return!0;throw new Error(e.data.error)}catch(n){throw new Error(n.response?.data?.error||"Failed to change password")}},async resetPassword({commit:e},{userTag:t}){try{const e=await r.A.post("/auth/reset-password",{userTag:t});return e.data}catch(a){throw new Error(a.response?.data?.error||"Password reset failed")}},handleClick({state:e},t){e.socket?e.socket.emit("click",t):s.error("Socket not initialized")},initializeAuth({commit:e}){const t=localStorage.getItem("auth_token");t&&(r.A.defaults.headers.common["Authorization"]=`Bearer ${t}`,r.A.get("/auth/me").then((a=>{e("setSession",{wins:a.data.wins,losses:a.data.losses,token:t,userTag:a.data.userTag,hasPassword:a.data.hasPassword,hasWallet:a.data.hasWallet,walletAddress:a.data.walletAddress,bestScore:a.data.bestScore,totalScore:a.data.totalScore,settings:a.data.settings,power:a.data.power})})).catch((()=>{e("clearSession")})))},async fetchGameHistory({commit:e}){try{const t=await r.A.get(`${i}/api/game-history`);e("SET_GAME_HISTORY",t.data)}catch(t){s.error("Error fetching game history:",t)}},async fetchUserGameHistory({commit:e},t){try{const a=await r.A.get(`/user/${t}/history`);e("SET_GAME_HISTORY",a.data.gameHistory)}catch(a){s.error("Error fetching user game history:",a)}},async fetchHideSeekStats({commit:e}){e("SET_HIDE_SEEK_LOADING",!0);try{const t=await r.A.get("/hide-seek/stats");e("SET_HIDE_SEEK_STATS",t.data)}catch(t){e("SET_HIDE_SEEK_ERROR",t.response?.data?.error||"Failed to fetch stats")}finally{e("SET_HIDE_SEEK_LOADING",!1)}},async fetchAvailableHideSeekGames({commit:e}){e("SET_HIDE_SEEK_LOADING",!0);try{const t=await r.A.get("/hide-seek/games");e("SET_HIDE_SEEK_GAMES",t.data)}catch(t){e("SET_HIDE_SEEK_ERROR",t.response?.data?.error||"Failed to fetch games")}finally{e("SET_HIDE_SEEK_LOADING",!1)}},async fetchHideSeekHistory({commit:e}){e("SET_HIDE_SEEK_LOADING",!0);try{const t=await r.A.get("/hide-seek/history");e("SET_HIDE_SEEK_HISTORY",t.data)}catch(t){e("SET_HIDE_SEEK_ERROR",t.response?.data?.error||"Failed to fetch history")}finally{e("SET_HIDE_SEEK_LOADING",!1)}},async fetchHideSeekPlayerStats({commit:e},t){try{const a=await r.A.get(`/hide-seek/stats/${t}`);return e("SET_HIDE_SEEK_STATS",a.data),a.data}catch(a){return s.error("Error fetching Hide & Seek stats:",a),e("SET_HIDE_SEEK_ERROR",a.message),null}},async checkTwitterLinked({commit:e}){try{const t=localStorage.getItem("auth_token");if(!t)return;const a=await r.A.get("/twitter/check-linked-account",{headers:{Authorization:`Bearer ${t}`}});a.data.success&&e("SET_TWITTER_LINKED",{isLinked:a.data.isLinked,username:a.data.twitterUsername})}catch(t){s.error("Error checking Twitter link status:",t)}},async linkTwitterAccount({commit:e,dispatch:t},a){try{const t=localStorage.getItem("auth_token");if(!t)return{success:!1,message:"Not authenticated"};const n=await r.A.post("/twitter/add-username",{twitterUsername:a},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return n.data.success?(e("SET_TWITTER_LINKED",{isLinked:!0,username:n.data.data?.twitterUsername||a}),{success:!0}):{success:!1,message:n.data.message||"Failed to link Twitter account"}}catch(n){return s.error("Error linking Twitter account:",n),{success:!1,message:"Error linking Twitter account"}}},async unlinkTwitterAccount({commit:e}){try{const t=localStorage.getItem("auth_token");if(!t)return{success:!1,message:"Not authenticated"};const a=await r.A.get("/twitter/unlink-username",{headers:{Authorization:`Bearer ${t}`}});return a.data.success?(e("SET_TWITTER_LINKED",{isLinked:!1,username:null}),{success:!0}):{success:!1,message:a.data.message||"Failed to unlink Twitter account"}}catch(t){return s.error("Error unlinking Twitter account:",t),{success:!1,message:"Error unlinking Twitter account"}}}},getters:{currentScore:e=>e.game.score,remainingLives:e=>e.game.lives,timeLeft:e=>e.game.timeLeft,activeCoins:e=>e.game.coins,isPlaying:e=>e.game.isPlaying,gameOver:e=>e.game.gameOver,isFirstGame:e=>e.game.isFirstGame,catScale:e=>e.game.catScale,canPlay:e=>!e.game.isPlaying&&null!==e.socket,getBoardType:e=>e.boardType,userTag:e=>e.session.userTag,stats:e=>e.stats,bestScore:e=>e.session.bestScore,totalScore:e=>e.session.totalScore,totalWins:e=>e.session.wins,totalLosses:e=>e.session.losses,hasPassword:e=>e.session.hasPassword,isAuthenticated:e=>e.session.isAuthenticated,hasWallet:e=>e.session.hasWallet,walletAddress:e=>e.session.walletAddress,multiplayerStats:e=>e.multiplayerStats,gameHistory:e=>e.gameHistory,hideSeekStats:e=>e.hideSeek.stats,availableHideSeekGames:e=>e.hideSeek.availableGames,hideSeekHistory:e=>e.hideSeek.gameHistory,currentHideSeekGame:e=>e.hideSeek.currentGame,isHideSeekLoading:e=>e.hideSeek.loading,hideSeekError:e=>e.hideSeek.error,socket:e=>e.socket,isSocketConnected:e=>e.socketConnected,soundEnabled:e=>e.soundEnabled,currentAgent:e=>e.currentAgent,agentInfo:e=>e.agentInfo,chatOpen:e=>e.chatOpen,agentsListOpen:e=>e.agentsListOpen,chatAgents:e=>e.chatAgents,isTwitterLinked:e=>e.session.twitterLinked,twitterUsername:e=>e.session.twitterUsername,nftRentalHistory:e=>e.nftRental.rentalHistory,session:e=>e.session},modules:{game:l}});var u=d},47790:function(){}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,n,o,r){if(!n){var s=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],r=e[d][2];for(var i=!0,c=0;c<n.length;c++)(!1&r||s>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[c])}))?n.splice(c--,1):(i=!1,r<s&&(s=r));if(i){e.splice(d--,1);var l=o();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]}}(),function(){a.F={},a.E=function(e){Object.keys(a.F).map((function(t){a.F[t](e)}))}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var r=Object.create(null);a.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){s[e]=function(){return n[e]}}));return s["default"]=function(){return n},a.d(r,s),r}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+({252:"vendor.typescript-collections",655:"vendor.aptos-9bb7f4c1",899:"vendor.arbundles",2228:"vendor.ethersproject-1952e4fd",2638:"vendor.supercharge",3574:"vendor.aes-js",3896:"vendor.js-sha3",4265:"vendor.near-js",4900:"vendor.ethersproject-4afe998f",5269:"vendor.bignumber.js",5509:"vendor.mime",5756:"vendor.irys-f149fedd",5926:"vendor.tweetnacl",5988:"vendor.lodash.isequal",7051:"vendor.elliptic",7059:"vendor.secp256k1",7337:"vendor.lodash.clonedeep",7882:"vendor.readable-stream",8112:"vendor.hash.js",8798:"vendor.aptos-c2d3f7f4",9823:"vendor.irys-7e0a1a81"}[e]||e)+"."+{3:"47677e50",185:"960d87af",204:"5e67f3f5",252:"e770a2c2",428:"9498d388",462:"0ae157ce",464:"05c96de9",567:"9f4244d0",655:"5b177489",671:"e7e24587",778:"378e01f6",899:"f42b5336",983:"b5324bc5",1085:"05460c80",1215:"9aa3ab49",1342:"4712448c",1404:"83f01232",1435:"a75e2b68",1573:"52b2336d",1886:"ee24301e",2118:"bf908cd4",2228:"f698c8c0",2422:"60c69934",2544:"b2fb3de1",2638:"7d8146cc",2756:"e7f27623",2765:"ec945a72",2986:"a96105e4",3360:"7a207341",3410:"191c8d6d",3464:"d5a01c5a",3510:"260b93fd",3574:"6c77393b",3699:"adcb2f0b",3772:"e69aee85",3867:"d7e7ee82",3896:"e8e45217",4036:"c07b6c8e",4171:"feeaf55d",4265:"ade4c80b",4268:"84164b8b",4271:"e4ef5229",4326:"2d0f804e",4524:"7730226b",4664:"8eb40285",4817:"10acebbb",4891:"f09b9a01",4900:"8e8837b0",4923:"39881f4a",4948:"cb793612",4960:"ca9baccc",4995:"a6580f65",5077:"4a2da677",5079:"27047e46",5127:"5af8af3c",5176:"f239dd80",5179:"411b5ae6",5185:"51c00c93",5191:"2950308e",5269:"9cbda3bf",5509:"7f79942f",5594:"9d26532c",5653:"30a51d3f",5756:"2e123408",5870:"7b044fdc",5880:"dae7374c",5926:"77662bac",5988:"1b1f5dd0",6060:"0efd81cf",6154:"db4558fc",6820:"1580c97d",6852:"2fac00ce",7051:"75ce583f",7059:"552dddbd",7323:"a7c2ab37",7337:"815fed07",7376:"a35ac032",7443:"6679ee22",7493:"634a4318",7552:"f070448f",7591:"9f8cc6f3",7638:"dee95ccb",7710:"845db227",7882:"88b1692a",8041:"cd6f410f",8067:"f118defa",8112:"3deda3d9",8303:"86bd63b0",8327:"de497d9d",8449:"43c5a052",8465:"76a64702",8510:"e3d154e2",8538:"9e338789",8798:"9e75f162",8940:"facb5573",8945:"71552d96",8951:"eb67b12c",8996:"8b30797a",9345:"f9e1e81b",9506:"c5ad380e",9655:"e2028eda",9741:"c2bcf030",9759:"4a904d32",9802:"48c76826",9823:"5c0b8b49"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+"."+{3:"b84e9040",185:"9fe0197b",204:"e2c18173",428:"0ce5dbc4",462:"112c81c8",567:"76dd6981",671:"9642af0c",778:"56c73a7a",983:"dc3eb83b",1085:"cbdb76c1",1215:"2dc96ab2",1342:"75073e14",1435:"3afb2b02",1573:"a515ef22",1886:"0546a7ff",2118:"bdff1b51",2422:"652cad9e",2544:"c12b9e7d",2756:"f8caa586",2765:"7ed10e56",2986:"37b45abe",3464:"5899c82f",3867:"85427ba4",4171:"011ab152",4268:"466559cb",4271:"425d62da",4524:"6baadada",4664:"dfb03d89",4817:"4e644c82",4923:"7ca9d439",4948:"6f7ee491",4960:"fefc6408",4995:"96835ca0",5077:"09b03177",5079:"e857ba8b",5127:"67c1a43c",5176:"70c6782d",5179:"5dfbb94b",5185:"389a43d5",5191:"b7daf535",5653:"c3397086",5870:"780e0523",6060:"dbcec634",6820:"2f77c8bf",7323:"54a23fd7",7376:"5b1fe5af",7443:"3dc5a073",7493:"0a125a43",7552:"eb35895c",7591:"70d36800",7638:"62446c03",7710:"f8da7e73",8041:"cd239826",8067:"76bd02c5",8303:"40aa4413",8327:"4d1eefbb",8449:"396d3608",8538:"4aa6e7f8",8951:"6b79c769",8996:"765d5a35",9345:"8ab9d7ba",9506:"a5a51dec",9655:"a8649a7c",9741:"e2f8b9a8",9759:"6d6386f1",9802:"6e23a9f2"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="app:";a.l=function(n,o,r,s){if(e[n])e[n].push(o);else{var i,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+r){i=u;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+r),i.src=n),e[n]=[o];var m=function(t,a){i.onerror=i.onload=null,clearTimeout(g);var o=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(a)})),t)return t(a)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,o,r){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",a.nc&&(s.nonce=a.nc);var i=function(a){if(s.onerror=s.onload=null,"load"===a.type)o();else{var n=a&&a.type,i=a&&a.target&&a.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+i+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=n,c.request=i,s.parentNode&&s.parentNode.removeChild(s),r(c)}};return s.onerror=s.onload=i,s.href=t,n?n.parentNode.insertBefore(s,n.nextSibling):document.head.appendChild(s),s},t=function(e,t){for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n],r=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(r===e||r===t))return o}var s=document.getElementsByTagName("style");for(n=0;n<s.length;n++){o=s[n],r=o.getAttribute("data-href");if(r===e||r===t)return o}},n=function(n){return new Promise((function(o,r){var s=a.miniCssF(n),i=a.p+s;if(t(s,i))return o();e(n,i,null,o,r)}))},o={3524:0};a.f.miniCss=function(e,t){var a={3:1,185:1,204:1,428:1,462:1,567:1,671:1,778:1,983:1,1085:1,1215:1,1342:1,1435:1,1573:1,1886:1,2118:1,2422:1,2544:1,2756:1,2765:1,2986:1,3464:1,3867:1,4171:1,4268:1,4271:1,4524:1,4664:1,4817:1,4923:1,4948:1,4960:1,4995:1,5077:1,5079:1,5127:1,5176:1,5179:1,5185:1,5191:1,5653:1,5870:1,6060:1,6820:1,7323:1,7376:1,7443:1,7493:1,7552:1,7591:1,7638:1,7710:1,8041:1,8067:1,8303:1,8327:1,8449:1,8538:1,8951:1,8996:1,9345:1,9506:1,9655:1,9741:1,9759:1,9802:1};o[e]?t.push(o[e]):0!==o[e]&&a[e]&&t.push(o[e]=n(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))},a.F.miniCss=function(e){if((!a.o(o,e)||void 0===o[e])&&/^(1((08|21|43|8)5|342|573|886)|2(04|118|422|544|756|765|986)|3(|464|524|867)|4(2(68|71|8)|9(23|48|60|95)|171|524|62|664|817)|5(07[79]|1(27|76|79|85|91)|653|67|870)|6(060|71|820)|7((32|44|49)3|376|552|591|638|710|78)|8(041|067|303|327|449|538|951|996)|9(345|506|655|741|759|802|83))$/.test(e)){o[e]=null;var t=document.createElement("link");a.nc&&t.setAttribute("nonce",a.nc),t.rel="prefetch",t.as="style",t.href=a.p+a.miniCssF(e),document.head.appendChild(t)}}}}(),function(){var e={3524:0};a.f.j=function(t,n){var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise((function(a,n){o=e[t]=[a,n]}));n.push(o[2]=r);var s=a.p+a.u(t),i=new Error,c=function(n){if(a.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",i.name="ChunkLoadError",i.type=r,i.request=s,o[1](i)}};a.l(s,c,"chunk-"+t,t)}},a.F.j=function(t){if(!a.o(e,t)||void 0===e[t]){e[t]=null;var n=document.createElement("link");a.nc&&n.setAttribute("nonce",a.nc),n.rel="prefetch",n.as="script",n.href=a.p+a.u(t),document.head.appendChild(n)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,r,s=n[0],i=n[1],c=n[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(c)var d=c(a)}for(t&&t(n);l<s.length;l++)r=s[l],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},n=self["webpackChunkapp"]=self["webpackChunkapp"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){a.O(0,[3524],(function(){[7638,5653,9655,462,2986,4923,8449,4960,4268,5191,8538,9506,7493,7710,778,8041,3,1435,3867,5870,983,567,5127,4817,9759,1886,8206,3874,3159,3745,9290,3e3,2773,8982,4066,3250,7949,1147,1760,3041,677,2135,9874,8095,2095,4326,8465,3410,6852,3360,4891,3699,8945,464,8940,5880,3772,3510,8510,5269,252,5988,7337,5509,3896,6154,8327,2118,3464,7323,7443,4664,9802,185,5176,4524,7552,2756,9741,4271,4171,4036,204,1085,8067,6060,4948,8996,7591,5079].map(a.E)}),5)}();var n=a.O(void 0,[8206,3874,3159,3745,9290,3e3,2773,8982,4066,3250,7949,1147,1760,3041,677,2135,9874,8095,2095,9192,277,9833,3080,7218,1371,1926,7403,3279,6659,2183,436,8547,2707],(function(){return a(14483)}));n=a.O(n)})();
//# sourceMappingURL=app.3776e17f.js.map