(function(){var e={78850:function(e,t,a){"use strict";var n=a(45130),o=a(81387),r=a(54868);const s=[{name:"CashbackPage",path:"/cashback",component:()=>a.e(1932).then(a.bind(a,26883))},{name:"BurnPage",path:"/burn",component:()=>a.e(566).then(a.bind(a,4992))},{name:"LaunchPage",path:"/token-launch-info",component:()=>a.e(9655).then(a.bind(a,29655))},{name:"CashbackHistoryPage",path:"/cashback/history",component:()=>a.e(462).then(a.bind(a,70462))},{name:"NftSpace",path:"/nft",component:()=>a.e(2986).then(a.bind(a,77366))},{name:"HomePage",path:"/",component:()=>a.e(8398).then(a.bind(a,13060))},{name:"AboutPage",path:"/about",component:()=>a.e(8449).then(a.bind(a,13289))},{name:"RewardsPage",path:"/rewards",component:()=>a.e(9288).then(a.bind(a,99288))},{name:"MemeTokenLaunchPage",path:"/token-launch",component:()=>a.e(4268).then(a.bind(a,94268))},{name:"TokenDetailsPage",path:"/token/:tokenId",component:()=>a.e(3493).then(a.bind(a,93493))},{name:"TokensPage",path:"/tokens",component:()=>a.e(8538).then(a.bind(a,38538))},{name:"MyTokensPage",path:"/my/tokens",component:()=>a.e(9506).then(a.bind(a,99506))},{name:"TopRewardsPage",path:"/rewards/top",component:()=>a.e(7493).then(a.bind(a,99874))},{name:"RewardPostPage",path:"/rewards/tweet/:tweetId",component:()=>a.e(7710).then(a.bind(a,57710)),props:!0},{name:"SoloGame",path:"/solo",component:()=>a.e(4406).then(a.bind(a,74406))},{name:"Leaderboard",path:"/leaderboard",component:()=>a.e(8041).then(a.bind(a,58041))},{name:"Roadmap",path:"/roadmap",component:()=>a.e(3).then(a.bind(a,10003))},{name:"MyBITCAT",path:"/my",component:()=>a.e(1435).then(a.bind(a,21435))},{name:"UserSettings",path:"/my/settings",component:()=>a.e(1801).then(a.bind(a,51801)),meta:{requiresAuth:!0}},{name:"UserReferrals",path:"/my/referrals",component:()=>a.e(6132).then(a.bind(a,66132)),meta:{requiresAuth:!0}},{name:"ReferralHistoryPage",path:"/my/referral/:referralTag",component:()=>a.e(983).then(a.bind(a,40983)),meta:{requiresAuth:!0}},{name:"NftBitcat",path:"/nft-mint",component:()=>a.e(567).then(a.bind(a,10567)),meta:{requiresAuth:!0}},{name:"NftView",path:"/nft/:assetPublicKey",component:()=>a.e(5127).then(a.bind(a,5127)),meta:{requiresAuth:!1}},{name:"PlayerNfts",path:"/player-nfts/:userTag",component:()=>a.e(4817).then(a.bind(a,14817))},{name:"MultiplayerGame",path:"/multiplayer-game",component:()=>a.e(9759).then(a.bind(a,17137))},{path:"/nft-market",name:"nft-market-old",component:()=>a.e(1886).then(a.bind(a,81886))},{path:"/nft-market-new",name:"nft-market",component:()=>Promise.all([a.e(4592),a.e(6934),a.e(3874),a.e(3159),a.e(3745),a.e(9290),a.e(3e3),a.e(2773),a.e(7949),a.e(1760),a.e(3041),a.e(677),a.e(2135),a.e(9874),a.e(8095),a.e(2095),a.e(4326),a.e(8465),a.e(3410),a.e(6852),a.e(3360),a.e(4891),a.e(3699),a.e(4131),a.e(6510),a.e(1104),a.e(3268),a.e(8945),a.e(464),a.e(8940),a.e(5880),a.e(5269),a.e(252),a.e(5988),a.e(7337),a.e(5509),a.e(3896),a.e(4458)]).then(a.bind(a,18327))},{path:"/nft-market-new/listing/:mintAddress",name:"nft-listing-detail",component:()=>a.e(2118).then(a.bind(a,42118))},{path:"/nft-mart",name:"nft-mart",component:()=>Promise.all([a.e(4592),a.e(6934),a.e(3874),a.e(3159),a.e(3745),a.e(9290),a.e(3e3),a.e(2773),a.e(7949),a.e(1760),a.e(3041),a.e(677),a.e(2135),a.e(9874),a.e(8095),a.e(2095),a.e(4326),a.e(8465),a.e(3410),a.e(6852),a.e(3360),a.e(4891),a.e(3699),a.e(4131),a.e(6510),a.e(1104),a.e(3268),a.e(8945),a.e(464),a.e(8940),a.e(5880),a.e(5269),a.e(252),a.e(5988),a.e(7337),a.e(5509),a.e(3896),a.e(1771)]).then(a.bind(a,3464))},{path:"/nft-rental",name:"nft-rental",component:()=>a.e(7323).then(a.bind(a,57323))},{name:"GameDetails",path:"/games/:gameId",component:()=>a.e(7443).then(a.bind(a,77443))},{name:"Player",path:"/player/:userTag",component:()=>a.e(4664).then(a.bind(a,74664))},{name:"Arena",path:"/arena",component:()=>a.e(9802).then(a.bind(a,69802))},{name:"HideSeek",path:"/hide-seek",component:()=>a.e(185).then(a.bind(a,80185)),props:e=>({gameId:e.query.game}),meta:{requiresAuth:!0}},{name:"HideSeekGameDetails",path:"/hide-seek/:gameId",component:()=>a.e(5176).then(a.bind(a,85176)),meta:{requiresAuth:!0}},{path:"/dao",name:"Dao",component:()=>a.e(4524).then(a.bind(a,42564))},{path:"/welcome",name:"Universe",component:()=>a.e(8258).then(a.bind(a,63969))},{path:"/changelog",name:"Changelog",component:()=>a.e(989).then(a.bind(a,40989))},{path:"/ai-agent/create",name:"CreateAgent",component:()=>a.e(5759).then(a.bind(a,65759)),meta:{requiresAuth:!0}},{path:"/ai-agent/update/:agentTag",name:"UpdateAgent",component:()=>a.e(5759).then(a.bind(a,65759)),meta:{requiresAuth:!0}},{path:"/ai-agents",name:"AiAgents",component:()=>a.e(9106).then(a.bind(a,59106)),meta:{requiresAuth:!0}},{path:"/ai-agents/:agentTag",name:"AiAgent",component:()=>a.e(8470).then(a.bind(a,58470))},{path:"/ai",name:"AiPage",component:()=>Promise.all([a.e(903),a.e(458)]).then(a.bind(a,14328))},{path:"/about-bitcat-ai",name:"AboutBitcatAi",component:()=>a.e(479).then(a.bind(a,70479))},{path:"/games",name:"GameArena",component:()=>a.e(8067).then(a.bind(a,26526))},{path:"/crowdfunding",name:"Crowdfunding",component:()=>a.e(27).then(a.bind(a,10027))},{path:"/kol",name:"KolPage",component:()=>a.e(4948).then(a.bind(a,74948))},{path:"/kol/:kolId",name:"KolDetailPage",component:()=>a.e(8996).then(a.bind(a,58996))},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>a.e(4995).then(a.bind(a,24995))}],i=(e,t,a)=>a||{top:0};var c=a(68881),l=(a(14603),a(47566),a(98721),a(56768)),d=a(90144),g=a(52404),u=a(86659),m=a(94348);const h={key:0,class:"app__wrap"},f={class:"app-content"};var p={__name:"App",setup(e,{expose:t}){const r=(0,l.$V)((()=>a.e(2201).then(a.bind(a,23811)))),s=(0,l.$V)((()=>a.e(9140).then(a.bind(a,39140)))),i=(0,l.$V)((()=>Promise.all([a.e(903),a.e(8213)]).then(a.bind(a,50903)))),p=(0,l.$V)((()=>a.e(671).then(a.bind(a,80671)))),S=(0,l.$V)((()=>a.e(5185).then(a.bind(a,5185)))),b=(0,o.lq)(),E=(0,o.rd)(),T=[new g.c];(0,u.GZ)({wallets:T,autoConnect:c.A.state.autoConnect});const w=(0,d.KR)(!1),A=(0,d.KR)(!0),y=(0,d.KR)(0),_=(0,d.KR)(!1),k=(0,l.EW)((()=>"solanabitcat.com"===window.location.hostname)),I=(0,l.EW)((()=>A.value&&"/ai"!==b.path));function v(){window.solana&&window.solana.disconnect()}function O(){y.value=window.scrollY}(0,l.sV)((()=>{m.log("App mounted, checking for referral code");let e=b.query.r;if(m.log("Referral from route.query:",e),!e&&window.location.hash.includes("?r=")){const t=window.location.hash;m.log("Hash part contains ?r=",t);const[a,n]=t.split("?");if(n){const t=new URLSearchParams(n);if(e=t.get("r"),m.log("Extracted referral from hash params:",e),e){t.delete("r");const e=t.toString(),n=e?`${a}?${e}`:a;m.log("New hash after removing referral:",n);const o=n.startsWith("#")?n.substring(1):n;m.log("Replacing route with:",o),E.replace(o),setTimeout((()=>{if(window.location.hash.includes("?r=")){m.log("Referral parameter still present, forcing clean URL");const e=window.location.hash.split("?")[0];E.replace(e.substring(1))}}),100)}}}if(!e){const t=new URLSearchParams(window.location.search);if(e=t.get("r"),m.log("Referral from search params:",e),e){t.delete("r");const e=t.toString()?`?${t.toString()}`:"",a=`${window.location.pathname}${e}${window.location.hash}`;m.log("New URL after removing referral:",a),window.history.replaceState(null,"",a)}}e&&!c.A.getters.isAuthenticated&&(localStorage.setItem("ref",e),m.log("Referral code saved to localStorage:",e)),w.value=!0,m.log("App mounted");const t=localStorage.getItem("bitcat_ai_enabled");if(A.value=null===t||"true"===t,window.addEventListener("scroll",O),window.addEventListener("beforeunload",v),k.value){const e=sessionStorage.getItem("domain_migration_popup_shown");e||setTimeout((()=>{_.value=!0,sessionStorage.setItem("domain_migration_popup_shown","true")}),1e4)}}));const R=e=>{A.value=e,localStorage.setItem("bitcat_ai_enabled",e.toString())},L=()=>{_.value=!1};return t({toggleAiVisibility:R}),m.log("Welcome to BITCAT Universe dApp! Enjoy =)"),(e,t)=>{const a=(0,l.g2)("router-view");return w.value?((0,l.uX)(),(0,l.CE)("div",h,[(0,l.Lk)("main",f,[(0,l.bF)((0,d.R1)(r),{onToggleAi:R}),(0,l.bF)(n.eB,{name:"fade",mode:"out-in"},{default:(0,l.k6)((()=>[(0,l.bF)(a,{class:"page-content"})])),_:1}),(0,l.bF)((0,d.R1)(s)),I.value?((0,l.uX)(),(0,l.Wv)((0,d.R1)(i),{key:0})):(0,l.Q3)("",!0)]),_.value&&k.value?((0,l.uX)(),(0,l.Wv)((0,d.R1)(p),{key:0,onClose:L})):(0,l.Q3)("",!0),k.value?((0,l.uX)(),(0,l.Wv)((0,d.R1)(S),{key:1})):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)}}};const S=p;var b=S;const E=(0,o.aE)({history:(0,o.Bt)(),routes:s,scrollBehavior:i,linkPrefetchStrategy:"all",prefetchChunkSize:1e4,prefetchMaxAge:5e3,prefetchOnMouseOver:!1,prefetchOnFocus:!1});(0,r.O)(c.A,E);const T=(0,n.Ef)(b);T.use(c.A),T.use(E),c.A.dispatch("initializeAuth");const w=localStorage.getItem("theme");"dark"===w&&document.documentElement.setAttribute("data-theme","dark");const A=localStorage.getItem("font");"serious"===A&&document.body.classList.add("font-serious"),T.mount("#app")},68881:function(e,t,a){"use strict";a.d(t,{A:function(){return g}});a(44114),a(98992),a(54520),a(72577),a(3949),a(81454);var n=a(4249),o=a(48001),r=a(94373),s=a(94348);let i="https://bitcat.today";window.location.hostname,r.A.defaults.baseURL=i+"/api";const c=localStorage.getItem("auth_token");c&&(r.A.defaults.headers.common["Authorization"]=`Bearer ${c}`);const l={state:{score:0,lives:9,timeLeft:30,coins:[],isPlaying:!1,gameOver:!0,isFirstGame:!0,catScale:.5},mutations:{UPDATE_GAME_STATE(e,t){s.log("Updating game state with:",t),Object.keys(t).forEach((a=>{e[a]=t[a]}))}}},d=(0,n.y$)({state(){return{socket:null,error:null,socketConnected:!1,game:{score:0,lives:9,timeLeft:60,coins:[],isPlaying:!1,gameOver:!0,isFirstGame:!0,catScale:.5},session:{token:c,userTag:localStorage.getItem("userTag")||null,isAuthenticated:!!c,hasPassword:!1,hasWallet:!1,walletAddress:null,bestScore:parseInt(localStorage.getItem("bestScore"))||0,totalScore:parseInt(localStorage.getItem("totalScore"))||0,wins:parseInt(localStorage.getItem("wins"))||0,losses:parseInt(localStorage.getItem("losses"))||0,twitterLinked:!1,twitterUsername:null},highScores:[],autoConnect:!0,userSOLBalance:0,boardType:"score",disclaimerAgreed:"true"===localStorage.getItem("disclaimerAgreed"),score:parseInt(localStorage.getItem("score"))||0,weight:parseInt(localStorage.getItem("weight"))||0,multiplayerStats:{wins:parseInt(localStorage.getItem("wins"))||0,losses:parseInt(localStorage.getItem("losses"))||0},stats:{strength:parseInt(localStorage.getItem("strength"))||1,agility:parseInt(localStorage.getItem("agility"))||1,stamina:parseInt(localStorage.getItem("stamina"))||1,luck:parseInt(localStorage.getItem("luck"))||1,intelligence:parseInt(localStorage.getItem("intelligence"))||1},gameHistory:[],nftRental:{rentalHistory:[]},hideSeek:{stats:null,availableGames:[],gameHistory:[],currentGame:null,loading:!1,error:null},soundEnabled:"true"===localStorage.getItem("soundEnabled"),currentAgent:JSON.parse(localStorage.getItem("selectedAgent"))||{name:"BITCAT AI Agent",agentTag:"main_agent",avatar:26,description:"Hello! I am BITCAT AI Agent. I am here to help you navigate the BITCAT Universe and answer your questions."},agentInfo:JSON.parse(localStorage.getItem("agentInfo"))||{},chatOpen:!1,agentsListOpen:!1,chatAgents:[]}},mutations:{SET_SESSION(e,t){e.session={...e.session,...t},t.userTag&&localStorage.setItem("userTag",t.userTag),t.token&&localStorage.setItem("auth_token",t.token)},UPDATE_GAME_STATE(e,t){e.game||(e.game={score:0,lives:9,timeLeft:60,coins:[],isPlaying:!1,gameOver:!0,isFirstGame:!0,catScale:.5}),s.log("Updating game state:",{current:{...e.game},new:t}),Object.keys(t).forEach((a=>{"catScale"===a&&s.log("Updating catScale:",{old:e.game.catScale,new:t.catScale}),e.game[a]=t[a]})),s.log("Updated game state:",{...e.game})},SET_SOCKET(e,t){s.log("Setting socket:",t),e.socket=t},SET_SOCKET_CONNECTED(e,t){e.socketConnected=t},SET_ERROR(e,t){e.error=t},setBalance(e,t){e.userSOLBalance=t.balance},setBoardType(e,t){s.log(t),e.boardType=t.boardType},setDisclaimerAgreed(e,t){e.disclaimerAgreed=t,localStorage.setItem("disclaimerAgreed",t)},setStat(e,{stat:t,value:a}){e.stats[t]=a,localStorage.setItem(t,a)},SET_WALLET(e,t){e.session.hasWallet=t},SET_STATS(e,t){e.stats={...t}},SET_SCORES(e,{bestScore:t,totalScore:a}){e.session.bestScore=t,e.session.totalScore=a},SET_TOTAL_SCORES(e,{totalScore:t}){e.session.totalScore=t},SET_MULTIPLAYER_STATS(e,t){e.multiplayerStats={...t}},SET_RENTAL_HISTORY(e,t){e.nftRental.rentalHistory=t},setSession(e,{token:t,userTag:a,hasPassword:n,walletAddress:o,bestScore:s,totalScore:i,wins:c,losses:l,settings:d,power:g}){e.session={token:t,userTag:a,hasPassword:n,isAuthenticated:!0,walletAddress:o,hasWallet:null!==o,bestScore:s,totalScore:i,wins:c,losses:l,settings:d,power:g},localStorage.setItem("auth_token",t),r.A.defaults.headers.common["Authorization"]=`Bearer ${t}`,localStorage.setItem("userTag",a)},setDefaultAvatar(e){e.session.settings.avatar=null},setAvatar(e,t){e.session.settings.avatar=t},clearSession(e){e.session={token:null,userTag:null,isAuthenticated:!1,hasPassword:!1,walletAddress:null,hasWallet:!1,bestScore:0,totalScore:0,wins:0,losses:0,settings:{avatar:null,bio:null,telegram:null,twitter:null,isVip:!1},power:{power:0,freeMint:0,freeNftLaunch:0,freeTokenLaunch:0}},localStorage.removeItem("auth_token"),delete r.A.defaults.headers.common["Authorization"],localStorage.removeItem("userTag"),localStorage.removeItem("guest_playerId")},SET_GAME_HISTORY(e,t){e.gameHistory=t},CLEAR_GAME_HISTORY(e){e.gameHistory=[]},UPDATE_GAME_HISTORY(e,t){e.gameHistory=[t,...e.gameHistory].slice(0,10)},SET_HIDE_SEEK_STATS(e,t){e.hideSeek.stats=t},SET_HIDE_SEEK_GAMES(e,t){e.hideSeek.availableGames=t},SET_HIDE_SEEK_HISTORY(e,t){e.hideSeek.gameHistory=t},SET_CURRENT_HIDE_SEEK_GAME(e,t){e.hideSeek.currentGame=t},SET_HIDE_SEEK_LOADING(e,t){e.hideSeek.loading=t},SET_HIDE_SEEK_ERROR(e,t){e.hideSeek.error=t},SET_SOUND_ENABLED(e,t){e.soundEnabled=t,localStorage.setItem("soundEnabled",t)},SET_CURRENT_AGENT(e,t){e.currentAgent=t,localStorage.setItem("selectedAgent",JSON.stringify(t)),e.agentInfo[t.agentTag]||(e.agentInfo[t.agentTag]={name:t.name,agentTag:t.agentTag,avatar:t.avatar},localStorage.setItem("agentInfo",JSON.stringify(e.agentInfo)))},SELECT_AGENT(e,t){e.currentAgent=t,localStorage.setItem("selectedAgent",JSON.stringify(t)),e.chatOpen=!0},TOGGLE_CHAT(e,t){e.chatOpen=t},TOGGLE_AGENTS_LIST(e,t){e.agentsListOpen=void 0!==t?t:!e.agentsListOpen},DELETE_AGENT(e,t){if("main_agent"===t)return;const a=JSON.parse(localStorage.getItem("chatHistory")||"{}"),n=JSON.parse(localStorage.getItem("agentInfo")||"{}");if(delete a[t],delete n[t],localStorage.setItem("chatHistory",JSON.stringify(a)),localStorage.setItem("agentInfo",JSON.stringify(n)),e.agentInfo=n,this.commit("LOAD_CHAT_AGENTS"),e.currentAgent.agentTag===t){const a=e.chatAgents.findIndex((e=>e.agentTag===t)),n=e.chatAgents[Math.max(0,a-1)];n&&this.commit("SET_CURRENT_AGENT",n)}},UPDATE_AGENT_INFO(e,t){const a=JSON.parse(localStorage.getItem("agentInfo")||"{}");a[t.agentTag]={name:t.name,agentTag:t.agentTag,avatar:t.avatar},localStorage.setItem("agentInfo",JSON.stringify(a)),e.agentInfo=a,this.commit("LOAD_CHAT_AGENTS")},LOAD_CHAT_AGENTS(e){try{const t=JSON.parse(localStorage.getItem("agentInfo")||"{}"),a=Object.keys(t),n={name:"BITCAT AI Agent",agentTag:"main_agent",avatar:26};let o=[];t["main_agent"]||(t["main_agent"]=n,localStorage.setItem("agentInfo",JSON.stringify(t))),a.length>0&&(o=a.map((e=>t[e]?{name:t[e].name,agentTag:t[e].agentTag,avatar:t[e].avatar}:null)).filter((e=>null!==e))),o.find((e=>"main_agent"===e.agentTag))||o.push(n),e.chatAgents=o.sort(((e,t)=>"main_agent"===e.agentTag?-1:"main_agent"===t.agentTag?1:0))}catch(t){s.error("Failed to load agents:",t)}},SET_TWITTER_LINKED(e,{isLinked:t,username:a}){e.session.twitterLinked=t,e.session.twitterUsername=t?a:null}},actions:{async fetchRentalHistory({commit:e}){try{const t=await r.A.get("/nft-rental/recent-history");return t.data&&t.data.history&&e("SET_RENTAL_HISTORY",t.data.history),t.data.history||[]}catch(t){return s.error("Error fetching rental history:",t),[]}},async checkUserTag({commit:e},t){try{const e=await r.A.post("/auth/check-tag",{userTag:t});return e.data}catch(a){throw a.response?.data?.error||"Error checking user tag"}},async authenticateUser({commit:e,dispatch:t},{userTag:a,password:n=null,walletAddress:o=null}){try{const s=await r.A.post("/auth/check-tag",{userTag:a});if(!s.data.exists){const e=localStorage.getItem("ref")||null,r=await t("register",{userTag:a,password:n,walletAddress:o,ref:e});return r.success&&localStorage.removeItem("ref"),r}const i=await r.A.post("/auth/login",{userTag:a,password:n,walletAddress:o});return e("setSession",{token:i.data.token,userTag:i.data.userTag,hasPassword:i.data.hasPassword,walletAddress:i.data.walletAddress,bestScore:i.data.bestScore,totalScore:i.data.totalScore,wins:i.data.wins,losses:i.data.losses}),setTimeout((async()=>{await t("initializeAuth")}),1e3),i.data}catch(s){throw new Error(s.response?.data?.error||"Authentication failed")}},async logout({commit:e}){try{await r.A.post("/auth/logout")}catch(t){s.error("Logout error:",t)}finally{e("clearSession"),e("CLEAR_GAME_HISTORY")}},initSocket({state:e,commit:t,dispatch:a},{forceReconnect:n=!1}={}){if(e.socket){if(!n)return;e.socket.disconnect()}const r=(0,o.io)(i,{auth:{token:localStorage.getItem("auth_token")}});return r.on("disconnect",(()=>{s.log("Socket disconnected"),t("SET_SOCKET_CONNECTED",!1)})),r.on("connect",(()=>{s.log("Socket connected"),t("SET_SOCKET",r),t("SET_SOCKET_CONNECTED",!0)})),r.on("gameState",(a=>{s.log("Received game state:",a),a.gameOver&&e.game.isFirstGame&&(a.isFirstGame=!1),t("UPDATE_GAME_STATE",a)})),r.on("gameHistoryUpdated",(e=>{t("UPDATE_GAME_HISTORY",e),s.log(" Game History Updated:",e)})),r.on("error",(e=>{s.error("Socket error:",e),t("SET_ERROR",e)})),r},startGame({state:e,commit:t},a){if(!e.socket)throw s.error("Socket not initialized"),new Error("Socket not initialized");{const n={playerId:a.playerId,gameConfig:{gameWidth:a.width,gameHeight:a.height}};s.log("Emitting startGame with data:",n),e.socket.emit("startGame",n),e.socket.on("gameStarted",(e=>{s.log("Game started"),s.log(e.playerId),localStorage.setItem("guest_playerId",e.playerId)})),e.socket.on("newUserScore",(e=>{t("SET_SCORES",e)}))}},handleCoinClick({state:e},t){if(e.socket){const a={playerId:e.session.userTag||localStorage.getItem("guest_playerId"),clickData:t};s.log("Emitting coinClick with data:",a),e.socket.emit("coinClick",a)}else s.error("Socket not initialized")},cleanup({state:e,commit:t}){e.socket&&(e.socket.disconnect(),t("SET_SOCKET",null))},cleanupHideSeek({state:e,commit:t}){e.socket&&(e.socket.disconnect(),t("SET_SOCKET",null))},async changeWallet({commit:e},t){try{const a=await r.A.post("/auth/change-wallet",{walletAddress:t});return s.log(a),e("SET_WALLET",!0),a.data}catch(a){s.error("Change wallet error:",a);const e=a.response?.data?.error||"Failed to change wallet";throw new Error(e)}},async register({commit:e},{userTag:t,password:a,walletAddress:n,ref:o}){try{const s=await r.A.post("/auth/register",{userTag:t,password:a,walletAddress:n,ref:o});return e("setSession",{token:s.data.token,userTag:s.data.userTag,hasPassword:s.data.hasPassword,walletAddress:s.data.walletAddress}),s.data}catch(s){throw s.response?.data?.error||"An error occurred during registration"}},async login({commit:e},{userTag:t,password:a,walletAddress:n}){try{const o=await r.A.post("/auth/login",{userTag:t,password:a,walletAddress:n}),{token:s,...i}=o.data;return e("setSession",{token:s,userTag:i.userTag,hasPassword:i.hasPassword,walletAddress:i.walletAddress}),r.A.defaults.headers.common["Authorization"]=`Bearer ${s}`,o.data}catch(o){throw o.response?.data?.error||"Login failed"}},async changePassword({commit:e},{currentPassword:t,newPassword:a}){try{const e=await r.A.post("/auth/change-password",{currentPassword:t,newPassword:a});if(e.data.success)return!0;throw new Error(e.data.error)}catch(n){throw new Error(n.response?.data?.error||"Failed to change password")}},async resetPassword({commit:e},{userTag:t}){try{const e=await r.A.post("/auth/reset-password",{userTag:t});return e.data}catch(a){throw new Error(a.response?.data?.error||"Password reset failed")}},handleClick({state:e},t){e.socket?e.socket.emit("click",t):s.error("Socket not initialized")},initializeAuth({commit:e}){const t=localStorage.getItem("auth_token");t&&(r.A.defaults.headers.common["Authorization"]=`Bearer ${t}`,r.A.get("/auth/me").then((a=>{e("setSession",{wins:a.data.wins,losses:a.data.losses,token:t,userTag:a.data.userTag,hasPassword:a.data.hasPassword,hasWallet:a.data.hasWallet,walletAddress:a.data.walletAddress,bestScore:a.data.bestScore,totalScore:a.data.totalScore,settings:a.data.settings,power:a.data.power})})).catch((()=>{e("clearSession")})))},async fetchGameHistory({commit:e}){try{const t=await r.A.get(`${i}/api/game-history`);e("SET_GAME_HISTORY",t.data)}catch(t){s.error("Error fetching game history:",t)}},async fetchUserGameHistory({commit:e},t){try{const a=await r.A.get(`/user/${t}/history`);e("SET_GAME_HISTORY",a.data.gameHistory)}catch(a){s.error("Error fetching user game history:",a)}},async fetchHideSeekStats({commit:e}){e("SET_HIDE_SEEK_LOADING",!0);try{const t=await r.A.get("/hide-seek/stats");e("SET_HIDE_SEEK_STATS",t.data)}catch(t){e("SET_HIDE_SEEK_ERROR",t.response?.data?.error||"Failed to fetch stats")}finally{e("SET_HIDE_SEEK_LOADING",!1)}},async fetchAvailableHideSeekGames({commit:e}){e("SET_HIDE_SEEK_LOADING",!0);try{const t=await r.A.get("/hide-seek/games");e("SET_HIDE_SEEK_GAMES",t.data)}catch(t){e("SET_HIDE_SEEK_ERROR",t.response?.data?.error||"Failed to fetch games")}finally{e("SET_HIDE_SEEK_LOADING",!1)}},async fetchHideSeekHistory({commit:e}){e("SET_HIDE_SEEK_LOADING",!0);try{const t=await r.A.get("/hide-seek/history");e("SET_HIDE_SEEK_HISTORY",t.data)}catch(t){e("SET_HIDE_SEEK_ERROR",t.response?.data?.error||"Failed to fetch history")}finally{e("SET_HIDE_SEEK_LOADING",!1)}},async fetchHideSeekPlayerStats({commit:e},t){try{const a=await r.A.get(`/hide-seek/stats/${t}`);return e("SET_HIDE_SEEK_STATS",a.data),a.data}catch(a){return s.error("Error fetching Hide & Seek stats:",a),e("SET_HIDE_SEEK_ERROR",a.message),null}},async checkTwitterLinked({commit:e}){try{const t=localStorage.getItem("auth_token");if(!t)return;const a=await r.A.get("/twitter/check-linked-account",{headers:{Authorization:`Bearer ${t}`}});a.data.success&&e("SET_TWITTER_LINKED",{isLinked:a.data.isLinked,username:a.data.twitterUsername})}catch(t){s.error("Error checking Twitter link status:",t)}},async linkTwitterAccount({commit:e,dispatch:t},a){try{const t=localStorage.getItem("auth_token");if(!t)return{success:!1,message:"Not authenticated"};const n=await r.A.post("/twitter/add-username",{twitterUsername:a},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return n.data.success?(e("SET_TWITTER_LINKED",{isLinked:!0,username:n.data.data?.twitterUsername||a}),{success:!0}):{success:!1,message:n.data.message||"Failed to link Twitter account"}}catch(n){return s.error("Error linking Twitter account:",n),{success:!1,message:"Error linking Twitter account"}}},async unlinkTwitterAccount({commit:e}){try{const t=localStorage.getItem("auth_token");if(!t)return{success:!1,message:"Not authenticated"};const a=await r.A.get("/twitter/unlink-username",{headers:{Authorization:`Bearer ${t}`}});return a.data.success?(e("SET_TWITTER_LINKED",{isLinked:!1,username:null}),{success:!0}):{success:!1,message:a.data.message||"Failed to unlink Twitter account"}}catch(t){return s.error("Error unlinking Twitter account:",t),{success:!1,message:"Error unlinking Twitter account"}}}},getters:{currentScore:e=>e.game.score,remainingLives:e=>e.game.lives,timeLeft:e=>e.game.timeLeft,activeCoins:e=>e.game.coins,isPlaying:e=>e.game.isPlaying,gameOver:e=>e.game.gameOver,isFirstGame:e=>e.game.isFirstGame,catScale:e=>e.game.catScale,canPlay:e=>!e.game.isPlaying&&null!==e.socket,getBoardType:e=>e.boardType,userTag:e=>e.session.userTag,stats:e=>e.stats,bestScore:e=>e.session.bestScore,totalScore:e=>e.session.totalScore,totalWins:e=>e.session.wins,totalLosses:e=>e.session.losses,hasPassword:e=>e.session.hasPassword,isAuthenticated:e=>e.session.isAuthenticated,hasWallet:e=>e.session.hasWallet,walletAddress:e=>e.session.walletAddress,multiplayerStats:e=>e.multiplayerStats,gameHistory:e=>e.gameHistory,hideSeekStats:e=>e.hideSeek.stats,availableHideSeekGames:e=>e.hideSeek.availableGames,hideSeekHistory:e=>e.hideSeek.gameHistory,currentHideSeekGame:e=>e.hideSeek.currentGame,isHideSeekLoading:e=>e.hideSeek.loading,hideSeekError:e=>e.hideSeek.error,socket:e=>e.socket,isSocketConnected:e=>e.socketConnected,soundEnabled:e=>e.soundEnabled,currentAgent:e=>e.currentAgent,agentInfo:e=>e.agentInfo,chatOpen:e=>e.chatOpen,agentsListOpen:e=>e.agentsListOpen,chatAgents:e=>e.chatAgents,isTwitterLinked:e=>e.session.twitterLinked,twitterUsername:e=>e.session.twitterUsername,nftRentalHistory:e=>e.nftRental.rentalHistory,session:e=>e.session},modules:{game:l}});var g=d},47790:function(){}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,n,o,r){if(!n){var s=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],r=e[d][2];for(var i=!0,c=0;c<n.length;c++)(!1&r||s>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[c])}))?n.splice(c--,1):(i=!1,r<s&&(s=r));if(i){e.splice(d--,1);var l=o();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]}}(),function(){a.F={},a.E=function(e){Object.keys(a.F).map((function(t){a.F[t](e)}))}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var r=Object.create(null);a.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){s[e]=function(){return n[e]}}));return s["default"]=function(){return n},a.d(r,s),r}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+({252:"vendor.typescript-collections",655:"vendor.aptos-9bb7f4c1",899:"vendor.arbundles",2228:"vendor.ethersproject-1952e4fd",2638:"vendor.supercharge",3574:"vendor.aes-js",3896:"vendor.js-sha3",4265:"vendor.near-js",4900:"vendor.ethersproject-4afe998f",5269:"vendor.bignumber.js",5509:"vendor.mime",5756:"vendor.irys-f149fedd",5926:"vendor.tweetnacl",5988:"vendor.lodash.isequal",7051:"vendor.elliptic",7059:"vendor.secp256k1",7337:"vendor.lodash.clonedeep",7882:"vendor.readable-stream",8112:"vendor.hash.js",8798:"vendor.aptos-c2d3f7f4",9823:"vendor.irys-7e0a1a81"}[e]||e)+"."+{3:"47677e50",27:"8b3e5bb5",185:"960d87af",252:"e770a2c2",428:"9498d388",458:"f0987929",462:"0ae157ce",464:"0439f92e",479:"5ca26575",566:"55f2030c",567:"9f4244d0",655:"5b177489",671:"e7e24587",899:"f42b5336",903:"84e857f5",983:"d41ea0ef",989:"8362d20e",1104:"0984a0a1",1404:"83f01232",1435:"a75e2b68",1771:"4ec89d83",1801:"c3038a00",1886:"ee24301e",1932:"a8b0bfb8",2118:"859f5395",2201:"5e7c7d31",2228:"f698c8c0",2638:"7d8146cc",2986:"a96105e4",3268:"eabe24af",3360:"025d89bb",3410:"191c8d6d",3493:"9e1f0bc6",3574:"6c77393b",3583:"750fa90d",3699:"09ea9665",3896:"e8e45217",4131:"ed75e07b",4265:"ade4c80b",4268:"383967c1",4278:"1409e60c",4326:"2d0f804e",4406:"4e69a7bf",4458:"f755d641",4524:"7730226b",4664:"8eb40285",4817:"93e3f9d4",4891:"f09b9a01",4900:"8e8837b0",4948:"3c3bc059",4995:"9a7b91b0",5003:"e6bb13f3",5127:"5af8af3c",5176:"02a45e02",5185:"51c00c93",5269:"9cc6774d",5509:"7f79942f",5594:"f81ba892",5756:"2e123408",5759:"5d999c61",5880:"dae7374c",5926:"933e032b",5988:"1b1f5dd0",6132:"8a331a61",6363:"202963cc",6510:"3be374e6",6852:"2fac00ce",7051:"75ce583f",7059:"552dddbd",7161:"99668326",7323:"73cadb6e",7337:"815fed07",7443:"6679ee22",7493:"634a4318",7503:"217357cf",7710:"cc1d517c",7850:"a1903c9e",7882:"88b1692a",8041:"cd6f410f",8067:"f118defa",8112:"3deda3d9",8213:"5dae70dd",8258:"31d6c714",8398:"916232e0",8449:"43c5a052",8465:"76a64702",8470:"39f3f7d1",8538:"7049abc0",8798:"9e75f162",8940:"facb5573",8945:"71552d96",8996:"372903e9",9106:"b737e6ae",9140:"ba33c63e",9288:"22230512",9345:"f9e1e81b",9506:"a1af911e",9655:"e2028eda",9759:"4a904d32",9802:"48c76826",9823:"5c0b8b49"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+"."+{3:"b84e9040",27:"0ca79282",185:"9fe0197b",428:"0ce5dbc4",458:"b6ca47a6",462:"112c81c8",479:"9b6a953c",566:"33afd7ec",567:"76dd6981",671:"9642af0c",983:"dc3eb83b",989:"d3d6af1f",1435:"3afb2b02",1771:"5899c82f",1801:"e574a3d1",1886:"0546a7ff",1932:"eaba1cf7",2118:"bdff1b51",2201:"82edd216",2986:"37b45abe",3493:"95740810",3583:"00f592bf",4268:"466559cb",4278:"3b8c55bf",4406:"728e734d",4458:"4d1eefbb",4524:"6baadada",4664:"dfb03d89",4817:"4e644c82",4948:"6f7ee491",4995:"96835ca0",5003:"b9b53b85",5127:"67c1a43c",5176:"70c6782d",5185:"389a43d5",5759:"3d09220e",6132:"ace36347",6363:"8580cbbb",7161:"95d5d605",7323:"54a23fd7",7443:"3dc5a073",7493:"0a125a43",7503:"488b7538",7710:"f8da7e73",7850:"7e9c0201",8041:"cd239826",8067:"76bd02c5",8213:"dbd55b8f",8258:"98ffb9c7",8398:"1b91ba54",8449:"396d3608",8470:"e50d2636",8538:"4aa6e7f8",8996:"765d5a35",9106:"b0b45db0",9140:"75073e14",9288:"cd3cc4dc",9345:"8ab9d7ba",9506:"a5a51dec",9655:"a8649a7c",9759:"6d6386f1",9802:"6e23a9f2"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="app:";a.l=function(n,o,r,s){if(e[n])e[n].push(o);else{var i,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var g=l[d];if(g.getAttribute("src")==n||g.getAttribute("data-webpack")==t+r){i=g;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+r),i.src=n),e[n]=[o];var u=function(t,a){i.onerror=i.onload=null,clearTimeout(m);var o=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(a)})),t)return t(a)},m=setTimeout(u.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=u.bind(null,i.onerror),i.onload=u.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,o,r){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",a.nc&&(s.nonce=a.nc);var i=function(a){if(s.onerror=s.onload=null,"load"===a.type)o();else{var n=a&&a.type,i=a&&a.target&&a.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+i+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=n,c.request=i,s.parentNode&&s.parentNode.removeChild(s),r(c)}};return s.onerror=s.onload=i,s.href=t,n?n.parentNode.insertBefore(s,n.nextSibling):document.head.appendChild(s),s},t=function(e,t){for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n],r=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(r===e||r===t))return o}var s=document.getElementsByTagName("style");for(n=0;n<s.length;n++){o=s[n],r=o.getAttribute("data-href");if(r===e||r===t)return o}},n=function(n){return new Promise((function(o,r){var s=a.miniCssF(n),i=a.p+s;if(t(s,i))return o();e(n,i,null,o,r)}))},o={3524:0};a.f.miniCss=function(e,t){var a={3:1,27:1,185:1,428:1,458:1,462:1,479:1,566:1,567:1,671:1,983:1,989:1,1435:1,1771:1,1801:1,1886:1,1932:1,2118:1,2201:1,2986:1,3493:1,3583:1,4268:1,4278:1,4406:1,4458:1,4524:1,4664:1,4817:1,4948:1,4995:1,5003:1,5127:1,5176:1,5185:1,5759:1,6132:1,6363:1,7161:1,7323:1,7443:1,7493:1,7503:1,7710:1,7850:1,8041:1,8067:1,8213:1,8258:1,8398:1,8449:1,8470:1,8538:1,8996:1,9106:1,9140:1,9288:1,9345:1,9506:1,9655:1,9759:1,9802:1};o[e]?t.push(o[e]):0!==o[e]&&a[e]&&t.push(o[e]=n(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))},a.F.miniCss=function(e){if((!a.o(o,e)||void 0===o[e])&&/^(1(8(01|5|86)|435|771|932)|2(118|201|7|986)|3(|493|524|583)|4(2(|6|7)8|(45|5|94)8|406|524|62|664|79|817|995)|5(1(27|76|85)|003|66|67|759)|6(132|363|71)|7((32|44|49|50)3|161|710|850)|8((25|39|53)8|041|067|213|449|470|996)|9(8(02|3|9)|[15]06|140|288|345|655|759))$/.test(e)){o[e]=null;var t=document.createElement("link");a.nc&&t.setAttribute("nonce",a.nc),t.rel="prefetch",t.as="style",t.href=a.p+a.miniCssF(e),document.head.appendChild(t)}}}}(),function(){var e={3524:0};a.f.j=function(t,n){var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise((function(a,n){o=e[t]=[a,n]}));n.push(o[2]=r);var s=a.p+a.u(t),i=new Error,c=function(n){if(a.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",i.name="ChunkLoadError",i.type=r,i.request=s,o[1](i)}};a.l(s,c,"chunk-"+t,t)}},a.F.j=function(t){if(!a.o(e,t)||void 0===e[t]){e[t]=null;var n=document.createElement("link");a.nc&&n.setAttribute("nonce",a.nc),n.rel="prefetch",n.as="script",n.href=a.p+a.u(t),document.head.appendChild(n)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,r,s=n[0],i=n[1],c=n[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(c)var d=c(a)}for(t&&t(n);l<s.length;l++)r=s[l],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},n=self["webpackChunkapp"]=self["webpackChunkapp"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){a.O(0,[3524],(function(){[1932,566,9655,462,2986,8398,8449,9288,4268,3493,8538,9506,7493,7710,4406,8041,3,1435,1801,6132,983,567,5127,4817,9759,1886,4592,6934,3874,3159,3745,9290,3e3,2773,7949,1760,3041,677,2135,9874,8095,2095,4326,8465,3410,6852,3360,4891,3699,4131,6510,1104,3268,8945,464,8940,5880,5269,252,5988,7337,5509,3896,4458,2118,1771,7323,7443,4664,9802,185,5176,4524,8258,989,5759,9106,8470,903,458,479,8067,27,4948,8996].map(a.E)}),5)}();var n=a.O(void 0,[4592,6934,3874,3159,3745,9290,3e3,2773,7949,1760,3041,677,2135,9874,8095,2095,9192,277,9833,3080,7218,1371,1926,7403,3279,6659,2183,436,8547,2707],(function(){return a(78850)}));n=a.O(n)})();
//# sourceMappingURL=app.6cd4895b.js.map