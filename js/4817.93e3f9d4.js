"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[4817],{71241:function(t,a){a.A=(t,a)=>{const e=t.__vccOpts||t;for(const[n,s]of a)e[n]=s;return e}},14817:function(t,a,e){e.r(a),e.d(a,{default:function(){return nt}});var n=e(56768),s=e(24232);const r={class:"player-nfts-page"},i={class:"container"},c={key:0,class:"loading-state"},o={key:1,class:"error-state"},l={class:"user-profile"},u={class:"user-avatar"},d={class:"avatar-placeholder"},v={class:"user-info"},g={class:"user-stats"},b={class:"stat-value"},f={class:"stat-value"},p={class:"stat-value"},k={class:"user-actions"};function T(t,a,e,T,L,y){const C=(0,n.g2)("router-link"),m=(0,n.g2)("UserPublicNftsList");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("div",i,[T.loading?((0,n.uX)(),(0,n.CE)("div",c,a[3]||(a[3]=[(0,n.Lk)("div",{class:"spinner"},null,-1),(0,n.Lk)("p",null,"Loading user information...",-1)]))):T.error?((0,n.uX)(),(0,n.CE)("div",o,[(0,n.Lk)("p",null,(0,s.v_)(T.error),1),(0,n.bF)(C,{to:"/",class:"back-button"},{default:(0,n.k6)((()=>a[4]||(a[4]=[(0,n.eW)("Back to Home")]))),_:1})])):((0,n.uX)(),(0,n.CE)(n.FK,{key:2},[(0,n.Lk)("div",l,[(0,n.Lk)("div",u,[(0,n.Lk)("span",d,(0,s.v_)(T.userInitial),1)]),(0,n.Lk)("div",v,[(0,n.Lk)("h1",null,[(0,n.bF)(C,{to:`/player/${T.userTag}`},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(T.userTag),1)])),_:1},8,["to"])]),(0,n.Lk)("div",g,[(0,n.Lk)("div",{class:(0,s.C4)(["stat-item",{active:"owned"===T.activeTab}]),onClick:a[0]||(a[0]=t=>T.setActiveTab("owned"))},[(0,n.Lk)("span",b,(0,s.v_)(T.nftsData?.owned?.pagination?.total||0),1),a[5]||(a[5]=(0,n.Lk)("span",{class:"stat-label"},"Owned",-1))],2),(0,n.Lk)("div",{class:(0,s.C4)(["stat-item",{active:"rented"===T.activeTab}]),onClick:a[1]||(a[1]=t=>T.setActiveTab("rented"))},[(0,n.Lk)("span",f,(0,s.v_)(T.nftsData?.rented?.pagination?.total||0),1),a[6]||(a[6]=(0,n.Lk)("span",{class:"stat-label"},"Rented",-1))],2),(0,n.Lk)("div",{class:(0,s.C4)(["stat-item",{active:"created"===T.activeTab}]),onClick:a[2]||(a[2]=t=>T.setActiveTab("created"))},[(0,n.Lk)("span",p,(0,s.v_)(T.nftsData?.created?.pagination?.total||0),1),a[7]||(a[7]=(0,n.Lk)("span",{class:"stat-label"},"Created",-1))],2)])]),(0,n.Lk)("div",k,[(0,n.bF)(C,{to:"/nft-mint",class:"action-button mint-button"},{default:(0,n.k6)((()=>a[8]||(a[8]=[(0,n.eW)("Mint New NFT")]))),_:1}),(0,n.bF)(C,{to:"/nft-rental",class:"action-button rent-button"},{default:(0,n.k6)((()=>[(0,n.eW)("Rent "+(0,s.v_)(T.isCurrentUser?"Out":"In"),1)])),_:1})])]),(0,n.bF)(m,{userTag:T.userTag,nftsData:T.nftsData,loading:T.nftsLoading,error:T.nftsError,activeTab:T.activeTab,onChangeTab:T.setActiveTab},null,8,["userTag","nftsData","loading","error","activeTab","onChangeTab"])],64))])])}var L=e(90144),y=e(81387),C=e(94373),m=e(68881);const h={class:"user-public-nfts"},w={class:"section-header"},P={class:"tab-container"},_={class:"tabs"},E={class:"tabs-navigation"},N={key:0,class:"active-indicator"},F={key:0,class:"active-indicator"},D={key:0,class:"active-indicator"},W={class:"tab-content"},A={key:0,class:"loading-state"},X={key:1,class:"error-message"},R={key:2,class:"empty-message"},K={class:"empty-message-text"},S={key:2,class:"empty-message-text"},I={key:3,class:"nfts-grid"},U={class:"nft-image-container"},Q=["src","alt"],q={class:"nft-info"},x={class:"nft-date"},M={class:"nft-actions"},O={key:0,class:"pagination"},B=["disabled"],$=["disabled"],V={class:"pagination-info"},Y=["disabled"],j=["disabled"];function z(t,a,e,r,i,c){const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",h,[(0,n.Lk)("div",w,[(0,n.Lk)("h2",null,(0,s.v_)(e.userTag===r.store.getters.userTag?"Your":e.userTag)+" NFTs Collection",1)]),(0,n.Lk)("div",P,[(0,n.Lk)("div",_,[(0,n.Lk)("div",E,[(0,n.Lk)("button",{class:(0,s.C4)(["tab-button",{active:"owned"===e.activeTab}]),onClick:a[0]||(a[0]=t=>r.setCurrentTab("owned"))},[a[7]||(a[7]=(0,n.Lk)("i",{class:"fas fa-wallet tab-icon"},null,-1)),a[8]||(a[8]=(0,n.eW)(" Owned ")),"owned"===e.activeTab?((0,n.uX)(),(0,n.CE)("div",N)):(0,n.Q3)("",!0)],2),(0,n.Lk)("button",{class:(0,s.C4)(["tab-button",{active:"rented"===e.activeTab}]),onClick:a[1]||(a[1]=t=>r.setCurrentTab("rented"))},[a[9]||(a[9]=(0,n.Lk)("i",{class:"fas fa-box-open tab-icon"},null,-1)),a[10]||(a[10]=(0,n.eW)(" Rented ")),"rented"===e.activeTab?((0,n.uX)(),(0,n.CE)("div",F)):(0,n.Q3)("",!0)],2),(0,n.Lk)("button",{class:(0,s.C4)(["tab-button",{active:"created"===e.activeTab}]),onClick:a[2]||(a[2]=t=>r.setCurrentTab("created"))},[a[11]||(a[11]=(0,n.Lk)("i",{class:"fas fa-paint-brush tab-icon"},null,-1)),a[12]||(a[12]=(0,n.eW)(" Created ")),"created"===e.activeTab?((0,n.uX)(),(0,n.CE)("div",D)):(0,n.Q3)("",!0)],2)])]),(0,n.Lk)("div",W,[e.loading?((0,n.uX)(),(0,n.CE)("div",A,a[13]||(a[13]=[(0,n.Lk)("div",{class:"spinner"},null,-1),(0,n.Lk)("p",null,"Loading NFTs...",-1)]))):e.error?((0,n.uX)(),(0,n.CE)("p",X,(0,s.v_)(e.error),1)):0===r.currentNfts.length?((0,n.uX)(),(0,n.CE)("p",R,[(0,n.Lk)("span",K,(0,s.v_)(e.userTag===r.store.getters.userTag?"You":"This user")+" "+(0,s.v_)(r.emptyStateMessage),1),"owned"===e.activeTab?((0,n.uX)(),(0,n.Wv)(o,{key:0,to:"/nft-mint",class:"empty-message-button"},{default:(0,n.k6)((()=>a[14]||(a[14]=[(0,n.eW)("Mint New NFT")]))),_:1})):(0,n.Q3)("",!0),"rented"===e.activeTab?((0,n.uX)(),(0,n.Wv)(o,{key:1,to:"/nft-rental",class:"empty-message-button"},{default:(0,n.k6)((()=>a[15]||(a[15]=[(0,n.eW)("Rent NFT")]))),_:1})):(0,n.Q3)("",!0),"created"===e.activeTab?((0,n.uX)(),(0,n.CE)("span",S,"Soon every BITCAT NFT holder will be able to create their own NFTs and trade them on a decentralized auction and more. We are working on it!")):(0,n.Q3)("",!0)])):((0,n.uX)(),(0,n.CE)("div",I,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.currentNfts,((t,e)=>((0,n.uX)(),(0,n.CE)("div",{key:e+t.assetPublicKey,class:"nft-card"},[(0,n.Lk)("div",U,[(0,n.Lk)("img",{src:t.imageUri,alt:t.name,class:"nft-image"},null,8,Q)]),(0,n.Lk)("div",q,[(0,n.Lk)("h3",null,(0,s.v_)(t.name),1),(0,n.Lk)("p",x,(0,s.v_)(r.getNftStatusText(t))+" "+(0,s.v_)(r.formatDate(t.createdAt))+(0,s.v_)(t.rentInfo?` for ${t.rentInfo.days}d`:""),1),(0,n.Lk)("div",M,[(0,n.bF)(o,{to:`/nft/${t.assetPublicKey}`,class:"view-button"},{default:(0,n.k6)((()=>a[16]||(a[16]=[(0,n.eW)(" View Details ")]))),_:2},1032,["to"])])])])))),128))]))])]),r.currentPagination.totalPages>1?((0,n.uX)(),(0,n.CE)("div",O,[(0,n.Lk)("button",{onClick:a[3]||(a[3]=t=>r.changePage(1)),disabled:1===r.currentPagination.page,class:"pagination-button"}," « ",8,B),(0,n.Lk)("button",{onClick:a[4]||(a[4]=t=>r.changePage(r.currentPagination.page-1)),disabled:1===r.currentPagination.page,class:"pagination-button"}," ‹ ",8,$),(0,n.Lk)("div",V," Page "+(0,s.v_)(r.currentPagination.page)+" of "+(0,s.v_)(r.currentPagination.totalPages),1),(0,n.Lk)("button",{onClick:a[5]||(a[5]=t=>r.changePage(r.currentPagination.page+1)),disabled:r.currentPagination.page===r.currentPagination.totalPages,class:"pagination-button"}," › ",8,Y),(0,n.Lk)("button",{onClick:a[6]||(a[6]=t=>r.changePage(r.currentPagination.totalPages)),disabled:r.currentPagination.page===r.currentPagination.totalPages,class:"pagination-button"}," » ",8,j)])):(0,n.Q3)("",!0)])}e(44114);var H={name:"UserPublicNftsList",props:{userTag:{type:String,required:!0},nftsData:{type:Object,default:null},loading:{type:Boolean,default:!1},error:{type:String,default:null},activeTab:{type:String,default:"owned"}},setup(t,{emit:a}){const e=(0,y.lq)(),s=(0,y.rd)(),r=(0,n.EW)((()=>{if(!t.nftsData)return[];switch(t.activeTab){case"owned":return t.nftsData.owned.nfts;case"rented":return t.nftsData.rented.nfts;case"created":return t.nftsData.created.nfts;default:return[]}})),i=(0,n.EW)((()=>{if(!t.nftsData)return{total:0,page:1,limit:10,totalPages:0};switch(t.activeTab){case"owned":return t.nftsData.owned.pagination;case"rented":return t.nftsData.rented.pagination;case"created":return t.nftsData.created.pagination;default:return{total:0,page:1,limit:10,totalPages:0}}})),c=(0,n.EW)((()=>{switch(t.activeTab){case"owned":return"hasn't minted any NFTs yet.";case"rented":return"hasn't rented any NFTs yet.";case"created":return"hasn't created any NFTs yet.";default:return"has no NFTs in this category."}})),o=a=>{switch(t.activeTab){case"owned":return"Minted on";case"rented":return"Rented on";case"created":return"Created on";default:return"Added on"}},l=t=>{a("changeTab",t)},u=a=>{a<1||a>i.value.totalPages||(s.push({path:e.path,query:{...e.query,page:a,tab:t.activeTab}}),window.scrollTo({top:0,behavior:"smooth"}))},d=t=>{const a=new Date(t);return a.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})};return(0,n.sV)((()=>{const a=e.query.tab||"owned";a!==t.activeTab&&l(a)})),{currentNfts:r,currentPagination:i,emptyStateMessage:c,setCurrentTab:l,changePage:u,formatDate:d,store:m.A,getNftStatusText:o}}},G=e(71241);const J=(0,G.A)(H,[["render",z],["__scopeId","data-v-3e1d1bd4"]]);var Z=J,tt=e(94348),at={name:"PlayerNftsPage",components:{UserPublicNftsList:Z},setup(){const t=(0,y.lq)(),a=(0,L.KR)(""),e=(0,L.KR)(!0),s=(0,L.KR)(null),r=(0,L.KR)(null),i=(0,L.KR)(!0),c=(0,L.KR)(null),o=(0,L.KR)("owned"),l=(0,n.EW)((()=>a.value?a.value.charAt(0).toUpperCase():"")),u=(0,n.EW)((()=>m.A.getters.isAuthenticated&&a.value===m.A.getters.userTag)),d=(0,n.EW)((()=>{if(!r.value)return 0;const t=r.value.owned?.pagination?.total||0,a=r.value.rented?.pagination?.total||0,e=r.value.created?.pagination?.total||0;return t+a+e})),v=t=>{o.value=t},g=async(t=1)=>{i.value=!0,c.value=null;try{const e=await C.A.get(`/nft-bitcat/user/${a.value}/nfts`,{params:{page:t,limit:10,tab:o.value}});e.data.success?r.value=e.data:c.value="Failed to load NFTs"}catch(e){tt.error("Error fetching NFTs:",e),c.value=e.response?.data?.message||"An error occurred while fetching NFTs"}finally{i.value=!1}},b=async()=>{e.value=!0,s.value=null;try{a.value=t.params.userTag,await g()}catch(n){tt.error("Error fetching user info:",n),s.value=n.response?.data?.message||"User not found or an error occurred"}finally{e.value=!1}};return(0,n.sV)((()=>{b()})),(0,n.wB)(o,(()=>{})),{userTag:a,loading:e,error:s,nftsData:r,nftsLoading:i,nftsError:c,activeTab:o,totalNfts:d,userInitial:l,isCurrentUser:u,setActiveTab:v}}};const et=(0,G.A)(at,[["render",T],["__scopeId","data-v-09e1dcd2"]]);var nt=et}}]);
//# sourceMappingURL=4817.93e3f9d4.js.map