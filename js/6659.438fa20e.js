"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[6659],{86659:function(t,e,n){n.d(e,{GZ:function(){return rn},vT:function(){return nn},xO:function(){return Dn}});n(44114),n(16573),n(78100),n(77936),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(98992),n(54520),n(72577),n(3949),n(81454),n(37550),n(64979),n(14603),n(47566),n(98721);var r=n(34232),o=n(59058),i=n(40208),s=n(56768),a=n(90144),l=n(24232),u=n(45130),c=n(75290),f=n(91737),d=n(94348),h=Object.defineProperty,p=(t,e,n)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w=(t,e,n)=>(p(t,"symbol"!==typeof e?e+"":e,n),n);class y extends r.m7{constructor(){super(...arguments),w(this,"name","WalletNotSelectedError")}}class g extends r.m7{constructor(){super(...arguments),w(this,"name","WalletNotSelectedError")}}const v={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND"};class m extends Error{constructor(...t){const[e,n,r]=t;super(n),this.code=e,this.data=r,this.name="SolanaMobileWalletAdapterError"}}class b extends Error{constructor(...t){const[e,n,r,o]=t;super(r),this.code=n,this.data=o,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function E(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function s(t){try{l(r.next(t))}catch(e){i(e)}}function a(t){try{l(r["throw"](t))}catch(e){i(e)}}function l(t){t.done?n(t.value):o(t.value).then(s,a)}l((r=r.apply(t,e||[])).next())}))}function A(t,e){return E(this,void 0,void 0,(function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),o=new Uint8Array(n.byteLength+r.byteLength);return o.set(new Uint8Array(n),0),o.set(new Uint8Array(r),n.byteLength),o}))}const _=4;function T(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(_),n=new DataView(e);return n.setUint32(0,t,!1),new Uint8Array(e)}function R(){return E(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}))}function S(){return E(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])}))}const O=12;function B(t,e){return E(this,void 0,void 0,(function*(){const n=JSON.stringify(t),r=T(t.id),o=new Uint8Array(O);crypto.getRandomValues(o);const i=yield crypto.subtle.encrypt(I(r,o),e,(new TextEncoder).encode(n)),s=new Uint8Array(r.byteLength+o.byteLength+i.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(o),r.byteLength),s.set(new Uint8Array(i),r.byteLength+o.byteLength),s}))}function C(t,e){return E(this,void 0,void 0,(function*(){const n=t.slice(0,_),r=t.slice(_,_+O),o=t.slice(_+O),i=yield crypto.subtle.decrypt(I(n,r),e,o),s=U().decode(i),a=JSON.parse(s);if(Object.hasOwnProperty.call(a,"error"))throw new b(a.id,a.error.code,a.error.message);return a}))}function I(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let L;function U(){return void 0===L&&(L=new TextDecoder("utf-8")),L}function k(t,e,n){return E(this,void 0,void 0,(function*(){const[r,o]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t,{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:o},n,256),s=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]),a=yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"]);return a}))}function M(){return W(49152+Math.floor(16384*Math.random()))}function W(t){if(t<49152||t>65535)throw new m(v.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function N(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let o=0;o<r;o++)e+=String.fromCharCode(n[o]);return window.btoa(e)}function x(t){return t.replace(/[/+=]/g,(t=>({"/":"_","+":"-","=":"."}[t])))}const P="solana-wallet";function z(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function D(t,e){let n=null;if(e){try{n=new URL(e)}catch(o){}if("https:"!==(null===n||void 0===n?void 0:n.protocol))throw new m(v.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${P}:/`));const r=t.startsWith("/")?t:[...z(n.pathname),...z(t)].join("/");return new URL(r,n)}function j(t,e,n){return E(this,void 0,void 0,(function*(){const r=W(e),o=yield crypto.subtle.exportKey("raw",t),i=N(o),s=D("v1/associate/local",n);return s.searchParams.set("association",x(i)),s.searchParams.set("port",`${r}`),s}))}const K={Firefox:0,Other:1};function F(t){return t}function $(){return-1!==navigator.userAgent.indexOf("Firefox/")?K.Firefox:K.Other}function G(){return new Promise(((t,e)=>{function n(){clearTimeout(o),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const o=setTimeout((()=>{n(),e()}),2e3)}))}let Y=null;function Q(t){null==Y&&(Y=document.createElement("iframe"),Y.style.display="none",document.body.appendChild(Y)),Y.contentWindow.location.href=t.toString()}function V(t,e){return E(this,void 0,void 0,(function*(){const n=M(),r=yield j(t,n,e);if("https:"===r.protocol)window.location.assign(r);else try{const t=$();switch(t){case K.Firefox:Q(r);break;case K.Other:{const t=G();window.location.assign(r),yield t;break}default:F(t)}}catch(o){throw new m(v.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}return n}))}const X={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},H="com.solana.mobilewalletadapter.v1";function Z(){if("undefined"===typeof window||!0!==window.isSecureContext)throw new m(v.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function q(t){let e;try{e=new URL(t)}catch(n){throw new m(v.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if("https:"!==e.protocol)throw new m(v.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function J(t){const e=new DataView(t);return e.getUint32(0,!1)}function tt(t,e){return E(this,void 0,void 0,(function*(){Z();const n=yield R(),r=yield V(n.publicKey,null===e||void 0===e?void 0:e.baseUri),o=`ws://localhost:${r}/solana-wallet`;let i;const s=(()=>{const t=[...X.retryDelayScheduleMs];return()=>t.length>1?t.shift():t[0]})();let a=1,l=0,u={__type:"disconnected"};return new Promise(((e,c)=>{let f;const h={},p=()=>E(this,void 0,void 0,(function*(){if("connecting"!==u.__type)return void d.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${u.__type}\`.`);const{associationKeypair:t}=u;f.removeEventListener("open",p);const e=yield S();f.send(yield A(e.publicKey,t.privateKey)),u={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:e.privateKey}})),w=t=>{t.wasClean?u={__type:"disconnected"}:c(new m(v.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${t.code}: ${t.reason}).`,{closeEvent:t})),T()},y=t=>E(this,void 0,void 0,(function*(){T(),Date.now()-i>=X.timeoutMs?c(new m(v.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket on port ${r}.`)):(yield new Promise((t=>{const e=s();R=window.setTimeout(t,e)})),O())})),g=n=>E(this,void 0,void 0,(function*(){const r=yield n.data.arrayBuffer();switch(u.__type){case"connected":try{const t=r.slice(0,_),e=J(t);if(e!==l+1)throw new Error("Encrypted message has invalid sequence number");l=e;const n=yield C(r,u.sharedSecret),o=h[n.id];delete h[n.id],o.resolve(n.result)}catch(o){if(!(o instanceof b))throw o;{const t=h[o.jsonRpcMessageId];delete h[o.jsonRpcMessageId],t.reject(o)}}break;case"hello_req_sent":{const n=yield k(r,u.associationPublicKey,u.ecdhPrivateKey);u={__type:"connected",sharedSecret:n};const i=new Proxy({},{get(t,e){if(null==t[e]){const r=e.toString().replace(/[A-Z]/g,(t=>`_${t.toLowerCase()}`)).toLowerCase();t[e]=function(t){return E(this,void 0,void 0,(function*(){const i=a++;return f.send(yield B({id:i,jsonrpc:"2.0",method:r,params:null!==t&&void 0!==t?t:{}},n)),new Promise(((t,n)=>{h[i]={resolve(r){switch(e){case"authorize":case"reauthorize":{const{wallet_uri_base:t}=r;if(null!=t)try{q(t)}catch(o){return void n(o)}break}}t(r)},reject:n}}))}))}}return t[e]},defineProperty(){return!1},deleteProperty(){return!1}});try{e(yield t(i))}catch(o){c(o)}finally{T(),f.close()}break}}}));let T,R;const O=()=>{T&&T(),u={__type:"connecting",associationKeypair:n},void 0===i&&(i=Date.now()),f=new WebSocket(o,[H]),f.addEventListener("open",p),f.addEventListener("close",w),f.addEventListener("error",y),f.addEventListener("message",g),T=()=>{window.clearTimeout(R),f.removeEventListener("open",p),f.removeEventListener("close",w),f.removeEventListener("error",y),f.removeEventListener("message",g)}};O()}))}))}function et(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var o=t.charAt(r),i=o.charCodeAt(0);if(255!==e[i])throw new TypeError(o+" is ambiguous");e[i]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function c(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";var n=0,r=0,o=0,i=e.length;while(o!==i&&0===e[o])o++,n++;var l=(i-o)*u+1>>>0,c=new Uint8Array(l);while(o!==i){for(var f=e[o],d=0,h=l-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*c[h]>>>0,c[h]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}var p=l-r;while(p!==l&&0===c[p])p++;for(var w=a.repeat(n);p<l;++p)w+=t.charAt(c[p]);return w}function f(t){if("string"!==typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var n=0,r=0,o=0;while(t[n]===a)r++,n++;var i=(t.length-n)*l+1>>>0,u=new Uint8Array(i);while(t[n]){var c=e[t.charCodeAt(n)];if(255===c)return;for(var f=0,d=i-1;(0!==c||f<o)&&-1!==d;d--,f++)c+=s*u[d]>>>0,u[d]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");o=f,n++}var h=i-o;while(h!==i&&0===u[h])h++;var p=new Uint8Array(r+(i-h)),w=r;while(h!==i)p[w++]=u[h++];return p}function d(t){var e=f(t);if(e)return e;throw new Error("Non-base"+s+" character")}return{encode:c,decodeUnsafe:f,decode:d}}var nt=et;const rt=nt,ot="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var it=rt(ot);function st(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function at(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function s(t){try{l(r.next(t))}catch(e){i(e)}}function a(t){try{l(r["throw"](t))}catch(e){i(e)}}function l(t){t.done?n(t.value):o(t.value).then(s,a)}l((r=r.apply(t,e||[])).next())}))}function lt(t){return window.btoa(String.fromCharCode.call(null,...t))}function ut(t){return new Uint8Array(window.atob(t).split("").map((t=>t.charCodeAt(0))))}function ct(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1}),n=lt(e);return n}function ft(t){const e=t[0],n=e*c.SIGNATURE_LENGTH_IN_BYTES+1,r=c.VersionedMessage.deserializeMessageVersion(t.slice(n,t.length));return"legacy"===r?c.Transaction.from(t):c.VersionedTransaction.deserialize(t)}function dt(t,e){return at(this,void 0,void 0,(function*(){const n=e=>{const n=new Proxy({},{get(t,n){if(null==t[n])switch(n){case"signAndSendTransactions":t[n]=function(t){var{minContextSlot:n,transactions:r}=t,o=st(t,["minContextSlot","transactions"]);return at(this,void 0,void 0,(function*(){const t=r.map(ct),{signatures:i}=yield e.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},o),null!=n?{options:{min_context_slot:n}}:null),{payloads:t})),s=i.map(ut).map(it.encode);return s}))};break;case"signMessages":t[n]=function(t){var{payloads:n}=t,r=st(t,["payloads"]);return at(this,void 0,void 0,(function*(){const t=n.map(lt),{signed_payloads:o}=yield e.signMessages(Object.assign(Object.assign({},r),{payloads:t})),i=o.map(ut);return i}))};break;case"signTransactions":t[n]=function(t){var{transactions:n}=t,r=st(t,["transactions"]);return at(this,void 0,void 0,(function*(){const t=n.map(ct),{signed_payloads:o}=yield e.signTransactions(Object.assign(Object.assign({},r),{payloads:t})),i=o.map(ut),s=i.map(ft);return s}))};break;default:t[n]=e[n];break}return t[n]},defineProperty(){return!1},deleteProperty(){return!1}});return t(n)};return yield tt(n,e)}))}function ht(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function s(t){try{l(r.next(t))}catch(e){i(e)}}function a(t){try{l(r["throw"](t))}catch(e){i(e)}}function l(t){t.done?n(t.value):o(t.value).then(s,a)}l((r=r.apply(t,e||[])).next())}))}function pt(t){return new Uint8Array(window.atob(t).split("").map((t=>t.charCodeAt(0))))}function wt(){return"undefined"!==typeof window&&window.isSecureContext&&"undefined"!==typeof document&&/android/i.test(navigator.userAgent)}const yt="Mobile Wallet Adapter",gt=64;function vt(t){const e=pt(t);return new c.PublicKey(e)}function mt(t){return"version"in t}class bt extends o.DE{constructor(t){super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=yt,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=wt()?i.Ok.Loadable:i.Ok.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._cluster=t.cluster,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==i.Ok.Unsupported&&this._authorizationResultCache.get().then((t=>{t&&this.declareWalletAsInstalled()}))}get publicKey(){if(null==this._publicKey&&null!=this._selectedAddress)try{this._publicKey=vt(this._selectedAddress)}catch(t){throw new r.Kd(t instanceof Error&&(null===t||void 0===t?void 0:t.message)||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==i.Ok.Installed&&this.emit("readyStateChange",this._readyState=i.Ok.Installed)}runWithGuard(t){return ht(this,void 0,void 0,(function*(){try{return yield t()}catch(e){throw this.emit("error",e),e}}))}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return ht(this,void 0,void 0,(function*(){return yield this.autoConnect()}))}autoConnect(){return ht(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>ht(this,void 0,void 0,(function*(){if(this._readyState!==i.Ok.Installed&&this._readyState!==i.Ok.Loadable)throw new r.AE;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new r.Y6(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))))}))}connect(){return ht(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>ht(this,void 0,void 0,(function*(){if(this._readyState!==i.Ok.Installed&&this._readyState!==i.Ok.Loadable)throw new r.AE;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();if(t)return void this.handleAuthorizationResult(t);yield this.transact((t=>ht(this,void 0,void 0,(function*(){const e=yield t.authorize({cluster:this._cluster,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(e),this.handleAuthorizationResult(e)])}))))}catch(t){throw new r.Y6(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))))}))}handleAuthorizationResult(t){var e;return ht(this,void 0,void 0,(function*(){const n=null==this._authorizationResult||(null===(e=this._authorizationResult)||void 0===e?void 0:e.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some(((e,n)=>e.address!==t.accounts[n].address));if(this._authorizationResult=t,this.declareWalletAsInstalled(),n){const e=yield this._addressSelector.select(t.accounts.map((({address:t})=>t)));e!==this._selectedAddress&&(this._selectedAddress=e,delete this._publicKey,this.emit("connect",this.publicKey))}}))}performReauthorization(t,e){return ht(this,void 0,void 0,(function*(){try{const n=yield t.reauthorize({auth_token:e});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(n){throw this.disconnect(),new r.PQ(n instanceof Error&&(null===n||void 0===n?void 0:n.message)||"Unknown error",n)}}))}disconnect(){return ht(this,void 0,void 0,(function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")}))}transact(t){var e;return ht(this,void 0,void 0,(function*(){const n=null===(e=this._authorizationResult)||void 0===e?void 0:e.wallet_uri_base,r=n?{baseUri:n}:void 0,o=this._connectionGeneration;try{return yield dt(t,r)}catch(i){throw this._connectionGeneration!==o&&(yield new Promise((()=>{}))),i instanceof Error&&"SolanaMobileWalletAdapterError"===i.name&&"ERROR_WALLET_NOT_FOUND"===i.code&&(yield this._onWalletNotFound(this)),i}}))}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new r.kW;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return ht(this,void 0,void 0,(function*(){const{authToken:e}=this.assertIsAuthorized();try{return yield this.transact((n=>ht(this,void 0,void 0,(function*(){yield this.performReauthorization(n,e);const r=yield n.signTransactions({transactions:t});return r}))))}catch(n){throw new r.z4(null===n||void 0===n?void 0:n.message,n)}}))}sendTransaction(t,e,n){return ht(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ht(this,void 0,void 0,(function*(){const{authToken:o}=this.assertIsAuthorized(),i=null===n||void 0===n?void 0:n.minContextSlot;try{return yield this.transact((r=>ht(this,void 0,void 0,(function*(){function s(){let t,r;switch(e.commitment){case"confirmed":case"finalized":case"processed":t=e.commitment;break;default:t="finalized"}switch(null===n||void 0===n?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":r=n.preflightCommitment;break;case void 0:r=t;default:r="finalized"}const o="finalized"===r?2:"confirmed"===r?1:0,i="finalized"===t?2:"confirmed"===t?1:0;return o<i?r:t}const[a,l,u]=yield Promise.all([r.getCapabilities(),this.performReauthorization(r,o),mt(t)?null:(()=>ht(this,void 0,void 0,(function*(){var n;if(t.feePayer||(t.feePayer=null!==(n=this.publicKey)&&void 0!==n?n:void 0),null==t.recentBlockhash){const{blockhash:n}=yield e.getLatestBlockhash({commitment:s()});t.recentBlockhash=n}})))()]);if(a.supports_sign_and_send_transactions){const e=yield r.signAndSendTransactions({minContextSlot:i,transactions:[t]});return e[0]}{const[o]=yield r.signTransactions({transactions:[t]});if(mt(o))return yield e.sendTransaction(o);{const t=o.serialize();return yield e.sendRawTransaction(t,Object.assign(Object.assign({},n),{preflightCommitment:s()}))}}}))))}catch(s){throw new r.UF(null===s||void 0===s?void 0:s.message,s)}}))))}))}signTransaction(t){return ht(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ht(this,void 0,void 0,(function*(){const[e]=yield this.performSignTransactions([t]);return e}))))}))}signAllTransactions(t){return ht(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ht(this,void 0,void 0,(function*(){const e=yield this.performSignTransactions(t);return e}))))}))}signMessage(t){return ht(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ht(this,void 0,void 0,(function*(){const{authToken:e,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact((r=>ht(this,void 0,void 0,(function*(){yield this.performReauthorization(r,e);const[o]=yield r.signMessages({addresses:[n],payloads:[t]}),i=o.slice(-gt);return i}))))}catch(o){throw new r.K3(null===o||void 0===o?void 0:o.message,o)}}))))}))}}function Et(){return{select(t){return ht(this,void 0,void 0,(function*(){return t[0]}))}}}const At="SolanaMobileWalletAdapterDefaultAuthorizationCache";function _t(){let t;try{t=window.localStorage}catch(e){}return{clear(){return ht(this,void 0,void 0,(function*(){if(t)try{t.removeItem(At)}catch(e){}}))},get(){return ht(this,void 0,void 0,(function*(){if(t)try{return JSON.parse(t.getItem(At))||void 0}catch(e){}}))},set(n){return ht(this,void 0,void 0,(function*(){if(t)try{t.setItem(At,JSON.stringify(n))}catch(e){}}))}}}function Tt(t){return ht(this,void 0,void 0,(function*(){"undefined"!==typeof window&&window.location.assign(t.url)}))}function Rt(){return Tt}function St(t,e,n,r,o,i){(0,s.wB)(t,((t,e)=>{const n=null==t?void 0:t.adapter,r=null==e?void 0:e.adapter;n&&r&&n.name!==r.name&&r.name!==yt&&r.disconnect()})),(0,s.nT)((s=>{var a;const l=null==(a=t.value)?void 0:a.adapter;if(!l)return;const u=()=>{o()},c=()=>{e.value||n.value||r(!0)},f=t=>i(t,l);l.on("connect",u),l.on("disconnect",c),l.on("error",f),s((()=>{l.off("connect",u),l.off("disconnect",c),l.off("error",f)}))}))}function Ot(t,e,n,r,o,i,l){const u=(0,a.KR)(t),c=(0,a.KR)(!1);return(0,s.wB)(e,(()=>{c.value=!1})),(0,s.nT)((()=>{!c.value&&u.value&&e.value&&i.value&&!o.value&&!r.value&&(async()=>{if(e.value){r.value=!0,c.value=!0;try{n.value?await e.value.adapter.autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED():await e.value.adapter.connect()}catch(t){l()}finally{r.value=!1}}})()})),u}function Bt(t){const e=It(),n=Lt(),r=(0,s.EW)((()=>Ut(t.value,e))),o=(0,s.EW)((()=>1===r.value));return{userAgent:e,uriForAppIdentity:n,environment:r,isMobile:o}}let Ct;function It(){var t,e;return void 0===Ct&&(Ct=null!=(e=null==(t=globalThis.navigator)?void 0:t.userAgent)?e:null),Ct}function Lt(){const t=globalThis.location;return null==t?null:`${t.protocol}//${t.host}`}function Ut(t,e){const n=t.some((t=>t.name!==yt&&t.readyState===i.Ok.Installed));if(n)return 0;const r=e&&kt(e)&&!Mt(e);return r?1:0}function kt(t){return/android/i.test(t)}function Mt(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function Wt(t,e){return(n,o)=>t.value?n:e?(e(n,o),n):(d.error(n,o),n instanceof r.AE&&"undefined"!==typeof window&&o&&window.open(o.url,"_blank"),n)}function Nt(t,e,n,r){const o=(0,s.EW)((()=>{if(!e.value)return null;const o=t.value.find((t=>t.name===yt));return o||new bt({addressSelector:Et(),appIdentity:{uri:n||void 0},authorizationResultCache:_t(),cluster:r.value,onWalletNotFound:Rt()})}));return(0,s.EW)((()=>null==o.value||-1!==t.value.indexOf(o.value)?t.value:[o.value,...t.value]))}function xt(t){(0,s.nT)((e=>{function n(e){const n=t.value,r=n.findIndex((({adapter:t})=>t===this));-1!==r&&(t.value=[...n.slice(0,r),{adapter:this,readyState:e},...n.slice(r+1)])}t.value.forEach((({adapter:t})=>t.on("readyStateChange",n,t))),e((()=>t.value.forEach((({adapter:t})=>t.off("readyStateChange",n,t)))))}))}function Pt(t,e){const n=(0,f.Mjh)(t,e.value?yt:null),r=(0,s.EW)((()=>n.value===yt)),o=(0,s.EW)((()=>r.value&&e.value)),i=t=>{n.value!==t&&(n.value=t)},a=(t=!0)=>{(t||r.value)&&(n.value=null)};return{name:n,isUsingMwaAdapter:r,isUsingMwaAdapterOnMobile:o,select:i,deselect:a}}function zt(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Dt="solana:mainnet",jt="solana:devnet",Kt="solana:testnet",Ft="solana:localnet",$t="https://api.mainnet-beta.solana.com";function Gt(t){return t.includes($t)?Dt:/\bdevnet\b/i.test(t)?jt:/\btestnet\b/i.test(t)?Kt:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?Ft:Dt}function Yt(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}globalThis&&globalThis.__classPrivateFieldSet,globalThis&&globalThis.__classPrivateFieldGet;var Qt={exports:{}},Vt={},Xt={};Xt.byteLength=re,Xt.toByteArray=ie,Xt.fromByteArray=le;for(var Ht=[],Zt=[],qt="undefined"!==typeof Uint8Array?Uint8Array:Array,Jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",te=0,ee=Jt.length;te<ee;++te)Ht[te]=Jt[te],Zt[Jt.charCodeAt(te)]=te;function ne(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function re(t){var e=ne(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function oe(t,e,n){return 3*(e+n)/4-n}function ie(t){var e,n,r=ne(t),o=r[0],i=r[1],s=new qt(oe(t,o,i)),a=0,l=i>0?o-4:o;for(n=0;n<l;n+=4)e=Zt[t.charCodeAt(n)]<<18|Zt[t.charCodeAt(n+1)]<<12|Zt[t.charCodeAt(n+2)]<<6|Zt[t.charCodeAt(n+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===i&&(e=Zt[t.charCodeAt(n)]<<2|Zt[t.charCodeAt(n+1)]>>4,s[a++]=255&e),1===i&&(e=Zt[t.charCodeAt(n)]<<10|Zt[t.charCodeAt(n+1)]<<4|Zt[t.charCodeAt(n+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e),s}function se(t){return Ht[t>>18&63]+Ht[t>>12&63]+Ht[t>>6&63]+Ht[63&t]}function ae(t,e,n){for(var r,o=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),o.push(se(r));return o.join("")}function le(t){for(var e,n=t.length,r=n%3,o=[],i=16383,s=0,a=n-r;s<a;s+=i)o.push(ae(t,s,s+i>a?a:s+i));return 1===r?(e=t[n-1],o.push(Ht[e>>2]+Ht[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(Ht[e>>10]+Ht[e>>4&63]+Ht[e<<2&63]+"=")),o.join("")}Zt["-".charCodeAt(0)]=62,Zt["_".charCodeAt(0)]=63;var ue={
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
read:function(t,e,n,r,o){var i,s,a=8*o-r-1,l=(1<<a)-1,u=l>>1,c=-7,f=n?o-1:0,d=n?-1:1,h=t[e+f];for(f+=d,i=h&(1<<-c)-1,h>>=-c,c+=a;c>0;i=256*i+t[e+f],f+=d,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=r;c>0;s=256*s+t[e+f],f+=d,c-=8);if(0===i)i=1-u;else{if(i===l)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),i-=u}return(h?-1:1)*s*Math.pow(2,i-r)},write:function(t,e,n,r,o,i){var s,a,l,u=8*i-o-1,c=(1<<u)-1,f=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,w=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),e+=s+f>=1?d/l:d*Math.pow(2,1-f),e*l>=2&&(s++,l/=2),s+f>=c?(a=0,s=c):s+f>=1?(a=(e*l-1)*Math.pow(2,o),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;t[n+h]=255&a,h+=p,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[n+h]=255&s,h+=p,s/=256,u-=8);t[n+h-p]|=128*w}};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
(function(t){const e=Xt,n=ue,r="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50;const o=2147483647;function i(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}function s(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,n){if("number"===typeof t){if("string"===typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return l(t,e,n)}function l(t,e,n){if("string"===typeof t)return h(t,e);if(ArrayBuffer.isView(t))return w(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(it(t,ArrayBuffer)||t&&it(t.buffer,ArrayBuffer))return y(t,e,n);if("undefined"!==typeof SharedArrayBuffer&&(it(t,SharedArrayBuffer)||t&&it(t.buffer,SharedArrayBuffer)))return y(t,e,n);if("number"===typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return a.from(r,e,n);const o=g(t);if(o)return o;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!==typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t,e,n){return u(t),t<=0?s(t):void 0!==e?"string"===typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}function f(t){return u(t),s(t<0?0:0|v(t))}function h(t,e){if("string"===typeof e&&""!==e||(e="utf8"),!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|b(t,e);let r=s(n);const o=r.write(t,e);return o!==n&&(r=r.slice(0,o)),r}function p(t){const e=t.length<0?0:0|v(t.length),n=s(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function w(t){if(it(t,Uint8Array)){const e=new Uint8Array(t);return y(e.buffer,e.byteOffset,e.byteLength)}return p(t)}function y(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,a.prototype),r}function g(t){if(a.isBuffer(t)){const e=0|v(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!==typeof t.length||st(t.length)?s(0):p(t):"Buffer"===t.type&&Array.isArray(t.data)?p(t.data):void 0}function v(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),a.alloc(+t)}function b(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||it(t,ArrayBuffer))return t.byteLength;if("string"!==typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return tt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return rt(t).length;default:if(o)return r?-1:tt(t).length;e=(""+e).toLowerCase(),o=!0}}function E(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return N(this,e,n);case"utf8":case"utf-8":return L(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return W(this,e,n);case"base64":return I(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function A(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _(t,e,n,r,o){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,st(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:T(t,e,n,r,o);if("number"===typeof e)return e&=255,"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):T(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function T(t,e,n,r,o){let i,s=1,a=t.length,l=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){let r=-1;for(i=n;i<a;i++)if(u(t,i)===u(e,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===l)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+l>a&&(n=a-l),i=n;i>=0;i--){let n=!0;for(let r=0;r<l;r++)if(u(t,i+r)!==u(e,r)){n=!1;break}if(n)return i}return-1}function R(t,e,n,r){n=Number(n)||0;const o=t.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;const i=e.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(st(r))return s;t[n+s]=r}return s}function S(t,e,n,r){return ot(tt(e,t.length-n),t,n,r)}function O(t,e,n,r){return ot(et(e),t,n,r)}function B(t,e,n,r){return ot(rt(e),t,n,r)}function C(t,e,n,r){return ot(nt(e,t.length-n),t,n,r)}function I(t,n,r){return 0===n&&r===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(n,r))}function L(t,e,n){n=Math.min(t.length,n);const r=[];let o=e;while(o<n){const e=t[o];let i=null,s=e>239?4:e>223?3:e>191?2:1;if(o+s<=n){let n,r,a,l;switch(s){case 1:e<128&&(i=e);break;case 2:n=t[o+1],128===(192&n)&&(l=(31&e)<<6|63&n,l>127&&(i=l));break;case 3:n=t[o+1],r=t[o+2],128===(192&n)&&128===(192&r)&&(l=(15&e)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:n=t[o+1],r=t[o+2],a=t[o+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(l=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,l>65535&&l<1114112&&(i=l))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return k(r)}t.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=i(),a.TYPED_ARRAY_SUPPORT||"undefined"===typeof d||"function"!==typeof d.error||d.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,e,n){return l(t,e,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(t,e,n){return c(t,e,n)},a.allocUnsafe=function(t){return f(t)},a.allocUnsafeSlow=function(t){return f(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==a.prototype},a.compare=function(t,e){if(it(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),it(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=a.allocUnsafe(e);let o=0;for(n=0;n<t.length;++n){let e=t[n];if(it(e,Uint8Array))o+e.length>r.length?(a.isBuffer(e)||(e=a.from(e)),e.copy(r,o)):Uint8Array.prototype.set.call(r,e,o);else{if(!a.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,o)}o+=e.length}return r},a.byteLength=b,a.prototype._isBuffer=!0,a.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)A(this,e,e+1);return this},a.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)A(this,e,e+3),A(this,e+1,e+2);return this},a.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)A(this,e,e+7),A(this,e+1,e+6),A(this,e+2,e+5),A(this,e+3,e+4);return this},a.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?L(this,0,t):E.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(t,e,n,r,o){if(it(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;let i=o-r,s=n-e;const l=Math.min(i,s),u=this.slice(r,o),c=t.slice(e,n);for(let a=0;a<l;++a)if(u[a]!==c[a]){i=u[a],s=c[a];break}return i<s?-1:s<i?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return _(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return _(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return R(this,t,e,n);case"utf8":case"utf-8":return S(this,t,e,n);case"ascii":case"latin1":case"binary":return O(this,t,e,n);case"base64":return B(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const U=4096;function k(t){const e=t.length;if(e<=U)return String.fromCharCode.apply(String,t);let n="",r=0;while(r<e)n+=String.fromCharCode.apply(String,t.slice(r,r+=U));return n}function M(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function W(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function N(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let o="";for(let i=e;i<n;++i)o+=at[t[i]];return o}function x(t,e,n){const r=t.slice(e,n);let o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function z(t,e,n,r,o,i){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r,o){X(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function j(t,e,n,r,o){X(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n+7]=i,i>>=8,t[n+6]=i,i>>=8,t[n+5]=i,i>>=8,t[n+4]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function K(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(t,e,r,o,i){return e=+e,r>>>=0,i||K(t,e,r,4),n.write(t,e,r,o,23,4),r+4}function $(t,e,r,o,i){return e=+e,r>>>=0,i||K(t,e,r,8),n.write(t,e,r,o,52,8),r+8}a.prototype.slice=function(t,e){const n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=this[t],o=1,i=0;while(++i<e&&(o*=256))r+=this[t+i]*o;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=this[t+--e],o=1;while(e>0&&(o*=256))r+=this[t+--e]*o;return r},a.prototype.readUint8=a.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=lt((function(t){t>>>=0,H(t,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),a.prototype.readBigUInt64BE=lt((function(t){t>>>=0,H(t,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),a.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=this[t],o=1,i=0;while(++i<e&&(o*=256))r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=e,o=1,i=this[t+--r];while(r>0&&(o*=256))i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},a.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=lt((function(t){t>>>=0,H(t,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),a.prototype.readBigInt64BE=lt((function(t){t>>>=0,H(t,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Z(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),a.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),n.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),n.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),n.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),n.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){const r=Math.pow(2,8*n)-1;z(this,t,e,n,r,0)}let o=1,i=0;this[e]=255&t;while(++i<n&&(o*=256))this[e+i]=t/o&255;return e+n},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){const r=Math.pow(2,8*n)-1;z(this,t,e,n,r,0)}let o=n-1,i=1;this[e+o]=255&t;while(--o>=0&&(i*=256))this[e+o]=t/i&255;return e+n},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigUInt64LE=lt((function(t,e=0){return D(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=lt((function(t,e=0){return j(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);z(this,t,e,n,r-1,-r)}let o=0,i=1,s=0;this[e]=255&t;while(++o<n&&(i*=256))t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/i|0)-s&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);z(this,t,e,n,r-1,-r)}let o=n-1,i=1,s=0;this[e+o]=255&t;while(--o>=0&&(i*=256))t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/i|0)-s&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||z(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigInt64LE=lt((function(t,e=0){return D(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=lt((function(t,e=0){return j(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return $(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return $(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const o=r-n;return this===t&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),o},a.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"===typeof t?t&=255:"boolean"===typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{const i=a.isBuffer(t)?t:a.from(t,r),s=i.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=i[o%s]}return this};const G={};function Y(t,e,n){G[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function Q(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function V(t,e,n){H(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||Z(e,t.length-(n+1))}function X(t,e,n,r,o,i){if(t>n||t<e){const r="bigint"===typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new G.ERR_OUT_OF_RANGE("value",o,t)}V(r,o,i)}function H(t,e){if("number"!==typeof t)throw new G.ERR_INVALID_ARG_TYPE(e,"number",t)}function Z(t,e,n){if(Math.floor(t)!==t)throw H(t,n),new G.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new G.ERR_BUFFER_OUT_OF_BOUNDS;throw new G.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}Y("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),Y("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),Y("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=Q(String(n)):"bigint"===typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=Q(o)),o+="n"),r+=` It must be ${e}. Received ${o}`,r}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function J(t){if(t=t.split("=")[0],t=t.trim().replace(q,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function tt(t,e){let n;e=e||1/0;const r=t.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function et(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function nt(t,e){let n,r,o;const i=[];for(let s=0;s<t.length;++s){if((e-=2)<0)break;n=t.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r)}return i}function rt(t){return e.toByteArray(J(t))}function ot(t,e,n,r){let o;for(o=0;o<r;++o){if(o+n>=e.length||o>=t.length)break;e[o+n]=t[o]}return o}function it(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function st(t){return t!==t}const at=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)e[r+o]=t[n]+t[o]}return e}();function lt(t){return"undefined"===typeof BigInt?ut:t}function ut(){throw new Error("BigInt not supported")}})(Vt),
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
function(t,e){var n=Vt,r=n.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function i(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=i),i.prototype=Object.create(r.prototype),o(r,i),i.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},i.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var o=r(t);return void 0!==e?"string"===typeof n?o.fill(e,n):o.fill(e):o.fill(0),o},i.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r(t)},i.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}}(Qt,Qt.exports);var ce=Qt.exports.Buffer;function fe(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var o=t.charAt(r),i=o.charCodeAt(0);if(255!==e[i])throw new TypeError(o+" is ambiguous");e[i]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function c(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=ce.from(e)),!ce.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";var n=0,r=0,o=0,i=e.length;while(o!==i&&0===e[o])o++,n++;var l=(i-o)*u+1>>>0,c=new Uint8Array(l);while(o!==i){for(var f=e[o],d=0,h=l-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*c[h]>>>0,c[h]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}var p=l-r;while(p!==l&&0===c[p])p++;for(var w=a.repeat(n);p<l;++p)w+=t.charAt(c[p]);return w}function f(t){if("string"!==typeof t)throw new TypeError("Expected String");if(0===t.length)return ce.alloc(0);var n=0,r=0,o=0;while(t[n]===a)r++,n++;var i=(t.length-n)*l+1>>>0,u=new Uint8Array(i);while(t[n]){var c=e[t.charCodeAt(n)];if(255===c)return;for(var f=0,d=i-1;(0!==c||f<o)&&-1!==d;d--,f++)c+=s*u[d]>>>0,u[d]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");o=f,n++}var h=i-o;while(h!==i&&0===u[h])h++;var p=ce.allocUnsafe(r+(i-h));p.fill(0,0,r);var w=r;while(h!==i)p[w++]=u[h++];return p}function d(t){var e=f(t);if(e)return e;throw new Error("Non-base"+s+" character")}return{encode:c,decodeUnsafe:f,decode:d}}var de=fe,he=de,pe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",we=he(pe);function ye(t){return"version"in t}var ge,ve,me,be,Ee,Ae,_e,Te,Re,Se,Oe,Be,Ce,Ie,Le=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,n):o?o.value=n:e.set(t,n),n},Ue=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};function ke(t){return"standard:connect"in t.features&&"standard:events"in t.features&&("solana:signAndSendTransaction"in t.features||"solana:signTransaction"in t.features)}class Me extends i.Ce{constructor({wallet:t}){super(),ge.add(this),ve.set(this,void 0),me.set(this,void 0),be.set(this,void 0),Ee.set(this,void 0),Ae.set(this,void 0),_e.set(this,void 0),Te.set(this,"undefined"===typeof window||"undefined"===typeof document?i.Ok.Unsupported:i.Ok.Installed),Oe.set(this,(t=>{if(!Ue(this,ve,"f")||!Ue(this,me,"f")||!("accounts"in t))return;const e=Ue(this,Ae,"f").accounts[0];if(!e)return Ue(this,ge,"m",Se).call(this),this.emit("error",new r.PQ),void this.emit("disconnect");if(e===Ue(this,ve,"f"))return;let n;try{n=new c.PublicKey(e.publicKey)}catch(o){return Ue(this,ge,"m",Se).call(this),this.emit("error",new r.Kd(null==o?void 0:o.message)),void this.emit("disconnect")}Ue(this,ge,"m",Re).call(this,e,n),this.emit("connect",n)})),Le(this,Ae,t,"f");const e="solana:signAndSendTransaction"in t.features?t.features["solana:signAndSendTransaction"].supportedTransactionVersions:t.features["solana:signTransaction"].supportedTransactionVersions;Le(this,_e,Yt(e,["legacy"])?null:new Set(e),"f"),Le(this,ve,null,"f"),Le(this,me,null,"f"),Le(this,be,!1,"f")}get supportedTransactionVersions(){return Ue(this,_e,"f")}get name(){return Ue(this,Ae,"f").name}get icon(){return Ue(this,Ae,"f").icon}get url(){return"https://github.com/wallet-standard"}get publicKey(){return Ue(this,me,"f")}get connecting(){return Ue(this,be,"f")}get readyState(){return Ue(this,Te,"f")}get wallet(){return Ue(this,Ae,"f")}get standard(){return!0}async connect(){try{if(this.connected||this.connecting)return;if(Ue(this,Te,"f")!==i.Ok.Installed)throw new r.AE;if(Le(this,be,!0,"f"),!Ue(this,Ae,"f").accounts.length)try{await Ue(this,Ae,"f").features["standard:connect"].connect()}catch(t){throw new r.Y6(null==t?void 0:t.message,t)}if(!Ue(this,Ae,"f").accounts.length)throw new r.fk;const e=Ue(this,Ae,"f").accounts[0];let n;try{n=new c.PublicKey(e.publicKey)}catch(t){throw new r.Kd(null==t?void 0:t.message,t)}Le(this,Ee,Ue(this,Ae,"f").features["standard:events"].on("change",Ue(this,Oe,"f")),"f"),Ue(this,ge,"m",Re).call(this,e,n),this.emit("connect",n)}catch(t){throw this.emit("error",t),t}finally{Le(this,be,!1,"f")}}async disconnect(){if("standard:disconnect"in Ue(this,Ae,"f").features)try{await Ue(this,Ae,"f").features["standard:disconnect"].disconnect()}catch(t){this.emit("error",new r.Y8(null==t?void 0:t.message,t))}Ue(this,ge,"m",Se).call(this),this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const i=Ue(this,ve,"f");if(!i)throw new r.kW;let s;if("solana:signAndSendTransaction"in Ue(this,Ae,"f").features)if(i.features.includes("solana:signAndSendTransaction"))s="solana:signAndSendTransaction";else{if(!("solana:signTransaction"in Ue(this,Ae,"f").features)||!i.features.includes("solana:signTransaction"))throw new r.fk;s="solana:signTransaction"}else{if(!("solana:signTransaction"in Ue(this,Ae,"f").features))throw new r.Ez;if(!i.features.includes("solana:signTransaction"))throw new r.fk;s="solana:signTransaction"}const a=Gt(e.rpcEndpoint);if(!i.chains.includes(a))throw new r.UF;try{const{signers:r,...o}=n;let l;if(ye(t)?((null==r?void 0:r.length)&&t.sign(r),l=t.serialize()):(t=await this.prepareTransaction(t,e,o),(null==r?void 0:r.length)&&t.partialSign(...r),l=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),"solana:signAndSendTransaction"===s){const[t]=await Ue(this,Ae,"f").features["solana:signAndSendTransaction"].signAndSendTransaction({account:i,chain:a,transaction:l,options:{preflightCommitment:zt(o.preflightCommitment||e.commitment),skipPreflight:o.skipPreflight,maxRetries:o.maxRetries,minContextSlot:o.minContextSlot}});return we.encode(t.signature)}{const[t]=await Ue(this,Ae,"f").features["solana:signTransaction"].signTransaction({account:i,chain:a,transaction:l,options:{preflightCommitment:zt(o.preflightCommitment||e.commitment),minContextSlot:o.minContextSlot}});return await e.sendRawTransaction(t.signedTransaction,{...o,preflightCommitment:zt(o.preflightCommitment||e.commitment)})}}catch(o){if(o instanceof r.m7)throw o;throw new r.UF(null==o?void 0:o.message,o)}}catch(o){throw this.emit("error",o),o}}}ve=new WeakMap,me=new WeakMap,be=new WeakMap,Ee=new WeakMap,Ae=new WeakMap,_e=new WeakMap,Te=new WeakMap,Oe=new WeakMap,ge=new WeakSet,Re=function(t,e){Le(this,ve,t,"f"),Le(this,me,e,"f"),(null==t?void 0:t.features.includes("solana:signTransaction"))?(this.signTransaction=Ue(this,ge,"m",Be),this.signAllTransactions=Ue(this,ge,"m",Ce)):(delete this.signTransaction,delete this.signAllTransactions),(null==t?void 0:t.features.includes("solana:signMessage"))?this.signMessage=Ue(this,ge,"m",Ie):delete this.signMessage},Se=function(){const t=Ue(this,Ee,"f");t&&(Le(this,Ee,void 0,"f"),t()),Ue(this,ge,"m",Re).call(this,null,null)},Be=async function(t){try{const n=Ue(this,ve,"f");if(!n)throw new r.kW;if(!("solana:signTransaction"in Ue(this,Ae,"f").features))throw new r.Ez;if(!n.features.includes("solana:signTransaction"))throw new r.fk;try{const e=await Ue(this,Ae,"f").features["solana:signTransaction"].signTransaction({account:n,transaction:ye(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}),r=e[0].signedTransaction;return ye(t)?c.VersionedTransaction.deserialize(r):c.Transaction.from(r)}catch(e){if(e instanceof r.m7)throw e;throw new r.z4(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}},Ce=async function(t){try{const n=Ue(this,ve,"f");if(!n)throw new r.kW;if(!("solana:signTransaction"in Ue(this,Ae,"f").features))throw new r.Ez;if(!n.features.includes("solana:signTransaction"))throw new r.z4;try{const e=await Ue(this,Ae,"f").features["solana:signTransaction"].signTransaction(...t.map((t=>({account:n,transaction:ye(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))));return t.map(((t,n)=>{const r=e[n].signedTransaction;return ye(t)?c.VersionedTransaction.deserialize(r):c.Transaction.from(r)}))}catch(e){throw new r.z4(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}},Ie=async function(t){try{const n=Ue(this,ve,"f");if(!n)throw new r.kW;if(!("solana:signMessage"in Ue(this,Ae,"f").features))throw new r.Ez;if(!n.features.includes("solana:signMessage"))throw new r.K3;try{const e=await Ue(this,Ae,"f").features["solana:signMessage"].signMessage({account:n,message:t});return e[0].signature}catch(e){throw new r.K3(null==e?void 0:e.message,e)}}catch(e){throw this.emit("error",e),e}};var We,Ne=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,n):o?o.value=n:e.set(t,n),n},xe=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};let Pe;const ze=new Set,De={};function je(){if(Pe)return Pe;if(Pe=Object.freeze({register:Ke,get:Fe,on:$e}),"undefined"===typeof window)return Pe;const t=Object.freeze({register:Ke});try{window.addEventListener("wallet-standard:register-wallet",(({detail:e})=>e(t)))}catch(e){d.error("wallet-standard:register-wallet event listener could not be added\n",e)}try{window.dispatchEvent(new Ye(t))}catch(e){d.error("wallet-standard:app-ready event could not be dispatched\n",e)}return Pe}function Ke(...t){var e;return t=t.filter((t=>!ze.has(t))),t.length?(t.forEach((t=>ze.add(t))),null==(e=De["register"])||e.forEach((e=>Ge((()=>e(...t))))),function(){var e;t.forEach((t=>ze.delete(t))),null==(e=De["unregister"])||e.forEach((e=>Ge((()=>e(...t)))))}):()=>{}}function Fe(){return[...ze]}function $e(t,e){var n;return(null==(n=De[t])?void 0:n.push(e))||(De[t]=[e]),function(){var n;De[t]=null==(n=De[t])?void 0:n.filter((t=>e!==t))}}function Ge(t){try{t()}catch(e){d.error(e)}}class Ye extends Event{constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),We.set(this,void 0),Ne(this,We,t,"f")}get detail(){return xe(this,We,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}function Qe(){if(Pe)return Pe;if(Pe=je(),"undefined"===typeof window)return Pe;const t=window.navigator.wallets||[];if(!Array.isArray(t))return d.error("window.navigator.wallets is not an array"),Pe;const{register:e}=Pe,n=(...t)=>t.forEach((t=>Ge((()=>t({register:e})))));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch(r){return d.error("window.navigator.wallets could not be set"),Pe}return n(...t),Pe}function Ve(t){const e=new Set,{get:n,on:r}=Qe(),o=(0,a.IJ)(Xe(n()));return(0,s.nT)((t=>{const e=[r("register",((...t)=>o.value=[...o.value,...Xe(t)])),r("unregister",((...t)=>o.value=o.value.filter((e=>t.some((t=>t===e.wallet))))))];t((()=>e.forEach((t=>t()))))})),(0,s.EW)((()=>[...o.value,...t.value.filter((({name:t})=>!o.value.some((e=>e.name===t))||(e.has(t)||(e.add(t),d.warn(`${t} was registered as a Standard Wallet. The Wallet Adapter for ${t} can be removed from your app.`)),!1)))]))}function Xe(t){return t.filter(ke).map((t=>new Me({wallet:t})))}function He(t,e){const n=async(n,o,i)=>{var s;const a=null==(s=t.value)?void 0:s.adapter;if(!a)throw e(new y);if(!a.connected)throw e(new r.kW,a);return await a.sendTransaction(n,o,i)},o=(0,s.EW)((()=>{var n;const o=null==(n=t.value)?void 0:n.adapter;if(o&&"signTransaction"in o)return async t=>{if(!o.connected)throw e(new r.kW);return await o.signTransaction(t)}})),i=(0,s.EW)((()=>{var n;const o=null==(n=t.value)?void 0:n.adapter;if(o&&"signAllTransactions"in o)return async t=>{if(!o.connected)throw e(new r.kW);return await o.signAllTransactions(t)}})),a=(0,s.EW)((()=>{var n;const o=null==(n=t.value)?void 0:n.adapter;if(o&&"signMessage"in o)return async t=>{if(!o.connected)throw e(new r.kW);return await o.signMessage(t)}}));return{sendTransaction:n,signTransaction:o,signAllTransactions:i,signMessage:a}}function Ze(t){const e=(0,a.KR)(!1);return"undefined"===typeof window||(0,s.nT)((n=>{if(t.value)return;const r=()=>e.value=!0;window.addEventListener("beforeunload",r),n((()=>window.removeEventListener("beforeunload",r)))})),e}function qe(t,e){const n=(0,a.IJ)(null),r=(0,a.KR)(null),o=(0,a.KR)(!1),l=(0,a.KR)(i.Ok.Unsupported),u=(0,s.EW)((()=>l.value===i.Ok.Installed||l.value===i.Ok.Loadable)),c=()=>{var t,e,s,a,u,c;r.value=null!=(e=null==(t=n.value)?void 0:t.adapter.publicKey)?e:null,o.value=null!=(a=null==(s=n.value)?void 0:s.adapter.connected)&&a,l.value=null!=(c=null==(u=n.value)?void 0:u.readyState)?c:i.Ok.Unsupported};return(0,s.nT)((()=>{var r;n.value=e.value&&null!=(r=t.value.find((({adapter:t})=>t.name===e.value)))?r:null,c()})),{wallet:n,publicKey:r,connected:o,readyState:l,ready:u,refreshWalletState:c}}function Je(t){const e=(0,a.IJ)([]);return(0,s.nT)((()=>{e.value=t.value.map((t=>({adapter:t,readyState:t.readyState})))})),e}We=new WeakMap;const tn=({wallets:t=[],autoConnect:e=!1,cluster:n="mainnet-beta",onError:o,localStorageKey:i="walletName"})=>{const s=(0,a.KR)(n),l=(0,a.KR)(!1),u=(0,a.KR)(!1),c=(0,a.IJ)(t),f=Ve(c),{isMobile:d,uriForAppIdentity:h}=Bt(f),p=Nt(f,d,h,s),w=Je(p),{name:g,isUsingMwaAdapterOnMobile:v,select:m,deselect:b}=Pt(i,d),{wallet:E,publicKey:A,connected:_,readyState:T,ready:R,refreshWalletState:S}=qe(w,g),O=Ze(v),B=Wt(O,o);xt(w),St(E,O,v,b,S,B);const C=Ot(e,E,v,l,_,R,b),{sendTransaction:I,signTransaction:L,signAllTransactions:U,signMessage:k}=He(E,B),M=async()=>{if(_.value||l.value||u.value)return;if(!E.value)throw B(new y);const t=E.value.adapter;if(!R.value)throw B(new r.AE,t);try{l.value=!0,await t.connect()}catch(e){throw b(),e}finally{l.value=!1}},W=async()=>{if(!u.value&&E.value)try{u.value=!0,await E.value.adapter.disconnect()}finally{u.value=!1}};return{wallets:w,autoConnect:C,cluster:s,wallet:E,publicKey:A,readyState:T,ready:R,connected:_,connecting:l,disconnecting:u,select:m,connect:M,disconnect:W,sendTransaction:I,signTransaction:L,signAllTransactions:U,signMessage:k}};let en=null;const nn=()=>{if(en)return en;throw new g("Wallet not initialized. Please use the `initWallet` method to initialize the wallet.")},rn=t=>{en=tn(t)},on=(0,s.pM)({props:{wallet:Object},setup(t){return(0,a.QW)(t)}}),sn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n},an={class:"swv-button-icon"},ln=["src","alt"];function un(t,e,n,r,o,i){return(0,s.uX)(),(0,s.CE)("i",an,[t.wallet?((0,s.uX)(),(0,s.CE)("img",{key:0,src:t.wallet.adapter.icon,alt:`${t.wallet.adapter.name} icon`},null,8,ln)):(0,s.Q3)("",!0)])}const cn=sn(on,[["render",un]]),fn=(0,s.pM)({components:{WalletIcon:cn},props:{disabled:Boolean},setup(t,{emit:e}){const{disabled:n}=(0,a.QW)(t),{wallet:r,connect:o,connecting:i,connected:l}=nn(),u=(0,s.EW)((()=>i.value?"Connecting ...":l.value?"Connected":r.value?"Connect":"Connect Wallet")),c=t=>{e("click",t),t.defaultPrevented||o().catch((()=>{}))},f={wallet:r,disabled:n,connecting:i,connected:l,content:u,onClick:c};return{scope:f,...f}}}),dn=["disabled"],hn=["textContent"];function pn(t,e,n,r,o,i){const a=(0,s.g2)("wallet-icon");return(0,s.RG)(t.$slots,"default",(0,l._B)((0,s.Ng)(t.scope)),(()=>[(0,s.Lk)("button",{class:"swv-button swv-button-trigger",disabled:t.disabled||!t.wallet||t.connecting||t.connected,onClick:e[0]||(e[0]=(...e)=>t.onClick&&t.onClick(...e))},[t.wallet?((0,s.uX)(),(0,s.Wv)(a,{key:0,wallet:t.wallet},null,8,["wallet"])):(0,s.Q3)("",!0),(0,s.Lk)("p",{textContent:(0,l.v_)(t.content)},null,8,hn)],8,dn)]))}const wn=sn(fn,[["render",pn]]);(0,s.pM)({components:{WalletIcon:cn},props:{disabled:Boolean},setup(t,{emit:e}){const{disabled:n}=(0,a.QW)(t),{wallet:r,disconnect:o,disconnecting:i}=nn(),l=(0,s.EW)((()=>i.value?"Disconnecting ...":r.value?"Disconnect":"Disconnect Wallet")),u=t=>{e("click",t),t.defaultPrevented||o().catch((()=>{}))},c={wallet:r,disconnecting:i,disabled:n,content:l,handleClick:u};return{scope:c,...c}}});const yn=(0,s.pM)({components:{WalletIcon:cn},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(t,{slots:e}){const{featured:n,container:r,logo:o,dark:l}=(0,a.QW)(t),u=(0,a.KR)(null),c=(0,a.KR)(!1),d=()=>c.value=!0,h=()=>c.value=!1,p=(0,s.EW)((()=>!!e.logo||!!o.value)),{wallets:w,select:y}=nn(),g=(0,s.EW)((()=>{const t=[],e=[],n=[];return w.value.forEach((r=>{r.readyState===i.Ok.NotDetected?e.push(r):r.readyState===i.Ok.Loadable?n.push(r):r.readyState===i.Ok.Installed&&t.push(r)})),[...t,...n,...e]})),v=(0,a.KR)(!1),m=(0,s.EW)((()=>g.value.slice(0,n.value))),b=(0,s.EW)((()=>g.value.slice(n.value))),E=(0,s.EW)((()=>v.value?w.value:m.value));(0,f.X2F)(u,h),(0,f.Ta5)("Escape",h),(0,f.Ta5)("Tab",(t=>{var e,n;const r=null!=(n=null==(e=u.value)?void 0:e.querySelectorAll("button"))?n:[],o=null==r?void 0:r[0],i=null==r?void 0:r[r.length-1];t.shiftKey&&document.activeElement===o&&i?(i.focus(),t.preventDefault()):!t.shiftKey&&document.activeElement===i&&o&&(o.focus(),t.preventDefault())})),(0,s.wB)(c,(t=>{t&&(0,s.dY)((()=>{var t,e,n;return null==(n=null==(e=null==(t=u.value)?void 0:t.querySelectorAll("button"))?void 0:e[0])?void 0:n.focus()}))}));const A=(0,f.K$F)(document.body);(0,s.wB)(c,(t=>A.value=t));const _={dark:l,logo:o,hasLogo:p,featured:n,container:r,modalPanel:u,modalOpened:c,openModal:d,closeModal:h,expandedWallets:v,walletsToDisplay:E,featuredWallets:m,hiddenWallets:b,selectWallet:y};return{scope:_,..._}}}),gn=(0,s.Lk)("div",{class:"swv-modal-overlay"},null,-1),vn={class:"swv-modal-container",ref:"modalPanel"},mn={key:0,class:"swv-modal-logo-wrapper"},bn=["src"],En=(0,s.Lk)("h1",{class:"swv-modal-title",id:"swv-modal-title"},"Connect Wallet",-1),An=(0,s.Lk)("svg",{width:"14",height:"14"},[(0,s.Lk)("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})],-1),_n=[An],Tn={class:"swv-modal-list"},Rn=["onClick"],Sn={class:"swv-button"},On=["textContent"],Bn={key:0,class:"swv-wallet-status"},Cn=["aria-expanded"],In=(0,s.Lk)("i",{class:"swv-button-icon"},[(0,s.Lk)("svg",{width:"11",height:"6",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"m5.938 5.73 4.28-4.126a.915.915 0 0 0 0-1.322 1 1 0 0 0-1.371 0L5.253 3.736 1.659.272a1 1 0 0 0-1.371 0A.93.93 0 0 0 0 .932c0 .246.1.48.288.662l4.28 4.125a.99.99 0 0 0 1.37.01z"})])],-1);function Ln(t,e,n,r,o,i){const a=(0,s.g2)("wallet-icon");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",{class:(0,l.C4)(t.dark?"swv-dark":"")},[(0,s.RG)(t.$slots,"default",(0,l._B)((0,s.Ng)(t.scope)))],2),t.modalOpened?((0,s.uX)(),(0,s.Wv)(s.Im,{key:0,to:t.container},[(0,s.Lk)("div",{"aria-labelledby":"swv-modal-title","aria-modal":"true",class:(0,l.C4)(["swv-modal",t.dark?"swv-dark":""]),role:"dialog"},[(0,s.RG)(t.$slots,"overlay",(0,l._B)((0,s.Ng)(t.scope)),(()=>[gn])),(0,s.Lk)("div",vn,[(0,s.RG)(t.$slots,"modal",(0,l._B)((0,s.Ng)(t.scope)),(()=>[(0,s.Lk)("div",{class:(0,l.C4)(["swv-modal-wrapper",{"swv-modal-wrapper-no-logo":!t.hasLogo}])},[t.hasLogo?((0,s.uX)(),(0,s.CE)("div",mn,[(0,s.RG)(t.$slots,"logo",(0,l._B)((0,s.Ng)(t.scope)),(()=>[(0,s.Lk)("img",{alt:"logo",class:"swv-modal-logo",src:t.logo},null,8,bn)]))])):(0,s.Q3)("",!0),En,(0,s.Lk)("button",{onClick:e[0]||(e[0]=(0,u.D$)(((...e)=>t.closeModal&&t.closeModal(...e)),["prevent"])),class:"swv-modal-button-close"},_n),(0,s.Lk)("ul",Tn,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.walletsToDisplay,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e.adapter.name,onClick:n=>{t.selectWallet(e.adapter.name),t.closeModal()}},[(0,s.Lk)("button",Sn,[(0,s.bF)(a,{wallet:e},null,8,["wallet"]),(0,s.Lk)("p",{textContent:(0,l.v_)(e.adapter.name)},null,8,On),"Installed"===e.readyState?((0,s.uX)(),(0,s.CE)("div",Bn," Detected ")):(0,s.Q3)("",!0)])],8,Rn)))),128))]),t.hiddenWallets.length>0?((0,s.uX)(),(0,s.CE)("button",{key:1,"aria-controls":"swv-modal-collapse","aria-expanded":t.expandedWallets,class:(0,l.C4)(["swv-button swv-modal-collapse-button",{"swv-modal-collapse-button-active":t.expandedWallets}]),onClick:e[1]||(e[1]=e=>t.expandedWallets=!t.expandedWallets)},[(0,s.eW)((0,l.v_)(t.expandedWallets?"Less":"More")+" options ",1),In],10,Cn)):(0,s.Q3)("",!0)],2)]))],512)],2)],8,["to"])):(0,s.Q3)("",!0)],64)}const Un=sn(yn,[["render",Ln]]),kn=(0,s.pM)({components:{WalletConnectButton:wn,WalletIcon:cn,WalletModalProvider:Un},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(t){const{featured:e,container:n,logo:r,dark:o}=(0,a.QW)(t),{publicKey:i,wallet:l,disconnect:u}=nn(),c=(0,a.KR)(),d=(0,a.KR)(!1),h=()=>{d.value=!0},p=()=>{d.value=!1};(0,f.X2F)(c,p);const w=(0,s.EW)((()=>{var t;return null==(t=i.value)?void 0:t.toBase58()})),y=(0,s.EW)((()=>l.value&&w.value?w.value.slice(0,4)+".."+w.value.slice(-4):null)),{copy:g,copied:v,isSupported:m}=(0,f.iDZ)(),b=()=>w.value&&g(w.value),E={featured:e,container:n,logo:r,dark:o,wallet:l,publicKey:i,publicKeyTrimmed:y,publicKeyBase58:w,canCopy:m,addressCopied:v,dropdownPanel:c,dropdownOpened:d,openDropdown:h,closeDropdown:p,copyAddress:b,disconnect:u};return{scope:E,...E}}}),Mn=["onClick"],Wn={key:2,class:"swv-dropdown"},Nn=["aria-expanded","title"],xn=["textContent"],Pn=["onClick"];function zn(t,e,n,r,o,i){const a=(0,s.g2)("wallet-connect-button"),u=(0,s.g2)("wallet-icon"),c=(0,s.g2)("wallet-modal-provider");return(0,s.uX)(),(0,s.Wv)(c,{featured:t.featured,container:t.container,logo:t.logo,dark:t.dark},{default:(0,s.k6)((n=>[(0,s.RG)(t.$slots,"default",(0,l._B)((0,s.Ng)({...n,...t.scope})),(()=>[t.wallet?t.publicKeyBase58?((0,s.uX)(),(0,s.CE)("div",Wn,[(0,s.RG)(t.$slots,"dropdown-button",(0,l._B)((0,s.Ng)({...n,...t.scope})),(()=>[(0,s.Lk)("button",{class:"swv-button swv-button-trigger",style:(0,l.Tr)({pointerEvents:t.dropdownOpened?"none":"auto"}),"aria-expanded":t.dropdownOpened,title:t.publicKeyBase58,onClick:e[0]||(e[0]=(...e)=>t.openDropdown&&t.openDropdown(...e))},[(0,s.bF)(u,{wallet:t.wallet},null,8,["wallet"]),(0,s.Lk)("p",{textContent:(0,l.v_)(t.publicKeyTrimmed)},null,8,xn)],12,Nn)])),(0,s.RG)(t.$slots,"dropdown",(0,l._B)((0,s.Ng)({...n,...t.scope})),(()=>[(0,s.Lk)("ul",{"aria-label":"dropdown-list",class:(0,l.C4)(["swv-dropdown-list",{"swv-dropdown-list-active":t.dropdownOpened}]),ref:"dropdownPanel",role:"menu"},[(0,s.RG)(t.$slots,"dropdown-list",(0,l._B)((0,s.Ng)({...n,...t.scope})),(()=>[t.canCopy?((0,s.uX)(),(0,s.CE)("li",{key:0,onClick:e[1]||(e[1]=(...e)=>t.copyAddress&&t.copyAddress(...e)),class:"swv-dropdown-list-item",role:"menuitem"},(0,l.v_)(t.addressCopied?"Copied":"Copy address"),1)):(0,s.Q3)("",!0),(0,s.Lk)("li",{onClick:e=>{n.openModal(),t.closeDropdown()},class:"swv-dropdown-list-item",role:"menuitem"}," Change wallet ",8,Pn),(0,s.Lk)("li",{onClick:e[2]||(e[2]=e=>{t.disconnect(),t.closeDropdown()}),class:"swv-dropdown-list-item",role:"menuitem"}," Disconnect ")]))],2)]))])):((0,s.uX)(),(0,s.Wv)(a,{key:1})):((0,s.uX)(),(0,s.CE)("button",{key:0,class:"swv-button swv-button-trigger",onClick:n.openModal}," Select Wallet ",8,Mn))]))])),overlay:(0,s.k6)((e=>[(0,s.RG)(t.$slots,"modal-overlay",(0,l._B)((0,s.Ng)({...e,...t.scope})))])),modal:(0,s.k6)((e=>[(0,s.RG)(t.$slots,"modal",(0,l._B)((0,s.Ng)({...e,...t.scope})))])),_:3},8,["featured","container","logo","dark"])}const Dn=sn(kn,[["render",zn]])}}]);
//# sourceMappingURL=6659.438fa20e.js.map