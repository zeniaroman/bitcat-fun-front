"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[5127],{71241:function(t,a){a.A=(t,a)=>{const e=t.__vccOpts||t;for(const[n,s]of a)e[n]=s;return e}},5127:function(t,a,e){e.r(a),e.d(a,{default:function(){return yt}});var n=e(56768),s=e(24232);const r={class:"nft-view"},i={class:"nft-view__container"},l={key:0,class:"nft-view__loader"},c={key:1,class:"nft-view__error"},d={class:"nft-view__error-message"},o={key:2,class:"nft-card"},f={class:"nft-card__header"},_={class:"nft-card__title"},u={class:"nft-card__date"},k={class:"nft-card__content"},p={class:"nft-card__image-wrapper"},v={class:"nft-card__image-container"},m=["src","alt"],h={class:"nft-card__metadata"},L={key:0,class:"nft-card__metadata-not-available"},y={key:1,class:"nft-card__metadata-loading"},g={key:2,class:"nft-card__metadata-error"},b={key:0,class:"nft-card__metadata-section"},w={class:"nft-card__description"},C={key:1,class:"nft-card__metadata-section"},E={class:"nft-card__attributes"},x={class:"nft-card__attribute-trait"},X={class:"nft-card__attribute-value"},F={key:0,class:"nft-card__attribute-max-value"},T={class:"nft-card__details"},A={class:"nft-card__section"},D={class:"nft-card__info-list"},N={class:"nft-card__info-item"},W={class:"nft-card__info-value-container"},S={key:0,class:"nft-card__info-item"},K={class:"nft-card__info-value-container"},P={key:1,class:"nft-card__info-item"},R=["href"],$={key:2,class:"nft-card__info-item"},U=["href"],I={key:3,class:"nft-card__info-item"},M={class:"nft-card__info-item"},Q={class:"nft-card__section nft-card__section--links"},H={class:"nft-card__links"},V=["href"],q=["href"],O=["href"],j=["href"],B={class:"nft-card__section nft-card__section--rental-history"},J={key:3,class:"nft-view__not-found"};function z(t,a,e,z,G,Z){const Y=(0,n.g2)("router-link"),tt=(0,n.g2)("NftRentalHistory");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("div",i,[G.loading?((0,n.uX)(),(0,n.CE)("div",l,a[0]||(a[0]=[(0,n.Lk)("div",{class:"nft-view__spinner"},null,-1)]))):G.error?((0,n.uX)(),(0,n.CE)("div",c,[a[1]||(a[1]=(0,n.Lk)("h2",{class:"nft-view__error-title"},"Error",-1)),(0,n.Lk)("p",d,(0,s.v_)(G.error),1)])):G.nft?((0,n.uX)(),(0,n.CE)("div",o,[(0,n.Lk)("div",f,[(0,n.Lk)("h1",_,(0,s.v_)(G.metadata&&G.metadata.name?G.metadata.name:G.nft.name),1),(0,n.Lk)("p",u,"Created: "+(0,s.v_)(Z.formatDate(G.nft.createdAt)),1)]),(0,n.Lk)("div",k,[(0,n.Lk)("div",p,[(0,n.Lk)("div",v,[(0,n.Lk)("img",{src:G.nft.imageUri,alt:G.nft.name,class:"nft-card__image"},null,8,m)]),(0,n.Lk)("div",h,[G.nft.metadataUri?G.metadataLoading?((0,n.uX)(),(0,n.CE)("div",y,a[3]||(a[3]=[(0,n.Lk)("div",{class:"nft-card__metadata-spinner"},null,-1),(0,n.Lk)("p",null,"Loading metadata...",-1)]))):G.metadataError?((0,n.uX)(),(0,n.CE)("div",g,[(0,n.Lk)("p",null,(0,s.v_)(G.metadataError),1)])):G.metadata?((0,n.uX)(),(0,n.CE)(n.FK,{key:3},[G.metadata.description?((0,n.uX)(),(0,n.CE)("div",b,[a[4]||(a[4]=(0,n.Lk)("h3",{class:"nft-card__section-title"},"Description",-1)),(0,n.Lk)("p",w,(0,s.v_)(G.metadata.description),1)])):(0,n.Q3)("",!0),G.metadata.attributes&&G.metadata.attributes.length>0?((0,n.uX)(),(0,n.CE)("div",C,[a[5]||(a[5]=(0,n.Lk)("h3",{class:"nft-card__section-title"},"Attributes",-1)),(0,n.Lk)("div",E,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(G.metadata.attributes,((t,a)=>((0,n.uX)(),(0,n.CE)("div",{class:"nft-card__attribute",key:a},[(0,n.Lk)("span",x,(0,s.v_)(t.trait_type),1),(0,n.Lk)("span",X,[(0,n.eW)((0,s.v_)(t.value)+" ",1),t.max_value?((0,n.uX)(),(0,n.CE)("span",F,"/"+(0,s.v_)(t.max_value),1)):(0,n.Q3)("",!0)])])))),128))])])):(0,n.Q3)("",!0)],64)):(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",L,a[2]||(a[2]=[(0,n.Lk)("p",null,"Metadata information is not available for this NFT.",-1)])))])]),(0,n.Lk)("div",T,[(0,n.Lk)("div",A,[a[20]||(a[20]=(0,n.Lk)("h3",{class:"nft-card__section-title"},"Asset Details",-1)),(0,n.Lk)("div",D,[(0,n.Lk)("div",N,[a[6]||(a[6]=(0,n.Lk)("span",{class:"nft-card__info-label"},"Asset Public Key",-1)),(0,n.Lk)("div",W,[(0,n.Lk)("span",{class:"nft-card__info-value nft-card__info-value--code",ref:"assetPublicKey"},(0,s.v_)(G.nft.assetPublicKey),513)])]),a[14]||(a[14]=(0,n.Lk)("div",{class:"nft-card__info-item"},[(0,n.Lk)("span",{class:"nft-card__info-label"},"Authority"),(0,n.Lk)("div",{class:"nft-card__info-value-container"},[(0,n.Lk)("span",{class:"nft-card__info-value nft-card__info-value--code"},"bitcat5mMocyMZJWmiJ62T8gtFWGrRDr99Nz1bXR3ud")])],-1)),G.nft.txSignature?((0,n.uX)(),(0,n.CE)("div",S,[a[7]||(a[7]=(0,n.Lk)("span",{class:"nft-card__info-label"},"Transaction Signature",-1)),(0,n.Lk)("div",K,[(0,n.Lk)("span",{class:"nft-card__info-value nft-card__info-value--code",ref:"txSignature"},(0,s.v_)(G.nft.txSignature),513)])])):(0,n.Q3)("",!0),G.nft.metadataUri?((0,n.uX)(),(0,n.CE)("div",P,[a[9]||(a[9]=(0,n.Lk)("span",{class:"nft-card__info-label"},"Metadata URI",-1)),(0,n.Lk)("a",{href:G.nft.metadataUri,target:"_blank",class:"nft-card__link nft-card__link--uri"},[(0,n.eW)((0,s.v_)(G.nft.metadataUri)+" ",1),a[8]||(a[8]=(0,n.Lk)("i",{class:"fas fa-external-link-alt nft-card__link-icon"},null,-1))],8,R)])):(0,n.Q3)("",!0),G.nft.postId?((0,n.uX)(),(0,n.CE)("div",$,[a[11]||(a[11]=(0,n.Lk)("span",{class:"nft-card__info-label"},"Twitter Post ID",-1)),(0,n.Lk)("a",{href:`https://twitter.com/i/web/status/${G.nft.postId}`,target:"_blank",class:"nft-card__link"},[(0,n.eW)((0,s.v_)(G.nft.postId)+" ",1),a[10]||(a[10]=(0,n.Lk)("i",{class:"fas fa-external-link-alt nft-card__link-icon"},null,-1))],8,U)])):(0,n.Q3)("",!0),G.nft.postId?((0,n.uX)(),(0,n.CE)("div",I,[a[12]||(a[12]=(0,n.Lk)("span",{class:"nft-card__info-label"},"Minted for",-1)),(0,n.bF)(Y,{to:`/player-nfts/${G.nft.userTag}`,class:"nft-card__link"},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(G.nft.userTag),1)])),_:1},8,["to"])])):(0,n.Q3)("",!0),(0,n.Lk)("div",M,[a[13]||(a[13]=(0,n.Lk)("span",{class:"nft-card__info-label"},"Status",-1)),(0,n.Lk)("span",{class:(0,s.C4)(["nft-card__status",{"nft-card__status--completed":"completed"===G.nft.status,"nft-card__status--pending":"pending"===G.nft.status,"nft-card__status--failed":"failed"===G.nft.status}])},(0,s.v_)(G.nft.status.charAt(0).toUpperCase()+G.nft.status.slice(1)),3)])]),(0,n.Lk)("div",Q,[a[19]||(a[19]=(0,n.Lk)("h3",{class:"nft-card__section-title"},"External Links",-1)),(0,n.Lk)("div",H,[(0,n.Lk)("a",{href:`https://explorer.solana.com/address/${G.nft.assetPublicKey}?cluster=mainnet`,target:"_blank",class:"nft-card__external-link"},a[15]||(a[15]=[(0,n.Lk)("i",{class:"fas fa-external-link-alt nft-card__external-link-icon"},null,-1),(0,n.eW)(" View on Solana Explorer ")]),8,V),(0,n.Lk)("a",{href:`https://core.metaplex.com/explorer/${G.nft.assetPublicKey}`,target:"_blank",class:"nft-card__external-link"},a[16]||(a[16]=[(0,n.Lk)("i",{class:"fas fa-external-link-alt nft-card__external-link-icon"},null,-1),(0,n.eW)(" View on Metaplex ")]),8,q),(0,n.Lk)("a",{href:`https://solscan.io/token/${G.nft.assetPublicKey}`,target:"_blank",class:"nft-card__external-link"},a[17]||(a[17]=[(0,n.Lk)("i",{class:"fas fa-external-link-alt nft-card__external-link-icon"},null,-1),(0,n.eW)(" View on Solscan ")]),8,O),(0,n.Lk)("a",{href:`https://www.tensor.trade/item/${G.nft.assetPublicKey}`,target:"_blank",class:"nft-card__external-link"},a[18]||(a[18]=[(0,n.Lk)("i",{class:"fas fa-external-link-alt nft-card__external-link-icon"},null,-1),(0,n.eW)(" View on Tensor ")]),8,j)])])])])]),(0,n.Lk)("div",B,[(0,n.bF)(tt,{mint:G.nft.assetPublicKey},null,8,["mint"])])])):((0,n.uX)(),(0,n.CE)("div",J,a[21]||(a[21]=[(0,n.Lk)("h2",{class:"nft-view__not-found-title"},"NFT Not Found",-1),(0,n.Lk)("p",{class:"nft-view__not-found-message"},"The requested NFT could not be found.",-1)])))])])}var G=e(94373);const Z={class:"nft-rental-history"},Y={key:0,class:"loading-container"},tt={key:1,class:"empty-state"},at={key:2,class:"rental-history-grid"},et={class:"rental-card-header"},nt={class:"rental-price"},st=["onClick"],rt={class:"rental-card-body"},it={class:"rental-detail-row"},lt={class:"rental-detail-row"},ct={class:"detail-label"};function dt(t,a,e,r,i,l){const c=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",Z,[a[6]||(a[6]=(0,n.Lk)("h3",{class:"section-title"},"Rental History",-1)),r.loading?((0,n.uX)(),(0,n.CE)("div",Y,a[0]||(a[0]=[(0,n.Lk)("div",{class:"loading-spinner"},null,-1),(0,n.Lk)("p",null,"Loading rental history...",-1)]))):0===r.rentalHistory.length?((0,n.uX)(),(0,n.CE)("div",tt,a[1]||(a[1]=[(0,n.Lk)("p",null,"This NFT has not been rented yet.",-1)]))):((0,n.uX)(),(0,n.CE)("div",at,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.rentalHistory,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t.id,class:"rental-card"},[(0,n.Lk)("div",et,[(0,n.Lk)("div",nt,[a[2]||(a[2]=(0,n.Lk)("i",{class:"fas fa-coins"},null,-1)),(0,n.eW)(" "+(0,s.v_)(r.formatPrice(t.price))+" SOL ",1)]),t.transaction?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:a=>r.viewTransaction(t.transaction),class:"view-tx-button"},a[3]||(a[3]=[(0,n.Lk)("i",{class:"fas fa-receipt"},null,-1),(0,n.eW)(" TX ")]),8,st)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",rt,[(0,n.Lk)("div",it,[a[4]||(a[4]=(0,n.Lk)("span",{class:"detail-label"},[(0,n.Lk)("i",{class:"fas fa-user"}),(0,n.eW)(" Rented By:")],-1)),(0,n.bF)(c,{to:`/player/${t.rentedBy}`,class:"user-link"},{default:(0,n.k6)((()=>[(0,n.eW)((0,s.v_)(t.rentedBy),1)])),_:2},1032,["to"])]),(0,n.Lk)("div",lt,[(0,n.Lk)("span",ct,[a[5]||(a[5]=(0,n.Lk)("i",{class:"fas fa-calendar-day"},null,-1)),(0,n.eW)(" "+(0,s.v_)(r.formatDate(t.startDate))+" for "+(0,s.v_)(t.days)+" day(s)",1)])])])])))),128))]))])}var ot=e(90144),ft=e(4249),_t=e(94348),ut={name:"NftRentalHistory",props:{mint:{type:String,required:!0}},setup(t){(0,ft.Pj)();const a=(0,ot.KR)(!0),e=(0,ot.KR)([]),s=async()=>{try{a.value=!0;const n=await G.A.get(`/nft-rental/nft/${t.mint}/history`);e.value=n.data.history||[]}catch(n){_t.error("Error fetching NFT rental history:",n)}finally{a.value=!1}},r=t=>parseFloat(t).toFixed(3),i=t=>{if(!t)return"";const a=new Date(t);return a.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},l=t=>{const a=`https://explorer.solana.com/tx/${t}`;window.open(a,"_blank")};return(0,n.sV)((()=>{t.mint&&s()})),{loading:a,rentalHistory:e,formatPrice:r,formatDate:i,viewTransaction:l}}},kt=e(71241);const pt=(0,kt.A)(ut,[["render",dt],["__scopeId","data-v-06554bf2"]]);var vt=pt,mt=e(94348),ht={name:"NftViewPage",components:{NftRentalHistory:vt},data(){return{nft:null,loading:!0,error:null,copied:null,metadata:null,metadataLoading:!1,metadataError:null}},created(){this.fetchNftData()},methods:{async fetchNftData(){this.loading=!0,this.error=null;try{const t=this.$route.params.assetPublicKey,a=await G.A.get(`/nft-bitcat/nft/${t}`);a.data.success?(this.nft=a.data.nft,this.nft.metadataUri&&this.fetchMetadata(this.nft.metadataUri)):this.error=a.data.message||"Failed to load NFT data"}catch(t){mt.error("Error fetching NFT data:",t),this.error=t.response?.data?.message||"An error occurred while fetching NFT data"}finally{this.loading=!1}},async fetchMetadata(t){this.metadataLoading=!0,this.metadataError=null;try{let e;try{e=await G.A.get(t,{headers:{Accept:"application/json"}})}catch(a){mt.warn("Direct metadata fetch failed, trying CORS proxy:",a);const n=`https://cors-anywhere.herokuapp.com/${t}`;e=await G.A.get(n,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}this.metadata=e.data,mt.log("Metadata loaded:",this.metadata)}catch(e){mt.error("Error fetching metadata:",e),this.metadataError="Failed to load metadata information. CORS policy might be blocking the request."}finally{this.metadataLoading=!1}},formatDate(t){if(!t)return"";const a=new Date(t);return a.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},copyToClipboard(t,a){navigator.clipboard.writeText(t).then((()=>{this.copied=a,this.$toast.success("Copied to clipboard!",{position:"top-right",duration:2e3}),setTimeout((()=>{this.copied=null}),2e3)})).catch((t=>{mt.error("Failed to copy text: ",t),this.$toast.error("Failed to copy to clipboard",{position:"top-right",duration:2e3})}))}}};const Lt=(0,kt.A)(ht,[["render",z],["__scopeId","data-v-5b068227"]]);var yt=Lt}}]);
//# sourceMappingURL=5127.5af8af3c.js.map