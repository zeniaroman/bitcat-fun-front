"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[6924],{71241:function(a,e){e.A=(a,e)=>{const t=a.__vccOpts||a;for(const[r,s]of e)t[r]=s;return t}},10587:function(a,e,t){t.d(e,{A:function(){return d}});var r=t(56768),s=t(24232);const l={class:"toast-content"};function i(a,e,t,i,n,c){return t.show?((0,r.uX)(),(0,r.CE)("div",{key:0,class:(0,s.C4)(["toast",`toast-${t.type}`])},[(0,r.Lk)("div",l,(0,s.v_)(t.message),1),(0,r.Lk)("button",{class:"toast-close",onClick:e[0]||(e[0]=(...a)=>c.close&&c.close(...a))},"×")],2)):(0,r.Q3)("",!0)}var n={name:"AppToast",props:{message:{type:String,default:""},type:{type:String,default:"info",validator:a=>["success","error","warning","info"].includes(a)},duration:{type:Number,default:3e3},show:{type:Boolean,default:!1}},emits:["close"],watch:{show(a){a&&this.duration>0&&(this.timer=setTimeout((()=>{this.close()}),this.duration))}},methods:{close(){this.timer&&clearTimeout(this.timer),this.$emit("close")}},beforeUnmount(){this.timer&&clearTimeout(this.timer)},data(){return{timer:null}}},c=t(71241);const o=(0,c.A)(n,[["render",i],["__scopeId","data-v-9f6ec8d0"]]);var d=o},26924:function(a,e,t){t.r(e),t.d(e,{default:function(){return ia}});var r=t(56768),s=t(24232);const l={class:"referrals-page-wrapper"},i={class:"referrals-page"},n={class:"page-header"},c={class:"rewards-section"},o={class:"rewards-info"},d={class:"rewards-balance"},u={class:"balance-value"},v={class:"rewards-percentage"},p={class:"percentage-value"},k={class:"referral-link-section"},f={class:"referral-link-container"},w=["value"],L={key:0},h={key:1},b={class:"referral-stats"},y={class:"stat-card"},g={class:"stat-value"},m={class:"stat-card"},A={class:"stat-value"},C={class:"withdraw-section"},T={class:"withdraw-card"},R={class:"withdraw-header"},B={class:"withdraw-amount"},E={class:"withdraw-info"},_={key:0,class:"withdraw-message"},P={class:"withdraw-actions"},W={class:"referrals-list"},F={key:0,class:"loading"},I={key:0},S={key:1},X={key:1,class:"no-referrals"},K={key:0},$={key:1},D={key:2,class:"referral-items"},x={class:"referral-info"},q={class:"referral-details"},O={class:"referral-tag"},Y={class:"referral-date"},Q={class:"referral-amount"},N={class:"referral-join-date"},U={class:"referral-actions"},G={key:1,class:"rewards-popup"},H={class:"rewards-popup-content"},M={class:"rewards-popup-header"},j={class:"rewards-popup-body"},z={class:"rewards-tiers"};function J(a,e,t,J,V,Z){const aa=(0,r.g2)("router-link"),ea=(0,r.g2)("AppToast");return(0,r.uX)(),(0,r.CE)("div",l,[(0,r.Lk)("div",i,[(0,r.Lk)("div",n,[e[9]||(e[9]=(0,r.Lk)("h1",null,"Referral Program",-1)),e[10]||(e[10]=(0,r.Lk)("p",null,"Share your referral link with friends and earn 1-5% rewards from their paid actions.",-1)),(0,r.Lk)("div",c,[(0,r.Lk)("div",o,[(0,r.Lk)("div",d,[e[5]||(e[5]=(0,r.Lk)("span",{class:"balance-label"},"Your BITCAT Balance:",-1)),(0,r.Lk)("span",u,(0,s.v_)(J.formatStakedAmount(J.bitcatBalance||0))+" BITCAT",1)]),(0,r.Lk)("div",v,[e[6]||(e[6]=(0,r.Lk)("span",{class:"percentage-label"},"Your Reward Rate:",-1)),(0,r.Lk)("span",p,(0,s.v_)(J.rewardPercentage)+"%",1)])]),(0,r.Lk)("button",{class:"rewards-details-button",onClick:e[0]||(e[0]=a=>J.showRewardsPopup=!0)},e[7]||(e[7]=[(0,r.Lk)("i",{class:"fas fa-info-circle"},null,-1),(0,r.eW)(" Rewards Details ")]))]),(0,r.Lk)("div",k,[(0,r.Lk)("div",f,[(0,r.Lk)("input",{type:"text",class:"referral-link",readonly:"",value:`https://solanabitcat.com/?r=${J.userTag||"guest"}`,ref:"referralLinkInput"},null,8,w),(0,r.Lk)("button",{class:"copy-button",onClick:e[1]||(e[1]=(...a)=>J.copyReferralLink&&J.copyReferralLink(...a))},[e[8]||(e[8]=(0,r.Lk)("i",{class:"fas fa-copy"},null,-1)),J.referralLinkCopied?((0,r.uX)(),(0,r.CE)("span",L,"Copied!")):((0,r.uX)(),(0,r.CE)("span",h,"Copy"))])])])]),(0,r.Lk)("div",b,[(0,r.Lk)("div",y,[e[11]||(e[11]=(0,r.Lk)("h3",null,"Total Referrals",-1)),(0,r.Lk)("div",g,(0,s.v_)(J.stats.totalReferrals),1)]),(0,r.Lk)("div",m,[e[12]||(e[12]=(0,r.Lk)("h3",null,"Available for Payment",-1)),(0,r.Lk)("div",A,(0,s.v_)((J.stats.totalAvailable/1e9).toFixed(6))+" SOL",1)])]),(0,r.Lk)("div",C,[(0,r.Lk)("div",T,[(0,r.Lk)("div",R,[e[13]||(e[13]=(0,r.Lk)("h3",null,"Withdraw Available Funds",-1)),(0,r.Lk)("div",B,(0,s.v_)((J.stats.totalAvailable/1e9).toFixed(6))+" SOL",1)]),(0,r.Lk)("div",E,[J.stats.totalAvailable<1e7?((0,r.uX)(),(0,r.CE)("div",_,e[14]||(e[14]=[(0,r.Lk)("i",{class:"fas fa-info-circle"},null,-1),(0,r.Lk)("span",null,"Minimum withdrawal amount is 0.01 SOL",-1)]))):(0,r.Q3)("",!0)]),(0,r.Lk)("div",P,[(0,r.Lk)("button",{class:"withdraw-button",onClick:e[2]||(e[2]=(...a)=>J.withdrawPayment&&J.withdrawPayment(...a))},(0,s.v_)(J.isWithdrawing?"Processing...":"Withdraw Funds"),1)])])]),(0,r.Lk)("div",W,[e[22]||(e[22]=(0,r.Lk)("h2",null,"Your Referrals",-1)),J.loading?((0,r.uX)(),(0,r.CE)("div",F,[J.isAuthenticated?((0,r.uX)(),(0,r.CE)("p",I,"Loading referrals...")):((0,r.uX)(),(0,r.CE)("p",S,[e[16]||(e[16]=(0,r.eW)("Please ")),(0,r.bF)(aa,{to:"/my"},{default:(0,r.k6)((()=>e[15]||(e[15]=[(0,r.eW)("Login")]))),_:1}),e[17]||(e[17]=(0,r.eW)(" to view your referrals"))]))])):0===J.referrals.length?((0,r.uX)(),(0,r.CE)("div",X,[J.isAuthenticated?((0,r.uX)(),(0,r.CE)("p",K,"You don't have any referrals yet. Share your referral link to start earning rewards!")):((0,r.uX)(),(0,r.CE)("p",$,[e[19]||(e[19]=(0,r.eW)("Please ")),(0,r.bF)(aa,{to:"/my"},{default:(0,r.k6)((()=>e[18]||(e[18]=[(0,r.eW)("Login")]))),_:1}),e[20]||(e[20]=(0,r.eW)(" to view your referrals"))]))])):((0,r.uX)(),(0,r.CE)("div",D,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(J.referrals,(a=>((0,r.uX)(),(0,r.CE)("div",{key:a.id,class:"referral-item"},[(0,r.Lk)("div",x,[(0,r.Lk)("div",q,[(0,r.Lk)("div",O,(0,s.v_)(a.referralTag),1),(0,r.Lk)("div",Y,"Last action: "+(0,s.v_)(J.formatDate(a.lastAction)),1),(0,r.Lk)("div",Q,"Available: "+(0,s.v_)((a.availableForPayment/1e9).toFixed(6))+" SOL",1),(0,r.Lk)("div",N,"Joined: "+(0,s.v_)(J.formatDate(a.createdAt)),1)])]),(0,r.Lk)("div",U,[(0,r.bF)(aa,{to:`/my/referral/${a.referralTag}`,class:"history-button"},{default:(0,r.k6)((()=>e[21]||(e[21]=[(0,r.eW)(" Referral Actions History ")]))),_:2},1032,["to"])])])))),128))]))])]),(0,r.Q3)("",!0),J.showRewardsPopup?((0,r.uX)(),(0,r.CE)("div",G,[(0,r.Lk)("div",H,[(0,r.Lk)("div",M,[e[26]||(e[26]=(0,r.Lk)("h2",null,"Referral Rewards Details",-1)),(0,r.Lk)("button",{class:"close-button",onClick:e[3]||(e[3]=a=>J.showRewardsPopup=!1)},"×")]),(0,r.Lk)("div",j,[e[32]||(e[32]=(0,r.Lk)("h3",null,"How Rewards Are Calculated",-1)),e[33]||(e[33]=(0,r.Lk)("p",null,"Your reward percentage depends on your BITCAT token balance:",-1)),(0,r.Lk)("div",z,[(0,r.Lk)("div",{class:(0,s.C4)(["tier",{active:J.bitcatBalance>=0&&J.bitcatBalance<=0}])},e[27]||(e[27]=[(0,r.Lk)("div",{class:"tier-header"},"Basic",-1),(0,r.Lk)("div",{class:"tier-percentage"},"1%",-1),(0,r.Lk)("div",{class:"tier-requirement"},"0 BITCAT",-1)]),2),(0,r.Lk)("div",{class:(0,s.C4)(["tier",{active:J.bitcatBalance>=1e3&&J.bitcatBalance<=1e4}])},e[28]||(e[28]=[(0,r.Lk)("div",{class:"tier-header"},"Bronze",-1),(0,r.Lk)("div",{class:"tier-percentage"},"2%",-1),(0,r.Lk)("div",{class:"tier-requirement"},"1000 BITCAT",-1)]),2),(0,r.Lk)("div",{class:(0,s.C4)(["tier",{active:J.bitcatBalance>=10001&&J.bitcatBalance<=5e4}])},e[29]||(e[29]=[(0,r.Lk)("div",{class:"tier-header"},"Silver",-1),(0,r.Lk)("div",{class:"tier-percentage"},"3%",-1),(0,r.Lk)("div",{class:"tier-requirement"},"10,000 BITCAT",-1)]),2),(0,r.Lk)("div",{class:(0,s.C4)(["tier",{active:J.bitcatBalance>=50001&&J.bitcatBalance<=1e5}])},e[30]||(e[30]=[(0,r.Lk)("div",{class:"tier-header"},"Gold",-1),(0,r.Lk)("div",{class:"tier-percentage"},"4%",-1),(0,r.Lk)("div",{class:"tier-requirement"},"50,000 BITCAT",-1)]),2),(0,r.Lk)("div",{class:(0,s.C4)(["tier",{active:J.bitcatBalance>=100001}])},e[31]||(e[31]=[(0,r.Lk)("div",{class:"tier-header"},"Platinum",-1),(0,r.Lk)("div",{class:"tier-percentage"},"5%",-1),(0,r.Lk)("div",{class:"tier-requirement"},"100,000 BITCAT",-1)]),2)]),e[34]||(e[34]=(0,r.Fv)('<h3 data-v-b41c2b18>Paid Actions That Generate Rewards</h3><ul class="rewards-actions" data-v-b41c2b18><li data-v-b41c2b18><span class="action-name" data-v-b41c2b18>When your referrals interact with: </span><span class="action-description bold" data-v-b41c2b18>Token launchpad, ATA Cashback</span><span class="action-description" data-v-b41c2b18>More Coming Soon. Additional paid actions will be added in the future</span></li></ul><div class="rewards-note" data-v-b41c2b18><p data-v-b41c2b18><strong data-v-b41c2b18>Note:</strong> To increase your reward percentage, you need to hold more BITCAT tokens in your connected wallet.</p></div>',3))])])])):(0,r.Q3)("",!0),(0,r.bF)(ea,{show:J.toast.show,message:J.toast.message,type:J.toast.type,onClose:e[4]||(e[4]=a=>J.toast.show=!1),duration:J.toast.duration},null,8,["show","message","type","duration"])])}var V=t(90144),Z=t(68881),aa=t(94373),ea=t(10587),ta=t(94348),ra={name:"UserReferralsPage",components:{AppToast:ea.A},setup(){const a=(0,r.EW)((()=>Z.A.getters.walletAddress)),e=(0,r.EW)((()=>Z.A.getters.userTag)),t=(0,r.EW)((()=>Z.A.getters.isAuthenticated)),s=(0,V.KR)([]),l=(0,V.KR)({totalReferrals:0,totalAvailable:0}),i=(0,V.KR)(!0),n=(0,V.KR)(null),c=(0,V.KR)(null),o=(0,V.KR)(!1),d=(0,V.KR)(0),u=(0,V.KR)(!1),v=(0,r.EW)((()=>d.value>=100001?5:d.value>=50001?4:d.value>=10001?3:d.value>=1e3?2:1)),p=async()=>{if(a.value&&a.value)try{const e=await aa.A.get(`/dapp/get-bitcat-balance/${a.value}`);e.data&&void 0!==e.data.balance&&(d.value=e.data.balance)}catch(e){ta.error("Error fetching BITCAT balance:",e)}},k=(0,r.EW)((()=>a=>a?a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0"));(0,r.wB)((()=>a.value),(a=>{a?p():d.value=0}));const f=(0,V.Kh)({show:!1,message:"",type:"success",duration:5e3}),w=async()=>{if(t.value)try{i.value=!0;const a=await aa.A.get(`/referrals/${e.value}`);a.data.success&&(s.value=a.data.referrals);const t=await aa.A.get(`/referrals/${e.value}/stats`);t.data.success&&(l.value=t.data.stats)}catch(a){ta.error("Error loading referrals:",a),y("Failed to load referrals","error")}finally{i.value=!1}},L=(0,V.KR)(!1),h=async()=>{try{L.value=!0;const a=await aa.A.post("/referrals/withdraw-payment");a.data.success&&(y(a.data.message,"success"),w())}catch(a){y(a.response?.data?.error||"Failed to withdraw payment","error")}finally{L.value=!1}},b=a=>{if(!a)return"Never";const e=new Date(a);return e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},y=(a,e="success")=>{f.message=a,f.type=e,f.show=!0},g=async()=>{try{const a=`https://solanabitcat.com/?r=${e.value}`;await navigator.clipboard.writeText(a),o.value=!0,setTimeout((()=>{o.value=!1}),2e3),y("Referral link copied to clipboard","success")}catch(a){ta.error("Failed to copy text: ",a),y("Failed to copy referral link","error")}};return(0,r.sV)((()=>{t.value&&w(),a.value&&p()})),{userTag:e,referrals:s,stats:l,loading:i,processingPayment:n,isWithdrawing:L,toast:f,referralLinkInput:c,referralLinkCopied:o,formatDate:b,withdrawPayment:h,copyReferralLink:g,isAuthenticated:t,bitcatBalance:d,rewardPercentage:v,showRewardsPopup:u,formatStakedAmount:k}}},sa=t(71241);const la=(0,sa.A)(ra,[["render",J],["__scopeId","data-v-b41c2b18"]]);var ia=la}}]);
//# sourceMappingURL=6924.db3ca41e.js.map