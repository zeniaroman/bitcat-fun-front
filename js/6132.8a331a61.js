"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[6132],{71241:function(e,a){a.A=(e,a)=>{const t=e.__vccOpts||e;for(const[r,s]of a)t[r]=s;return t}},10587:function(e,a,t){t.d(a,{A:function(){return d}});var r=t(56768),s=t(24232);const l={class:"toast-content"};function i(e,a,t,i,n,c){return t.show?((0,r.uX)(),(0,r.CE)("div",{key:0,class:(0,s.C4)(["toast",`toast-${t.type}`])},[(0,r.Lk)("div",l,(0,s.v_)(t.message),1),(0,r.Lk)("button",{class:"toast-close",onClick:a[0]||(a[0]=(...e)=>c.close&&c.close(...e))},"×")],2)):(0,r.Q3)("",!0)}var n={name:"AppToast",props:{message:{type:String,default:""},type:{type:String,default:"info",validator:e=>["success","error","warning","info"].includes(e)},duration:{type:Number,default:3e3},show:{type:Boolean,default:!1}},emits:["close"],watch:{show(e){e&&this.duration>0&&(this.timer=setTimeout((()=>{this.close()}),this.duration))}},methods:{close(){this.timer&&clearTimeout(this.timer),this.$emit("close")}},beforeUnmount(){this.timer&&clearTimeout(this.timer)},data(){return{timer:null}}},c=t(71241);const o=(0,c.A)(n,[["render",i],["__scopeId","data-v-9f6ec8d0"]]);var d=o},66132:function(e,a,t){t.r(a),t.d(a,{default:function(){return ie}});var r=t(56768),s=t(24232);const l={class:"referrals-page-wrapper"},i={class:"referrals-page"},n={class:"page-header"},c={class:"rewards-section"},o={class:"rewards-info"},d={class:"rewards-balance"},u={class:"balance-value"},v={class:"rewards-percentage"},p={class:"percentage-value"},k={class:"referral-link-section"},f={class:"referral-link-container"},w=["value"],L={key:0},h={key:1},y={class:"referral-stats"},g={class:"stat-card"},m={class:"stat-value"},b={class:"stat-card"},A={class:"stat-value"},C={class:"withdraw-section"},T={class:"withdraw-card"},R={class:"withdraw-header"},B={class:"withdraw-amount"},E={class:"withdraw-info"},_={key:0,class:"withdraw-message"},P={class:"withdraw-actions"},W={class:"referrals-list"},F={key:0,class:"loading"},I={key:0},S={key:1},X={key:1,class:"no-referrals"},K={key:0},$={key:1},D={key:2,class:"referral-items"},x={class:"referral-info"},q={class:"referral-details"},O={class:"referral-tag"},Y={class:"referral-date"},Q={class:"referral-amount"},N={class:"referral-join-date"},U={class:"referral-actions"},G={key:1,class:"rewards-popup"},H={class:"rewards-popup-content"},M={class:"rewards-popup-header"},j={class:"rewards-popup-body"},z={class:"rewards-tiers"};function J(e,a,t,J,V,Z){const ee=(0,r.g2)("router-link"),ae=(0,r.g2)("AppToast");return(0,r.uX)(),(0,r.CE)("div",l,[(0,r.Lk)("div",i,[(0,r.Lk)("div",n,[a[9]||(a[9]=(0,r.Lk)("h1",null,"Referral Program",-1)),a[10]||(a[10]=(0,r.Lk)("p",null,"Share your referral link with friends and earn 1-5% rewards from their paid actions.",-1)),(0,r.Lk)("div",c,[(0,r.Lk)("div",o,[(0,r.Lk)("div",d,[a[5]||(a[5]=(0,r.Lk)("span",{class:"balance-label"},"Your BITCAT Balance:",-1)),(0,r.Lk)("span",u,(0,s.v_)(J.formatStakedAmount(J.bitcatBalance||0))+" BITCAT",1)]),(0,r.Lk)("div",v,[a[6]||(a[6]=(0,r.Lk)("span",{class:"percentage-label"},"Your Reward Rate:",-1)),(0,r.Lk)("span",p,(0,s.v_)(J.rewardPercentage)+"%",1)])]),(0,r.Lk)("button",{class:"rewards-details-button",onClick:a[0]||(a[0]=e=>J.showRewardsPopup=!0)},a[7]||(a[7]=[(0,r.Lk)("i",{class:"fas fa-info-circle"},null,-1),(0,r.eW)(" Rewards Details ")]))]),(0,r.Lk)("div",k,[(0,r.Lk)("div",f,[(0,r.Lk)("input",{type:"text",class:"referral-link",readonly:"",value:`https://solanabitcat.com/?r=${J.userTag||"guest"}`,ref:"referralLinkInput"},null,8,w),(0,r.Lk)("button",{class:"copy-button",onClick:a[1]||(a[1]=(...e)=>J.copyReferralLink&&J.copyReferralLink(...e))},[a[8]||(a[8]=(0,r.Lk)("i",{class:"fas fa-copy"},null,-1)),J.referralLinkCopied?((0,r.uX)(),(0,r.CE)("span",L,"Copied!")):((0,r.uX)(),(0,r.CE)("span",h,"Copy"))])])])]),(0,r.Lk)("div",y,[(0,r.Lk)("div",g,[a[11]||(a[11]=(0,r.Lk)("h3",null,"Total Referrals",-1)),(0,r.Lk)("div",m,(0,s.v_)(J.stats.totalReferrals),1)]),(0,r.Lk)("div",b,[a[12]||(a[12]=(0,r.Lk)("h3",null,"Available for Payment",-1)),(0,r.Lk)("div",A,(0,s.v_)((J.stats.totalAvailable/1e9).toFixed(6))+" SOL",1)])]),(0,r.Lk)("div",C,[(0,r.Lk)("div",T,[(0,r.Lk)("div",R,[a[13]||(a[13]=(0,r.Lk)("h3",null,"Withdraw Available Funds",-1)),(0,r.Lk)("div",B,(0,s.v_)((J.stats.totalAvailable/1e9).toFixed(6))+" SOL",1)]),(0,r.Lk)("div",E,[J.stats.totalAvailable<1e7?((0,r.uX)(),(0,r.CE)("div",_,a[14]||(a[14]=[(0,r.Lk)("i",{class:"fas fa-info-circle"},null,-1),(0,r.Lk)("span",null,"Minimum withdrawal amount is 0.01 SOL",-1)]))):(0,r.Q3)("",!0)]),(0,r.Lk)("div",P,[(0,r.Lk)("button",{class:"withdraw-button",onClick:a[2]||(a[2]=(...e)=>J.withdrawPayment&&J.withdrawPayment(...e))},(0,s.v_)(J.isWithdrawing?"Processing...":"Withdraw Funds"),1)])])]),(0,r.Lk)("div",W,[a[22]||(a[22]=(0,r.Lk)("h2",null,"Your Referrals",-1)),J.loading?((0,r.uX)(),(0,r.CE)("div",F,[J.isAuthenticated?((0,r.uX)(),(0,r.CE)("p",I,"Loading referrals...")):((0,r.uX)(),(0,r.CE)("p",S,[a[16]||(a[16]=(0,r.eW)("Please ")),(0,r.bF)(ee,{to:"/my"},{default:(0,r.k6)((()=>a[15]||(a[15]=[(0,r.eW)("Login")]))),_:1}),a[17]||(a[17]=(0,r.eW)(" to view your referrals"))]))])):0===J.referrals.length?((0,r.uX)(),(0,r.CE)("div",X,[J.isAuthenticated?((0,r.uX)(),(0,r.CE)("p",K,"You don't have any referrals yet. Share your referral link to start earning rewards!")):((0,r.uX)(),(0,r.CE)("p",$,[a[19]||(a[19]=(0,r.eW)("Please ")),(0,r.bF)(ee,{to:"/my"},{default:(0,r.k6)((()=>a[18]||(a[18]=[(0,r.eW)("Login")]))),_:1}),a[20]||(a[20]=(0,r.eW)(" to view your referrals"))]))])):((0,r.uX)(),(0,r.CE)("div",D,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(J.referrals,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"referral-item"},[(0,r.Lk)("div",x,[(0,r.Lk)("div",q,[(0,r.Lk)("div",O,(0,s.v_)(e.referralTag),1),(0,r.Lk)("div",Y,"Last action: "+(0,s.v_)(J.formatDate(e.lastAction)),1),(0,r.Lk)("div",Q,"Available: "+(0,s.v_)((e.availableForPayment/1e9).toFixed(6))+" SOL",1),(0,r.Lk)("div",N,"Joined: "+(0,s.v_)(J.formatDate(e.createdAt)),1)])]),(0,r.Lk)("div",U,[(0,r.bF)(ee,{to:`/my/referral/${e.referralTag}`,class:"history-button"},{default:(0,r.k6)((()=>a[21]||(a[21]=[(0,r.eW)(" Referral Actions History ")]))),_:2},1032,["to"])])])))),128))]))])]),(0,r.Q3)("",!0),J.showRewardsPopup?((0,r.uX)(),(0,r.CE)("div",G,[(0,r.Lk)("div",H,[(0,r.Lk)("div",M,[a[26]||(a[26]=(0,r.Lk)("h2",null,"Referral Rewards Details",-1)),(0,r.Lk)("button",{class:"close-button",onClick:a[3]||(a[3]=e=>J.showRewardsPopup=!1)},"×")]),(0,r.Lk)("div",j,[a[32]||(a[32]=(0,r.Lk)("h3",null,"How Rewards Are Calculated",-1)),a[33]||(a[33]=(0,r.Lk)("p",null,"Your reward percentage depends on your BITCAT token balance:",-1)),(0,r.Lk)("div",z,[(0,r.Lk)("div",{class:(0,s.C4)(["tier",{active:J.bitcatBalance>=0&&J.bitcatBalance<=0}])},a[27]||(a[27]=[(0,r.Lk)("div",{class:"tier-header"},"Basic",-1),(0,r.Lk)("div",{class:"tier-percentage"},"1%",-1),(0,r.Lk)("div",{class:"tier-requirement"},"0 BITCAT",-1)]),2),(0,r.Lk)("div",{class:(0,s.C4)(["tier",{active:J.bitcatBalance>=1e3&&J.bitcatBalance<=1e4}])},a[28]||(a[28]=[(0,r.Lk)("div",{class:"tier-header"},"Bronze",-1),(0,r.Lk)("div",{class:"tier-percentage"},"2%",-1),(0,r.Lk)("div",{class:"tier-requirement"},"1000 BITCAT",-1)]),2),(0,r.Lk)("div",{class:(0,s.C4)(["tier",{active:J.bitcatBalance>=10001&&J.bitcatBalance<=5e4}])},a[29]||(a[29]=[(0,r.Lk)("div",{class:"tier-header"},"Silver",-1),(0,r.Lk)("div",{class:"tier-percentage"},"3%",-1),(0,r.Lk)("div",{class:"tier-requirement"},"10,000 BITCAT",-1)]),2),(0,r.Lk)("div",{class:(0,s.C4)(["tier",{active:J.bitcatBalance>=50001&&J.bitcatBalance<=1e5}])},a[30]||(a[30]=[(0,r.Lk)("div",{class:"tier-header"},"Gold",-1),(0,r.Lk)("div",{class:"tier-percentage"},"4%",-1),(0,r.Lk)("div",{class:"tier-requirement"},"50,000 BITCAT",-1)]),2),(0,r.Lk)("div",{class:(0,s.C4)(["tier",{active:J.bitcatBalance>=100001}])},a[31]||(a[31]=[(0,r.Lk)("div",{class:"tier-header"},"Platinum",-1),(0,r.Lk)("div",{class:"tier-percentage"},"5%",-1),(0,r.Lk)("div",{class:"tier-requirement"},"100,000 BITCAT",-1)]),2)]),a[34]||(a[34]=(0,r.Fv)('<h3 data-v-7dee3396>Paid Actions That Generate Rewards</h3><ul class="rewards-actions" data-v-7dee3396><li data-v-7dee3396><span class="action-name" data-v-7dee3396>When your referrals interact with: </span><span class="action-description bold" data-v-7dee3396>Token launchpad, ATA Cashback</span><span class="action-description" data-v-7dee3396>More Coming Soon. Additional paid actions will be added in the future</span></li></ul><div class="rewards-note" data-v-7dee3396><p data-v-7dee3396><strong data-v-7dee3396>Note:</strong> To increase your reward percentage, you need to hold more BITCAT tokens in your connected wallet.</p></div>',3))])])])):(0,r.Q3)("",!0),(0,r.bF)(ae,{show:J.toast.show,message:J.toast.message,type:J.toast.type,onClose:a[4]||(a[4]=e=>J.toast.show=!1),duration:J.toast.duration},null,8,["show","message","type","duration"])])}var V=t(90144),Z=t(68881),ee=t(94373),ae=t(10587),te=t(94348),re={name:"UserReferralsPage",components:{AppToast:ae.A},setup(){const e=(0,r.EW)((()=>Z.A.getters.walletAddress)),a=(0,r.EW)((()=>Z.A.getters.userTag)),t=(0,r.EW)((()=>Z.A.getters.isAuthenticated)),s=(0,V.KR)([]),l=(0,V.KR)({totalReferrals:0,totalAvailable:0}),i=(0,V.KR)(!0),n=(0,V.KR)(null),c=(0,V.KR)(null),o=(0,V.KR)(!1),d=(0,V.KR)(0),u=(0,V.KR)(!1),v=(0,r.EW)((()=>d.value>=100001?5:d.value>=50001?4:d.value>=10001?3:d.value>=1e3?2:1)),p=async()=>{if(e.value&&e.value)try{const a=await ee.A.get(`/dapp/get-bitcat-balance/${e.value}`);a.data&&void 0!==a.data.balance&&(d.value=a.data.balance)}catch(a){te.error("Error fetching BITCAT balance:",a)}},k=(0,r.EW)((()=>e=>e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0"));(0,r.wB)((()=>e.value),(e=>{e?p():d.value=0}));const f=(0,V.Kh)({show:!1,message:"",type:"success",duration:5e3}),w=async()=>{if(t.value)try{i.value=!0;const e=await ee.A.get(`/referrals/${a.value}`);e.data.success&&(s.value=e.data.referrals);const t=await ee.A.get(`/referrals/${a.value}/stats`);t.data.success&&(l.value=t.data.stats)}catch(e){te.error("Error loading referrals:",e),g("Failed to load referrals","error")}finally{i.value=!1}},L=(0,V.KR)(!1),h=async()=>{try{L.value=!0;const e=await ee.A.post("/referrals/withdraw-payment");e.data.success&&(g(e.data.message,"success"),w())}catch(e){g(e.response?.data?.error||"Failed to withdraw payment","error")}finally{L.value=!1}},y=e=>{if(!e)return"Never";const a=new Date(e);return a.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},g=(e,a="success")=>{f.message=e,f.type=a,f.show=!0},m=async()=>{try{const e=`https://solanabitcat.com/?r=${a.value}`;await navigator.clipboard.writeText(e),o.value=!0,setTimeout((()=>{o.value=!1}),2e3),g("Referral link copied to clipboard","success")}catch(e){te.error("Failed to copy text: ",e),g("Failed to copy referral link","error")}};return(0,r.sV)((()=>{t.value&&w(),e.value&&p()})),{userTag:a,referrals:s,stats:l,loading:i,processingPayment:n,isWithdrawing:L,toast:f,referralLinkInput:c,referralLinkCopied:o,formatDate:y,withdrawPayment:h,copyReferralLink:m,isAuthenticated:t,bitcatBalance:d,rewardPercentage:v,showRewardsPopup:u,formatStakedAmount:k}}},se=t(71241);const le=(0,se.A)(re,[["render",J],["__scopeId","data-v-7dee3396"]]);var ie=le}}]);
//# sourceMappingURL=6132.8a331a61.js.map