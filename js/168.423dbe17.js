"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[168],{71241:function(a,s){s.A=(a,s)=>{const t=a.__vccOpts||a;for(const[l,i]of s)t[l]=i;return t}},70168:function(a,s,t){t.r(s),t.d(s,{default:function(){return G}});var l=t(56768),i=t(24232);const e={class:"cashback-history-page"},c={class:"main-content"},n={class:"history-container"},o={class:"filter-bar"},r={class:"back-link"},d={class:"stats-container"},u={class:"stat-card"},k={class:"stat-info"},v={class:"stat-value"},f={class:"stat-card"},g={class:"stat-info"},h={class:"stat-value"},L={key:0,class:"loading"},p={key:1,class:"error"},y={key:2,class:"no-data"},b={key:3,class:"history-table"},m={class:"history-list"},C={class:"history-row main-row"},A={class:"wallet"},w={class:"wallet-text"},_={class:"wallet-address"},T=["onClick"],E={class:"amount"},x={class:"accounts"},X={class:"history-row details-row"},W={class:"detail-group"},P={key:0,class:"detail-item cashback-id"},R={key:1,class:"detail-item user-tag"},B={class:"detail-group"},K={class:"detail-item date"},D={class:"detail-group transactions"},I=["href"],Q=["href"],S={key:4,class:"pagination"},F=["disabled"],$={class:"page-info"},O=["disabled"];function H(a,s,t,H,N,U){const V=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",e,[s[21]||(s[21]=(0,l.Lk)("div",{class:"header-cashback"},[(0,l.Lk)("div",{class:"title"},[(0,l.Lk)("h1",null,"Cashback History"),(0,l.Lk)("h3",null,"ATA Rent Recovery Transactions")])],-1)),(0,l.Lk)("div",c,[(0,l.Lk)("div",n,[(0,l.Lk)("div",o,[(0,l.Lk)("div",r,[(0,l.bF)(V,{to:"/cashback",class:"back-button"},{default:(0,l.k6)((()=>s[2]||(s[2]=[(0,l.Lk)("i",{class:"fas fa-arrow-left"},null,-1),(0,l.eW)(" Back to Cashback ")]))),_:1})]),(0,l.Lk)("div",d,[(0,l.Lk)("div",u,[s[4]||(s[4]=(0,l.Lk)("div",{class:"stat-icon"},[(0,l.Lk)("i",{class:"fas fa-coins"})],-1)),(0,l.Lk)("div",k,[(0,l.Lk)("div",v,(0,i.v_)(H.stats.solAmount)+" SOL",1),s[3]||(s[3]=(0,l.Lk)("div",{class:"stat-label"},"Total Reclaimed",-1))])]),(0,l.Lk)("div",f,[s[6]||(s[6]=(0,l.Lk)("div",{class:"stat-icon"},[(0,l.Lk)("i",{class:"fas fa-database"})],-1)),(0,l.Lk)("div",g,[(0,l.Lk)("div",h,(0,i.v_)(H.stats.ataAmount),1),s[5]||(s[5]=(0,l.Lk)("div",{class:"stat-label"},"ATAs Processed",-1))])])])]),H.loading?((0,l.uX)(),(0,l.CE)("div",L,s[7]||(s[7]=[(0,l.Lk)("i",{class:"fas fa-spinner fa-spin"},null,-1),(0,l.eW)(" Loading transaction history... ")]))):H.error?((0,l.uX)(),(0,l.CE)("div",p,[s[8]||(s[8]=(0,l.Lk)("i",{class:"fas fa-exclamation-circle"},null,-1)),(0,l.eW)(" "+(0,i.v_)(H.error),1)])):0===H.history.length?((0,l.uX)(),(0,l.CE)("div",y,s[9]||(s[9]=[(0,l.Lk)("p",null,"No transactions found",-1)]))):((0,l.uX)(),(0,l.CE)("div",b,[(0,l.Lk)("div",m,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(H.history,(a=>((0,l.uX)(),(0,l.CE)("div",{key:a.id,class:"history-item"},[(0,l.Lk)("div",C,[(0,l.Lk)("div",A,[s[11]||(s[11]=(0,l.Lk)("i",{class:"fas fa-wallet"},null,-1)),(0,l.Lk)("div",w,[(0,l.Lk)("div",_,(0,i.v_)(H.formatWalletAddress(a.walletAddress)),1),(0,l.Lk)("div",{class:"wallet-copy",onClick:s=>H.copyToClipboard(a.walletAddress)},s[10]||(s[10]=[(0,l.Lk)("i",{class:"fas fa-copy"},null,-1)]),8,T)])]),(0,l.Lk)("div",E,[s[12]||(s[12]=(0,l.Lk)("i",{class:"fas fa-coins"},null,-1)),(0,l.eW)(" +"+(0,i.v_)(a.solAmount)+" SOL ",1)]),(0,l.Lk)("div",x,[s[13]||(s[13]=(0,l.Lk)("i",{class:"fas fa-database"},null,-1)),(0,l.eW)(" "+(0,i.v_)(a.accountsCount)+" ATAs ",1)]),(0,l.Lk)("div",{class:(0,i.C4)(["type",{"type-burn":a.isBurn,"type-reclaim":!a.isBurn}])},[(0,l.Lk)("i",{class:(0,i.C4)(a.isBurn?"fas fa-fire":"fas fa-recycle")},null,2),(0,l.eW)(" "+(0,i.v_)(a.isBurn?"Burn":"Reclaim"),1)],2)]),(0,l.Lk)("div",X,[(0,l.Lk)("div",W,[a.cashbackId?((0,l.uX)(),(0,l.CE)("div",P,[s[14]||(s[14]=(0,l.Lk)("i",{class:"fas fa-hashtag"},null,-1)),(0,l.eW)(" ID: "+(0,i.v_)(a.cashbackId),1)])):(0,l.Q3)("",!0),a.userTag?((0,l.uX)(),(0,l.CE)("div",R,[s[15]||(s[15]=(0,l.Lk)("i",{class:"fas fa-user"},null,-1)),(0,l.eW)(" "+(0,i.v_)(a.userTag),1)])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",B,[(0,l.Lk)("div",K,[s[16]||(s[16]=(0,l.Lk)("i",{class:"far fa-calendar-alt"},null,-1)),(0,l.eW)(" "+(0,i.v_)(H.formatDate(a.date)),1)])]),(0,l.Lk)("div",D,[a.closeTx?((0,l.uX)(),(0,l.CE)("a",{key:0,href:`https://solscan.io/tx/${a.closeTx}`,target:"_blank",class:"tx-link"},s[17]||(s[17]=[(0,l.Lk)("i",{class:"fas fa-external-link-alt"},null,-1),(0,l.eW)(" Close TX ")]),8,I)):(0,l.Q3)("",!0),a.sendTx?((0,l.uX)(),(0,l.CE)("a",{key:1,href:`https://solscan.io/tx/${a.sendTx}`,target:"_blank",class:"tx-link"},s[18]||(s[18]=[(0,l.Lk)("i",{class:"fas fa-external-link-alt"},null,-1),(0,l.eW)(" Send TX ")]),8,Q)):(0,l.Q3)("",!0)])])])))),128))])])),H.pagination.totalPages>1?((0,l.uX)(),(0,l.CE)("div",S,[(0,l.Lk)("button",{onClick:s[0]||(s[0]=a=>H.changePage(H.pagination.page-1)),disabled:1===H.pagination.page,class:"page-button"},s[19]||(s[19]=[(0,l.Lk)("i",{class:"fas fa-chevron-left"},null,-1)]),8,F),(0,l.Lk)("div",$," Page "+(0,i.v_)(H.pagination.page)+" of "+(0,i.v_)(H.pagination.totalPages),1),(0,l.Lk)("button",{onClick:s[1]||(s[1]=a=>H.changePage(H.pagination.page+1)),disabled:H.pagination.page===H.pagination.totalPages,class:"page-button"},s[20]||(s[20]=[(0,l.Lk)("i",{class:"fas fa-chevron-right"},null,-1)]),8,O)])):(0,l.Q3)("",!0)])])])}var N=t(90144),U=t(94373),V=t(94348),j={name:"CashbackHistoryPage",setup(){const a=(0,N.KR)([]),s=(0,N.KR)(!0),t=(0,N.KR)(null),i=(0,N.KR)({page:1,limit:20,total:0,totalPages:0}),e=(0,N.KR)({solAmount:"0.00",ataAmount:0}),c=async(l=1)=>{try{s.value=!0,t.value=null;const e=await U.A.get("/ata-cashback/history",{params:{page:l,limit:i.value.limit}});e.data.success?(a.value=e.data.history,i.value=e.data.pagination):t.value="Failed to load transaction history"}catch(e){V.error("Error fetching cashback history:",e),t.value="Error loading transaction history"}finally{s.value=!1}},n=async()=>{try{const a=await U.A.get("/ata-cashback/stats");a.data.success&&a.data.stats&&(e.value=a.data.stats)}catch(t){V.error("Error fetching ATA cashback stats:",t)}},o=a=>{a>=1&&a<=i.value.totalPages&&(i.value.page=a,c(a),window.scrollTo(0,0))},r=a=>a?`${a.substring(0,4)}...${a.substring(a.length-4)}`:"",d=a=>{navigator.clipboard.writeText(a).then((()=>{})).catch((a=>{V.error("Failed to copy text: ",a)}))},u=a=>{if(!a)return"";const s=new Date(a);return s.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return(0,l.sV)((()=>{c(),n()})),{history:a,loading:s,error:t,pagination:i,stats:e,changePage:o,formatWalletAddress:r,copyToClipboard:d,formatDate:u}}},q=t(71241);const z=(0,q.A)(j,[["render",H],["__scopeId","data-v-3cc3ee3a"]]);var G=z}}]);
//# sourceMappingURL=168.423dbe17.js.map